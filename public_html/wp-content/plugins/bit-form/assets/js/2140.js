"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[2140],{14383:(e,t,l)=>{l.d(t,{FP:()=>n,Mm:()=>i,T5:()=>r,WK:()=>s,mG:()=>o,wX:()=>d});var a=l(87462),i=(l(35637),l(39492),function(e,t,l,i,s,n,r){var d=[].concat(e);if(r)d[n]=(0,a.Z)({},e[n],i),d.push({editItegration:!0}),t([].concat(d)),s.push(l);else{var o=[].concat(d);o.push(i),o.push({newItegration:!0}),t(o),s.push(l)}}),s=function(e){var t={},l=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");l&&l.forEach((function(e){var l=e.split("=");l[1]&&(t[l[0]]=l[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(t)),window.close()},n=function(e,t,l,i,s){var n=(0,a.Z)({},t);s?i?n.relatedlists[s-1].upload_field_map.splice(e,0,{}):n.relatedlists[s-1].field_map.splice(e,0,{}):i?n.upload_field_map.splice(e,0,{}):n.field_map.splice(e,0,{}),l((0,a.Z)({},n))},r=function(e,t,l,i,s){var n=(0,a.Z)({},t);s?i?n.relatedlists[s-1].upload_field_map.length>1&&n.relatedlists[s-1].upload_field_map.splice(e,1):n.relatedlists[s-1].field_map.length>1&&n.relatedlists[s-1].field_map.splice(e,1):i?n.upload_field_map.length>1&&n.upload_field_map.splice(e,1):n.field_map.length>1&&n.field_map.splice(e,1),l((0,a.Z)({},n))},d=function(e,t,l,i,s,n){var r=(0,a.Z)({},l);n?s?r.relatedlists[n-1].upload_field_map[t][e.target.name]=e.target.value:r.relatedlists[n-1].field_map[t][e.target.name]=e.target.value:s?r.upload_field_map[t][e.target.name]=e.target.value:r.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(n?r.relatedlists[n-1].field_map[t].customValue="":r.field_map[t].customValue=""),i((0,a.Z)({},r))},o=function(e,t,l,i,s){var n=(0,a.Z)({},l);s?n.relatedlists[s-1].field_map[t].customValue=e.target.value:n.field_map[t].customValue=e.target.value,i((0,a.Z)({},n))}},85813:(e,t,l)=>{l.d(t,{Z:()=>s});var a=l(35637),i=l(85893);function s(e){var t=e.step,l=e.saveConfig,s=e.edit,n=e.disabled;return s?(0,i.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,i.jsx)("button",{onClick:l,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:n,children:(0,a.__)("Update","bitform")})}):(0,i.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,i.jsx)("h2",{className:"ml-3",children:(0,a.__)("Successfully Integrated","bitform")}),(0,i.jsxs)("button",{onClick:l,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,a.__)("Finish & Save ","bitform")," ✔"]})]})}},94263:(e,t,l)=>{l.d(t,{Pd:()=>o,Rx:()=>d,XE:()=>n,eE:()=>r});var a=l(87462),i=l(35637),s=l(39492),n=function(e,t,l,n,r){n(!0),(0,s.Z)({},"bitforms_refresh_news_letter").then((function(e){if(e&&e.success){var s=(0,a.Z)({},t);s.default||(s.default={}),e.data.newsletterList&&(s.default.newsletterList=e.data.newsletterList),r({show:!0,msg:(0,i.__)("Newsletter list refreshed","bitform")}),l((0,a.Z)({},s))}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?r({show:!0,msg:""+(0,i.__)("Newsletter list refresh failed Cause:","bitform")+(e.data.data||e.data)+". "+(0,i.__)("please try again","bitform")}):r({show:!0,msg:(0,i.__)("Newsletter list refresh failed. please try again","bitform")});n(!1)})).catch((function(){return n(!1)}))},r=function(e,t,l,n){(0,s.Z)({},"bitforms_mail_poet_list_headers").then((function(s){if(s&&s.success){var r=(0,a.Z)({},e);if(s.data.mailPoetFields){r.default.fields=s.data.mailPoetFields;var d=r.default.fields;r.field_map=Object.values(d).filter((function(e){return e.required})).map((function(e){return{formField:"",mailPoetField:e.id,required:!0}})),n({show:!0,msg:(0,i.__)("Mailpoet fields refreshed","bitform")})}else n({show:!0,msg:(0,i.__)("No Mailpoet fields found. Try changing the header row number or try again","bitform")});s.data.tokenDetails&&(r.tokenDetails=s.data.tokenDetails),t((0,a.Z)({},r))}else n({show:!0,msg:(0,i.__)("Mailpoet fields refresh failed. please try again","bitform")});l(!1)})).catch((function(){return l(!1)}))},d=function(e,t,l){var i=(0,a.Z)({},t);i.name=e.target.value,l((0,a.Z)({},i))},o=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField&&e.mailPoetField&&e.required})):[]).length>0)}},19746:(e,t,l)=>{l.d(t,{Z:()=>_});var a=l(87462),i=l(97707),s=l(35637),n=l(68381),r=l(14383),d=l(94263),o=l(2804),u=l(54017),c=l(23312),m=l(80410),f=l(88530),p=l(85893);function h(e){var t,l,i,n=e.i,r=e.formFields,d=e.field,h=e.mailPoetConf,_=e.setMailPoetConf,b=d.required,v=(null==h||null==(t=h.default)?void 0:t.fields)&&Object.values(null==h||null==(l=h.default)?void 0:l.fields).filter((function(e){return""===e.required})),g=(0,o.sJ)(u.hi).isPro,x=function(e,t){var l=(0,a.Z)({},h);l.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(l.field_map[t].customValue=""),_(l)};return(0,p.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,p.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,p.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:d.formField||"",onChange:function(e){return x(e,n)},children:[(0,p.jsx)("option",{value:"",children:(0,s.__)("Select Field","bitform")}),(0,p.jsx)("optgroup",{label:"Form Fields",children:r.map((function(e){return"file-up"!==e.type&&(0,p.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)}))}),(0,p.jsx)("option",{value:"custom",children:(0,s.__)("Custom...","bitform")}),(0,p.jsx)("optgroup",{label:"General Smart Codes "+(g?"":"(PRO)"),children:g&&(null==m.C?void 0:m.C.map((function(e){return(0,p.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),"custom"===d.formField&&(0,p.jsx)(f.Z,{onChange:function(e){return function(e,t){var l=(0,a.Z)({},h);l.field_map[t].customValue=e.target.value,_(l)}(e,n)},label:(0,s.__)("Custom Value","bitform"),className:"mr-2",type:"text",value:d.customValue,placeholder:(0,s.__)("Custom Value","bitform")}),(0,p.jsxs)("select",{className:"btcd-paper-inp",name:"mailPoetField",value:d.mailPoetField,onChange:function(e){return x(e,n)},disabled:b,children:[(0,p.jsx)("option",{value:"",children:(0,s.__)("Select Field","bitform")}),b?(null==h||null==(i=h.default)?void 0:i.fields)&&Object.values(h.default.fields).map((function(e){return(0,p.jsx)("option",{value:e.id,children:e.name},e.id+"-1")})):v&&v.map((function(e){return(0,p.jsx)("option",{value:e.id,children:e.name},e.id+"-1")}))]})]}),!b&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{onClick:function(){return function(e){var t=(0,a.Z)({},h);t.field_map.splice(e,0,{}),_(t)}(n)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),(0,p.jsx)("button",{onClick:function(){return function(e){var t=(0,a.Z)({},h);t.field_map.length>1&&t.field_map.splice(e,1),_(t)}(n)},className:"icn-btn sh-sm ml-2",type:"button","aria-label":"btn",children:(0,p.jsx)(c.Z,{})})]})]})}function _(e){var t,l=e.formID,o=e.formFields,u=e.mailPoetConf,c=e.setMailPoetConf,m=e.isLoading,f=e.setisLoading,_=e.setSnackbar,b=function(e){var t=(0,a.Z)({},u);e?(t.lists=e?e.split(","):[],(0,d.eE)(t,c,f,_)):delete t.lists,c((0,a.Z)({},t))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("br",{}),(0,p.jsxs)("div",{className:"flx",children:[(0,p.jsx)("b",{className:"wdt-200 d-in-b",children:(0,s.__)("List: ","bitform")}),(0,p.jsx)(i.Z,{defaultValue:null==u?void 0:u.lists,className:"btcd-paper-drpdwn w-6",options:(null==u||null==(t=u.default)?void 0:t.newsletterList)&&Object.keys(u.default.newsletterList).map((function(e){return{label:u.default.newsletterList[e].newsletterName,value:u.default.newsletterList[e].newsletterId}})),onChange:function(e){return b(e)}}),(0,p.jsx)("button",{onClick:function(){return b(l)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh MailPoet List","bitform")+"'"},type:"button",disabled:m,children:"↻"})]}),m&&(0,p.jsx)(n.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),(null==u?void 0:u.lists)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"mt-4",children:(0,p.jsx)("b",{className:"wdt-100",children:(0,s.__)("Map Fields","bitform")})}),(0,p.jsx)("div",{className:"btcd-hr mt-1"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,s.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,s.__)("MailPoet Fields","bitform")})})]}),u.field_map.map((function(e,t){return(0,p.jsx)(h,{i:t,field:e,mailPoetConf:u,formFields:o,setMailPoetConf:c},"mailpoet-m-"+(t+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,r.FP)(u.field_map.length,u,c)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{})]})]})}},88530:(e,t,l)=>{l.d(t,{Z:()=>i});var a=l(85893);const i=function(e){var t=e.label,l=e.onChange,i=e.value,s=e.disabled,n=e.type,r=e.textarea,d=e.className;return(0,a.jsxs)("label",{className:"btcd-mt-inp "+d,children:[!r&&(0,a.jsx)("input",{type:void 0===n?"text":n,onChange:l,placeholder:" ",disabled:s,value:i}),r&&(0,a.jsx)("textarea",{type:void 0===n?"text":n,onChange:l,placeholder:" ",disabled:s,value:i}),(0,a.jsx)("span",{children:t})]})}}}]);