"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[7676],{14383:(e,t,i)=>{i.d(t,{FP:()=>r,Mm:()=>l,T5:()=>s,WK:()=>n,mG:()=>o,wX:()=>d});var a=i(87462),l=(i(35637),i(39492),function(e,t,i,l,n,r,s){var d=[].concat(e);if(s)d[r]=(0,a.Z)({},e[r],l),d.push({editItegration:!0}),t([].concat(d)),n.push(i);else{var o=[].concat(d);o.push(l),o.push({newItegration:!0}),t(o),n.push(i)}}),n=function(e){var t={},i=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");i&&i.forEach((function(e){var i=e.split("=");i[1]&&(t[i[0]]=i[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(t)),window.close()},r=function(e,t,i,l,n){var r=(0,a.Z)({},t);n?l?r.relatedlists[n-1].upload_field_map.splice(e,0,{}):r.relatedlists[n-1].field_map.splice(e,0,{}):l?r.upload_field_map.splice(e,0,{}):r.field_map.splice(e,0,{}),i((0,a.Z)({},r))},s=function(e,t,i,l,n){var r=(0,a.Z)({},t);n?l?r.relatedlists[n-1].upload_field_map.length>1&&r.relatedlists[n-1].upload_field_map.splice(e,1):r.relatedlists[n-1].field_map.length>1&&r.relatedlists[n-1].field_map.splice(e,1):l?r.upload_field_map.length>1&&r.upload_field_map.splice(e,1):r.field_map.length>1&&r.field_map.splice(e,1),i((0,a.Z)({},r))},d=function(e,t,i,l,n,r){var s=(0,a.Z)({},i);r?n?s.relatedlists[r-1].upload_field_map[t][e.target.name]=e.target.value:s.relatedlists[r-1].field_map[t][e.target.name]=e.target.value:n?s.upload_field_map[t][e.target.name]=e.target.value:s.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(r?s.relatedlists[r-1].field_map[t].customValue="":s.field_map[t].customValue=""),l((0,a.Z)({},s))},o=function(e,t,i,l,n){var r=(0,a.Z)({},i);n?r.relatedlists[n-1].field_map[t].customValue=e.target.value:r.field_map[t].customValue=e.target.value,l((0,a.Z)({},r))}},85813:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(35637),l=i(85893);function n(e){var t=e.step,i=e.saveConfig,n=e.edit,r=e.disabled;return n?(0,l.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,l.jsx)("button",{onClick:i,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:r,children:(0,a.__)("Update","bitform")})}):(0,l.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,l.jsx)("h2",{className:"ml-3",children:(0,a.__)("Successfully Integrated","bitform")}),(0,l.jsxs)("button",{onClick:i,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,a.__)("Finish & Save ","bitform")," ✔"]})]})}},16670:(e,t,i)=>{i.d(t,{P_:()=>m,Pd:()=>c,Rx:()=>s,YG:()=>d,gn:()=>o});var a=i(87462),l=i(80160),n=i(35637),r=i(39492),s=function(e,t,i,l,n,r,s,d){var o=(0,a.Z)({},t),c=e.target.name;""!==e.target.value?o[c]=e.target.value:delete o[c],i((0,a.Z)({},o))},d=function(e,t,i,s){i(!0);var d={username:e.username,password:e.password},o=(0,r.Z)(d,"bitforms_rapidmail_get_all_recipients").then((function(l){if(l&&l.success){var n=(0,a.Z)({},e);return n.default||(n.default={}),l.data.recipientlists&&(n.default.recipientlists=l.data.recipientlists),t((0,a.Z)({},n)),i(!1),"Recipientlist refreshed successfully"}return i(!1),"Recipientlist refresh failed. please try again"}));l.ZP.promise(o,{success:function(e){return e},error:(0,n.__)("Error Occurred","bitform"),loading:(0,n.__)("Loading Recipientslist...")})},o=function(e){var t=null==e?void 0:e.recipientsFields.filter((function(e){return!0===e.required}));return t.length>0?t.map((function(e){return{formField:"",rapidmailFormField:e.key}})):[{formField:"",rapidmailFormField:""}]},c=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField||!e.rapidmailFormField||"custom"===!e.formField&&!e.customValue})):[]).length>0)},m=function(e,t,i,l,s,d){if(e.username&&e.password){i({}),s(!0);var o={username:e.username,password:e.password};(0,r.Z)(o,"bitforms_rapidmail_authorization").then((function(e){return e})).then((function(i){if(i&&i.success){var r=(0,a.Z)({},e);r.tokenDetails=i.data,t(r),l(!0),d({show:!0,msg:(0,n.__)("Authorized Successfully","bitform")})}else i&&i.data&&i.data.data||!i.success&&"string"===typeof i.data?d({show:!0,msg:""+(0,n.__)("Authorization failed Cause:","bitform")+(i.data.data||i.data)+". "+(0,n.__)("please try again","bitform")}):d({show:!0,msg:(0,n.__)("Authorization failed. please try again","bitform")});s(!1)}))}else i({username:e.username?"":(0,n.__)("Username can't be empty","bitform"),password:e.password?"":(0,n.__)("Password can't be empty","bitform")})}},96288:(e,t,i)=>{i.d(t,{Z:()=>v});i(67294);var a=i(35637),l=i(87462),n=function(e,t,i){var a=(0,l.Z)({},t);a.field_map.splice(e,0,{}),i((0,l.Z)({},a))},r=function(e,t,i,a){var n=(0,l.Z)({},i);n.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(n.field_map[t].customValue=""),a((0,l.Z)({},n))},s=i(23921),d=i(85893);function o(e){var t,i=e.rapidmailConf,n=e.setRapidmailConf;e.formFields;return(0,d.jsx)("div",{className:"pos-rel d-flx w-8",children:(0,d.jsx)(s.Z,{checked:(null==(t=i.actions)?void 0:t.send_activationmail)||!1,onChange:function(e){return function(e,t){var a=(0,l.Z)({},i);"send_activationmail"===t&&(e.target.checked?a.actions.send_activationmail=!0:delete a.actions.send_activationmail),n((0,l.Z)({},a))}(e,"send_activationmail")},className:"wdt-200 mt-4 mr-2",value:"send_activationmail",title:(0,a.__)("Send Activation Email","bitform"),subTitle:(0,a.__)("Add Send Activation Email","bitform")})})}var c=i(16670),m=i(2804),u=i(88530),p=i(80410),f=i(54017),_=i(23312);function h(e){var t,i=e.i,s=e.formFields,o=e.field,h=e.rapidmailConf,v=e.setRapidmailConf;if(1===(null==h||null==(t=h.field_map)?void 0:t.length)&&""===o.rapidmailFormField){var b=(0,l.Z)({},h),g=(0,c.gn)(b);b.field_map=g,v(b)}var x=(null==h?void 0:h.recipientsFields.filter((function(e){return!0===e.required})))||[],j=(null==h?void 0:h.recipientsFields.filter((function(e){return!1===e.required})))||[],F=(0,m.sJ)(f.hi).isPro;return(0,d.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,d.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,d.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:o.formField||"",onChange:function(e){return r(e,i,h,v)},children:[(0,d.jsx)("option",{value:"",children:(0,a.__)("Select Field","bitform")}),(0,d.jsx)("optgroup",{label:"Form Fields",children:null==s?void 0:s.map((function(e){return(0,d.jsx)("option",{value:e.key,children:e.name},"ff-rm-"+e.key)}))}),(0,d.jsx)("option",{value:"custom",children:(0,a.__)("Custom...","bitform")}),(0,d.jsx)("optgroup",{label:"General Smart Codes "+(F?"":"(PRO)"),children:F&&(null==p.C?void 0:p.C.map((function(e){return(0,d.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),"custom"===o.formField&&(0,d.jsx)(u.Z,{onChange:function(e){return function(e,t,i,a){var n=(0,l.Z)({},i);n.field_map[t].customValue=e.target.value,a((0,l.Z)({},n))}(e,i,h,v)},label:(0,a.__)("Custom Value","bitform"),className:"mr-2",type:"text",value:o.customValue,placeholder:(0,a.__)("Custom Value","bitform")}),(0,d.jsxs)("select",{className:"btcd-paper-inp",disabled:i<x.length,name:"rapidmailFormField",value:i<x?x[i].label||"":o.rapidmailFormField||"",onChange:function(e){return r(e,i,h,v)},children:[(0,d.jsx)("option",{value:"",children:(0,a.__)("Select Field","bitform")}),i<x.length?(0,d.jsx)("option",{value:x[i].key,children:x[i].label},x[i].key):j.map((function(e){var t=e.key,i=e.label;return(0,d.jsx)("option",{value:t,children:i},t)}))]})]}),i>=x.length&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{onClick:function(){return n(i,h,v)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),(0,d.jsx)("button",{onClick:function(){return function(e,t,i){var a=(0,l.Z)({},t);a.field_map.length>1&&a.field_map.splice(e,1),i((0,l.Z)({},a))}(i,h,v)},className:"icn-btn sh-sm",type:"button","aria-label":"btn",children:(0,d.jsx)(_.Z,{})})]})]})}function v(e){var t,i=e.formFields,l=e.handleInput,r=e.rapidmailConf,s=e.setRapidmailConf,m=e.isLoading,u=e.setIsLoading,p=e.setSnackbar;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)("b",{className:"wdt-200 d-in-b",children:(0,a.__)("Recipient:","bitform")}),(0,d.jsxs)("select",{onChange:l,name:"recipient_id",value:null==r?void 0:r.recipient_id,className:"btcd-paper-inp w-5",children:[(0,d.jsx)("option",{value:"",children:(0,a.__)("Select Recipients","bitform")}),(null==r||null==(t=r.default)?void 0:t.recipientlists)&&r.default.recipientlists.map((function(e){var t=e.id,i=e.name;return(0,d.jsx)("option",{value:t,children:i},t)}))]}),(0,d.jsx)("button",{onClick:function(){return(0,c.YG)(r,s,u,p)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,a.__)("Fetch All Recipients","bitform")+"'"},type:"button",disabled:m,children:"↻"}),(0,d.jsx)("br",{}),(0,d.jsx)("div",{className:"mt-5",children:(0,d.jsx)("b",{className:"wdt-100",children:(0,a.__)("Field Map","bitform")})}),(0,d.jsx)("div",{className:"btcd-hr mt-1"}),(0,d.jsxs)("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[(0,d.jsx)("div",{className:"txt-dp",children:(0,d.jsx)("b",{children:(0,a.__)("Form Fields","bitform")})}),(0,d.jsx)("div",{className:"txt-dp",children:(0,d.jsx)("b",{children:(0,a.__)("Rapidmail Fields","bitform")})})]}),(null==r?void 0:r.recipient_id)&&(null==r?void 0:r.field_map.map((function(e,t){return(0,d.jsx)(h,{i:t,field:e,rapidmailConf:r,formFields:i,setRapidmailConf:s,setSnackbar:p},"rp-m-"+(t+9))}))),(0,d.jsx)("div",{className:"txt-center mt-2",style:{marginRight:85},children:(0,d.jsx)("button",{onClick:function(){return n(r.field_map.length,r,s)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(null==r?void 0:r.recipient_id)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)("b",{className:"wdt-100",children:(0,a.__)("Actions","bitform")})}),(0,d.jsx)("div",{className:"btcd-hr mt-1"}),(0,d.jsx)(o,{rapidmailConf:r,setRapidmailConf:s,formFields:i})]})]})}},88530:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(85893);const l=function(e){var t=e.label,i=e.onChange,l=e.value,n=e.disabled,r=e.type,s=e.textarea,d=e.className;return(0,a.jsxs)("label",{className:"btcd-mt-inp "+d,children:[!s&&(0,a.jsx)("input",{type:void 0===r?"text":r,onChange:i,placeholder:" ",disabled:n,value:l}),s&&(0,a.jsx)("textarea",{type:void 0===r?"text":r,onChange:i,placeholder:" ",disabled:n,value:l}),(0,a.jsx)("span",{children:t})]})}}}]);