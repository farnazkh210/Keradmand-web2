"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[9164],{14383:(e,t,a)=>{a.d(t,{FP:()=>s,Mm:()=>i,T5:()=>r,WK:()=>l,mG:()=>c,wX:()=>o});var n=a(87462),i=(a(35637),a(39492),function(e,t,a,i,l,s,r){var o=[].concat(e);if(r)o[s]=(0,n.Z)({},e[s],i),o.push({editItegration:!0}),t([].concat(o)),l.push(a);else{var c=[].concat(o);c.push(i),c.push({newItegration:!0}),t(c),l.push(a)}}),l=function(e){var t={},a=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");a&&a.forEach((function(e){var a=e.split("=");a[1]&&(t[a[0]]=a[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(t)),window.close()},s=function(e,t,a,i,l){var s=(0,n.Z)({},t);l?i?s.relatedlists[l-1].upload_field_map.splice(e,0,{}):s.relatedlists[l-1].field_map.splice(e,0,{}):i?s.upload_field_map.splice(e,0,{}):s.field_map.splice(e,0,{}),a((0,n.Z)({},s))},r=function(e,t,a,i,l){var s=(0,n.Z)({},t);l?i?s.relatedlists[l-1].upload_field_map.length>1&&s.relatedlists[l-1].upload_field_map.splice(e,1):s.relatedlists[l-1].field_map.length>1&&s.relatedlists[l-1].field_map.splice(e,1):i?s.upload_field_map.length>1&&s.upload_field_map.splice(e,1):s.field_map.length>1&&s.field_map.splice(e,1),a((0,n.Z)({},s))},o=function(e,t,a,i,l,s){var r=(0,n.Z)({},a);s?l?r.relatedlists[s-1].upload_field_map[t][e.target.name]=e.target.value:r.relatedlists[s-1].field_map[t][e.target.name]=e.target.value:l?r.upload_field_map[t][e.target.name]=e.target.value:r.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(s?r.relatedlists[s-1].field_map[t].customValue="":r.field_map[t].customValue=""),i((0,n.Z)({},r))},c=function(e,t,a,i,l){var s=(0,n.Z)({},a);l?s.relatedlists[l-1].field_map[t].customValue=e.target.value:s.field_map[t].customValue=e.target.value,i((0,n.Z)({},s))}},85813:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(35637),i=a(85893);function l(e){var t=e.step,a=e.saveConfig,l=e.edit,s=e.disabled;return l?(0,i.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,i.jsx)("button",{onClick:a,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:s,children:(0,n.__)("Update","bitform")})}):(0,i.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,i.jsx)("h2",{className:"ml-3",children:(0,n.__)("Successfully Integrated","bitform")}),(0,i.jsxs)("button",{onClick:a,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,n.__)("Finish & Save ","bitform")," ✔"]})]})}},59281:(e,t,a)=>{a.d(t,{P_:()=>m,Rx:()=>s,V9:()=>c,WK:()=>d,Zo:()=>o});var n=a(87462),i=a(35637),l=a(39492),s=function(e,t,a,i,l,s,o,c,d){var m=(0,n.Z)({},t);if(o){var p=(0,n.Z)({},c);p[e.target.name]="",d((0,n.Z)({},p))}if(m[e.target.name]=e.target.value,"template"===e.target.name)m=r(m,i,a,l,s);a((0,n.Z)({},m))},r=function(e,t,a,i,l){var s,r,o=(0,n.Z)({},e);return o.table="",o.field_map=[{formField:"",zohoFormField:""}],delete o.templateActions,null!=o&&null!=(s=o.default)&&null!=(r=s.templateDetails)&&r[e.template]||c(t,o,a,i,l),o},o=function(e,t,a,s,r){s(!0);var o={formID:e,id:t.id,dataCenter:t.dataCenter,clientId:t.clientId,clientSecret:t.clientSecret,tokenDetails:t.tokenDetails};(0,l.Z)(o,"bitforms_zsign_refresh_templates").then((function(e){if(e&&e.success){var l=(0,n.Z)({},t);l.default||(l.default={}),e.data.templates&&(l.default.templates=e.data.templates),e.data.tokenDetails&&(l.tokenDetails=e.data.tokenDetails),r({show:!0,msg:(0,i.__)("Templates refreshed","bitform")}),a((0,n.Z)({},l))}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?r({show:!0,msg:(0,i.g)((0,i.__)("Templates refresh failed Cause: %s. please try again","bitform"),e.data.data||e.data)}):r({show:!0,msg:(0,i.__)("Templates refresh failed. please try again","bitform")});s(!1)})).catch((function(){return s(!1)}))},c=function(e,t,a,s,r){var o=t.template;s(!0);var c={formID:e,id:t.id,dataCenter:t.dataCenter,clientId:t.clientId,clientSecret:t.clientSecret,tokenDetails:t.tokenDetails,template:o};(0,l.Z)(c,"bitforms_zsign_refresh_template_details").then((function(e){if(e&&e.success){var l=(0,n.Z)({},t);l.default||(l.default={}),l.default.templateDetails||(l.default.templateDetails={}),e.data.templateDetails&&(l.default.templateDetails[o]=e.data.templateDetails),e.data.tokenDetails&&(l.tokenDetails=e.data.tokenDetails),r({show:!0,msg:(0,i.__)("Template Details refreshed","bitform")}),a((0,n.Z)({},l))}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?r({show:!0,msg:(0,i.g)((0,i.__)("Template Details refresh failed Cause: %s. please try again","bitform"),e.data.data||e.data)}):r({show:!0,msg:(0,i.__)("Template Details refresh failed. please try again","bitform")});s(!1)})).catch((function(){return s(!1)}))},d=function(e){var t={},a=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");a&&a.forEach((function(e){var a=e.split("=");a[1]&&(t[a[0]]=a[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(t)),window.close()},m=function(e,t,a,l,s,r){if(e.dataCenter&&e.clientId&&e.clientSecret){s(!0);var o="https://accounts.zoho."+e.dataCenter+"/oauth/v2/auth?scope=ZohoSign.templates.CREATE,ZohoSign.templates.READ,ZohoSign.templates.UPDATE&response_type=code&client_id="+e.clientId+"&prompt=Consent&access_type=offline&redirect_uri="+encodeURIComponent(window.location.href)+"/redirect",c=window.open(o,"zohoSign","width=400,height=609,toolbar=off"),d=setInterval((function(){if(c.closed){clearInterval(d);var a={},o=!1,m=localStorage.getItem("__bitforms_zohoSign");if(m&&(o=!0,a=JSON.parse(m),localStorage.removeItem("__bitforms_zohoSign")),a.code&&!a.error&&a&&o){var u=(0,n.Z)({},e);u.accountServer=a["accounts-server"],p(a,u,t,l,s,r)}else{var f=a.error?"Cause: "+a.error:"";r({show:!0,msg:(0,i.__)("Authorization failed","bitform")+" "+f+". "+(0,i.__)("please try again","bitform")}),s(!1)}}}),500)}else a({dataCenter:e.dataCenter?"":(0,i.__)("Data center cann't be empty","bitform"),clientId:e.clientId?"":(0,i.__)("Client ID cann't be empty","bitform"),clientSecret:e.clientSecret?"":(0,i.__)("Secret key cann't be empty","bitform")})},p=function(e,t,a,s,r,o){var c=(0,n.Z)({},e);c.dataCenter=t.dataCenter,c.clientId=t.clientId,c.clientSecret=t.clientSecret,c.redirectURI=encodeURIComponent(window.location.href)+"/redirect",(0,l.Z)(c,"bitforms_zsign_generate_token").then((function(e){return e})).then((function(e){if(e&&e.success){var l=(0,n.Z)({},t);l.tokenDetails=e.data,a(l),s(!0),o({show:!0,msg:(0,i.__)("Authorized Successfully","bitform")})}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?o({show:!0,msg:""+(0,i.__)("Authorization failed Cause:","bitform")+(e.data.data||e.data)+". "+(0,i.__)("please try again","bitform")}):o({show:!0,msg:(0,i.__)("Authorization failed. please try again","bitform")});r(!1)}))}},74445:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(12902),i=a(67294),l=a(97707),s=(a(78774),a(2804)),r=a(54017),o=a(80736),c=a(52249),d=a(35637),m=a(68381),p=a(34401),u=a(93429),f=a(59281),_=a(85893);function h(e){var t,a,h,v,b,g,x,w,j,y,N=e.formID,S=e.formFields,C=e.signConf,Z=e.setSignConf,I=e.isLoading,D=e.setisLoading,k=e.setSnackbar,R=(0,s.sJ)(r.uJ),A=(0,i.useState)({show:!1}),P=A[0],z=A[1];!C.template||null==C||null==(t=C.default)||null==(a=t.templateDetails)||!a[null==C?void 0:C.template]||null!=C&&C.templateActions&&C.templateActions.length===(null==C||null==(h=C.default)||null==(v=h.templateDetails)||null==(b=v[null==C?void 0:C.template])||null==(g=b.actions)?void 0:g.length)||(C.templateActions=C.default.templateDetails[C.template].actions.map((function(e){return{action_id:e.action_id,action_type:e.action_type,language:e.language,private_notes:e.private_notes,recipient_countrycode:e.recipient_countrycode,recipient_email:e.recipient_email,recipient_name:e.recipient_name,recipient_phonenumber:e.recipient_phonenumber,in_person_name:e.in_person_name||"",in_person_email:e.in_person_email||"",role:e.role,verify_recipient:e.verify_recipient,verification_type:e.verification_type||""}})),C.notes=C.default.templateDetails[C.template].notes||"");var E=function(e,t,a){Z((function(n){var i=(0,c.p$)(n);return"notes"===e?i.notes=a:i.templateActions[e][t]=a,i}))},T=function(){z({show:!1})};return(0,_.jsxs)(_.Fragment,{children:[I&&(0,_.jsx)(m.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),(0,_.jsxs)("div",{className:"flx",children:[(0,_.jsx)("b",{className:"wdt-100",children:(0,d.__)("Templates:","bitform")}),(0,_.jsxs)("select",{className:"btcd-paper-inp w-4",onChange:function(e){return(0,f.Rx)(e,C,Z,N,D,k)},name:"template",value:C.template,children:[(0,_.jsx)("option",{value:"",children:(0,d.__)("Select Template","bitform")}),(null==C||null==(x=C.default)?void 0:x.templates)&&Object.values(C.default.templates).map((function(e){return(0,_.jsx)("option",{value:e.templateId,children:e.templateName},e.templateId)}))]}),(0,_.jsx)("button",{onClick:function(){return(0,f.Zo)(N,C,Z,D,k)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,d.__)("Refresh Sign Templates","bitform")+"'"},type:"button",disabled:I,children:"↻"})]}),(0,_.jsx)("br",{}),(0,_.jsx)("br",{}),(0,_.jsx)("b",{className:"wdt-100",children:(0,d.__)("Recipients:","bitform")}),(0,_.jsx)("button",{onClick:function(){return(0,f.V9)(N,C,Z,D,k)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,d.__)("Refresh Template Details","bitform")+"'"},type:"button",disabled:I,children:"↻"}),null==C||null==(w=C.templateActions)?void 0:w.map((function(e,t){return(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:"flx mt-2",children:[(0,_.jsx)("input",{type:"text",value:t+1,readOnly:!0,className:"btcd-paper-inp mr-1",style:{width:40}}),(0,_.jsx)("input",{className:"btcd-paper-inp w-3",type:"text",value:e.role,readOnly:!0})]}),"INPERSONSIGN"===e.action_type&&(0,_.jsxs)("div",{className:"flx mt-2",style:{marginLeft:45},children:[(0,_.jsx)("input",{type:"text",value:"Signer",readOnly:!0,className:"btcd-paper-inp mr-1 mt-4 w-1"}),(0,_.jsxs)("div",{className:"mr-2 w-4",children:[(0,_.jsx)("div",{className:"mb-1",children:(0,d.__)("In Person Email (Optional)","bitform")}),(0,_.jsx)(l.Z,{className:"msl-wrp-options btcd-paper-drpdwn w-10",defaultValue:e.in_person_email,options:S.map((function(e){return{label:e.name,value:"${"+e.key+"}"}})),onChange:function(e){return E(t,"in_person_email",e)},placeholder:(0,d.__)("In Person Email","bitform"),singleSelect:!0,customValue:!0})]}),(0,_.jsxs)("div",{className:"mr-2 w-4",children:[(0,_.jsx)("div",{className:"mb-1",children:(0,d.__)("In Person Name","bitform")}),(0,_.jsx)(l.Z,{className:"msl-wrp-options btcd-paper-drpdwn w-10",defaultValue:e.in_person_name,options:S.map((function(e){return{label:e.name,value:"${"+e.key+"}"}})),onChange:function(e){return E(t,"in_person_name",e)},placeholder:(0,d.__)("In Person Name","bitform"),singleSelect:!0,customValue:!0})]})]}),(0,_.jsxs)("div",{className:"flx mt-2",style:{marginLeft:45},children:["INPERSONSIGN"===e.action_type&&(0,_.jsx)("input",{type:"text",value:"Host",readOnly:!0,className:"btcd-paper-inp mr-1 mt-4 w-1"}),(0,_.jsxs)("div",{className:"mr-2 w-3",children:[(0,_.jsx)("div",{className:"mb-1",children:(0,d.__)("Recipient Email","bitform")}),(0,_.jsx)(l.Z,{className:"msl-wrp-options btcd-paper-drpdwn w-10",defaultValue:e.recipient_email,options:S.map((function(e){return{label:e.name,value:"${"+e.key+"}"}})),onChange:function(e){return E(t,"recipient_email",e)},placeholder:(0,d.__)("Recipient Email","bitform"),singleSelect:!0,customValue:!0})]}),(0,_.jsxs)("div",{className:"mr-2 w-3",children:[(0,_.jsx)("div",{className:"mb-1",children:(0,d.__)("Recipient Name","bitform")}),(0,_.jsx)(l.Z,{className:"msl-wrp-options btcd-paper-drpdwn w-10",defaultValue:e.recipient_name,options:S.map((function(e){return{label:e.name,value:"${"+e.key+"}"}})),onChange:function(e){return E(t,"recipient_name",e)},placeholder:(0,d.__)("Recipient Email","bitform"),singleSelect:!0,customValue:!0})]}),(0,_.jsxs)("div",{className:"mr-2 w-1",children:[(0,_.jsx)("div",{className:"mb-1",children:(0,d.__)("Language","bitform")}),(0,_.jsxs)("select",{onChange:function(e){return E(t,"language",e.target.value)},className:"btcd-paper-inp",value:e.language,children:[(0,_.jsx)("option",{value:"en",children:"English"}),(0,_.jsx)("option",{value:"fr",children:"French"}),(0,_.jsx)("option",{value:"de",children:"German"}),(0,_.jsx)("option",{value:"it",children:"Italian"}),(0,_.jsx)("option",{value:"ja",children:"Japanese"}),(0,_.jsx)("option",{value:"pl",children:"Polish"}),(0,_.jsx)("option",{value:"pt",children:"Portuguese"}),(0,_.jsx)("option",{value:"ru",children:"Russian"}),(0,_.jsx)("option",{value:"es",children:"Spanish"}),(0,_.jsx)("option",{value:"sv",children:"Swedish"})]})]}),(0,_.jsxs)("div",{className:"mr-1 w-2",children:[(0,_.jsx)("div",{className:"mb-1",children:(0,d.__)("Role","bitform")}),(0,_.jsx)("input",{type:"text",value:e.action_type,readOnly:!0,className:"btcd-paper-inp"})]}),(0,_.jsx)("button",{onClick:function(){z({show:"private_notes",indx:t})},className:"icn-btn mr-1 mt-3 tooltip",style:{"--tooltip-txt":"'"+(0,d.__)("Private Note","bitform")+"'"},"aria-label":"Private Message",type:"button",children:(0,_.jsx)(o.Z,{size:"21"})})]})]},e.role)})),(0,_.jsxs)("div",{className:"mt-5",children:[(0,_.jsx)("b",{className:"wdt-100",children:(0,d.__)("Leave a Note:","bitform")}),(0,_.jsx)(u.Z,{id:"body-content",formFields:R,value:C.notes,onChangeHandler:function(e){Z((function(t){return(0,n.ZP)(t,(function(t){t.notes=e}))}))}})]}),(0,_.jsxs)(p.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:"Ok",show:"private_notes"===P.show,close:T,action:T,title:(0,d.__)("Private Note","bitform"),children:[(0,_.jsx)("div",{className:"btcd-hr mt-2 mb-2"}),(0,_.jsxs)("select",{className:"btcd-paper-inp w-5",onChange:function(e){return t=e.target.value,void Z((function(e){var a=(0,c.p$)(e);return a.templateActions[P.indx].private_notes+=t,a}));var t},children:[(0,_.jsx)("option",{value:"",children:(0,d.__)("Field","bitform")}),S.map((function(e){return"file-up"!==e.type&&(0,_.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]}),(0,_.jsx)("textarea",{rows:"5",className:"btcd-paper-inp mt-2",onChange:function(e){return E(P.indx,"private_notes",e.target.value)},value:null==(j=C.templateActions)||null==(y=j[P.indx])?void 0:y.private_notes})]})]})}}}]);