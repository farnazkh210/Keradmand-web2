"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[6427],{81194:(e,t,l)=>{l.d(t,{I:()=>i});var i=[{key:"post_title",name:"Post Title",required:!0},{key:"post_name",name:"Post Name"},{key:"post_content",name:"Post Content"},{key:"post_excerpt",name:"Post Excerpt"},{key:"_thumbnail_id",name:"Featured Image"}]},36427:(e,t,l)=>{l.r(t),l.d(t,{default:()=>h});var i=l(87462),n=l(67294),a=l(5977),s=l(39492),r=l(35637),o=l(81194),c=l(38585),d=l(35001),m=l(14383),u=l(60581),p=l(71700),f=l(85893);const h=function(e){var t=e.formFields,l=e.setIntegration,h=e.integrations,_=e.allIntegURL,x=(0,n.useState)([]),v=x[0],b=x[1],j=(0,n.useState)([]),g=j[0],y=j[1],F=(0,n.useState)({show:!1}),N=F[0],C=F[1],k=(0,a.k6)(),Z=(0,n.useState)([]),w=Z[0],P=Z[1],S=(0,n.useState)([]),A=S[0],T=S[1],I=(0,n.useState)({name:"CPT/Post Creation With ACF",type:"ACF",post_map:[{}],acf_map:[{}],acf_file_map:[{}]}),q=I[0],V=I[1],z=function(e,t,l){var n=(0,i.Z)({},q);n[e]=l?Number(t):t,V(n)};return(0,n.useEffect)((function(){(0,s.Z)({},"bitforms_get_post_type").then((function(e){var t,l;null!=e&&e.success&&(b(Object.values(null==e||null==(t=e.data)?void 0:t.post_types)),y(null==e||null==(l=e.data)?void 0:l.users))}));var e=(0,i.Z)({},q);e.post_map=o.I.filter((function(e){return e.required})).map((function(e){return{formField:"",postField:e.key,required:e.required}})),V(e)}),[]),(0,f.jsxs)("div",{style:{width:900},children:[(0,f.jsx)(d.Z,{snack:N,setSnackbar:C}),(0,f.jsx)("div",{className:"mt-3",children:(0,f.jsx)("b",{children:(0,r.__)("Integration Name ","bitform")})}),(0,f.jsx)("input",{className:"btcd-paper-inp w-5 mt-1",onChange:function(e){return z(e.target.name,e.target.value)},name:"name",value:q.name,type:"text",placeholder:(0,r.__)("Integration Name...","bitform")}),(0,f.jsxs)("div",{className:"mt-3 flx",children:[(0,f.jsx)("b",{children:(0,r.__)("Post Type","bitform")}),(0,f.jsx)(c.Z,{width:250,icnSize:17,className:"ml-2",children:(0,f.jsxs)("div",{className:"txt-body",children:["Select one of the defined WordPress post types Or custom post types for the post.",(0,f.jsx)("br",{})]})})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("select",{name:"post_type",onChange:function(e){return function(e,t){var l=(0,i.Z)({},q);l[e]=t,(0,s.Z)({post_type:t},"bitforms_get_custom_field").then((function(e){var t,i,n,a,s;null!=e&&e.success&&void 0!==e&&(P(null==e||null==(t=e.data)?void 0:t.acfFields),T(null==e||null==(i=e.data)?void 0:i.acfFile),null!=e&&null!=(n=e.data)&&n.acfFields&&(l.acf_map=e.data.acfFields.filter((function(e){return e.required})).map((function(e){return{formField:"",acfField:e.key,required:e.required}})),l.acf_map.length<1&&(l.acf_map=[{}])),null!=e&&null!=(a=e.data)&&a.acfFile&&(l.acf_file_map=e.data.acfFile.filter((function(e){return e.required})).map((function(e){return{formField:"",acfFileUpload:e.key,required:e.required}})),(null==l||null==(s=l.acf_file_map)?void 0:s.length)<1&&(l.acf_file_map=[{}])),V(l))}))}(e.target.name,e.target.value)},className:"btcd-paper-inp w-5 mt-1",children:[(0,f.jsx)("option",{disabled:!0,selected:!0,children:"Select Post Type"}),v.map((function(e,t){return(0,f.jsx)("option",{value:null==e?void 0:e.name,children:null==e?void 0:e.label},"acf-"+2*t)}))]}),(0,f.jsx)("button",{onClick:function(){return(0,u.ok)(v,b)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,r.__)("Refresh Post Types","bitform")+"'"},type:"button",children:"↻"})]}),(0,f.jsxs)("div",{className:"mt-3",children:[(0,f.jsx)("b",{children:(0,r.__)("Post Status","bitform")}),(0,f.jsx)(c.Z,{width:250,icnSize:17,className:"ml-2",children:(0,f.jsxs)("div",{className:"txt-body",children:["Select the status for the post. If published status is selected and the post date is in the future, it will automatically be changed to scheduled",(0,f.jsx)("br",{})]})})]}),(0,f.jsxs)("select",{name:"post_status",onChange:function(e){return z(e.target.name,e.target.value)},className:"btcd-paper-inp w-5 mt-2",children:[(0,f.jsx)("option",{disabled:!0,selected:!0,children:(0,r.__)("Select Status","bitform")}),(0,f.jsx)("option",{value:"publish",children:"Publish"}),(0,f.jsx)("option",{value:"draft",children:"Draft"}),(0,f.jsx)("option",{value:"auto-draft",children:"Auto-Draft"}),(0,f.jsx)("option",{value:"private",children:"Private"}),(0,f.jsx)("option",{value:"pending",children:"Pending"})]}),(0,f.jsxs)("div",{className:"mt-3 flx",children:[(0,f.jsx)("b",{children:(0,r.__)("Author","bitform")}),(0,f.jsx)(c.Z,{width:250,icnSize:17,className:"ml-2",children:(0,f.jsxs)("div",{className:"txt-body",children:["Select the user to be assigned to the post.",(0,f.jsx)("br",{})]})})]}),(0,f.jsx)("div",{children:(0,f.jsxs)("select",{name:"post_author",onChange:function(e){return z(e.target.name,e.target.value)},className:"btcd-paper-inp w-5 mt-2",children:[(0,f.jsx)("option",{disabled:!0,selected:!0,children:(0,r.__)("Select Author","bitform")}),g.map((function(e,t){return(0,f.jsx)("option",{value:e.ID,children:e.display_name},"acf-"+2*t)}))]})}),(0,f.jsx)("div",{className:"mt-3",children:(0,f.jsx)("b",{children:(0,r.__)("Comment Status","bitform")})}),(0,f.jsxs)("select",{name:"comment_status",onChange:function(e){return z(e.target.name,e.target.value)},className:"btcd-paper-inp w-5 mt-2",children:[(0,f.jsx)("option",{disabled:!0,selected:!0,children:(0,r.__)("Select Status","bitform")}),(0,f.jsx)("option",{value:"open",children:"Open"}),(0,f.jsx)("option",{value:"closed",children:"Closed"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"mt-3 mb-1",children:(0,f.jsx)("b",{children:(0,r.__)("Field Mapping","bitform")})}),(0,f.jsx)("div",{className:"btcd-hr"}),(0,f.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,f.jsx)("div",{className:"txt-dp",children:(0,f.jsx)("b",{children:(0,r.__)("Form Fields","bitform")})}),(0,f.jsx)("div",{className:"txt-dp",children:(0,f.jsx)("b",{children:(0,r.__)("Post Fields","bitform")})})]})]}),q.post_map.map((function(e,l){return(0,f.jsx)(p.Z,{i:l,type:"post",field:e,formFields:t,dataConf:q,setDataConf:V,customFields:o.I},"analytics-m-"+(l+9))})),(0,f.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,f.jsx)("button",{onClick:function(){return(0,u.FP)("post_map",q.post_map.length,q,V)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,f.jsx)("div",{children:(0,f.jsxs)("p",{className:"p-1 f-m",children:[(0,f.jsx)("strong",{children:"Note"})," ",": All your taxonomies will be mapped automatically from your form fields."]})}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"mt-3 mb-1",children:[(0,f.jsx)("b",{children:(0,r.__)("ACF fields Mapping","bitform")}),(0,f.jsx)("button",{onClick:function(){return(0,u.V$)(q,P,T)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,r.__)("Refresh ACF fields","bitform")+"'"},type:"button",children:"↻"})]}),(0,f.jsx)("div",{className:"btcd-hr"}),(0,f.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,f.jsx)("div",{className:"txt-dp",children:(0,f.jsx)("b",{children:(0,r.__)("Form Fields","bitform")})}),(0,f.jsx)("div",{className:"txt-dp",children:(0,f.jsx)("b",{children:(0,r.__)("ACF Fields","bitform")})})]})]}),q.acf_map.map((function(e,l){return(0,f.jsx)(p.Z,{i:l,type:"acf",field:e,formFields:t,dataConf:q,setDataConf:V,customFields:w,fieldType:"field"},"analytics-m-"+(l+9))})),(0,f.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,f.jsx)("button",{onClick:function(){return(0,u.FP)("acf_map",q.acf_map.length,q,V)},className:"icn-btn sh-sm",type:"button",children:"+"})})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"mt-3 mb-1",children:[(0,f.jsx)("b",{children:(0,r.__)("ACF File Upload Fields Map","bitform")}),(0,f.jsx)("button",{onClick:function(){return(0,u.V$)(q,P,T)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,r.__)("Refresh ACF fields","bitform")+"'"},type:"button",children:"↻"})]}),(0,f.jsx)("div",{className:"btcd-hr"}),(0,f.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,f.jsx)("div",{className:"txt-dp",children:(0,f.jsx)("b",{children:(0,r.__)("Form Fields","bitform")})}),(0,f.jsx)("div",{className:"txt-dp",children:(0,f.jsx)("b",{children:(0,r.__)("ACF Fields","bitform")})})]})]}),q.acf_file_map.map((function(e,l){return(0,f.jsx)(p.Z,{i:l,type:"acfFile",field:e,formFields:t,dataConf:q,setDataConf:V,customFields:A,fieldType:"file"},"analytics-m-"+(l+9))})),(0,f.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,f.jsx)("button",{onClick:function(){return(0,u.FP)("acf_file_map",q.acf_file_map.length,q,V)},className:"icn-btn sh-sm",type:"button",children:"+"})})]}),(0,f.jsxs)("button",{className:"btn f-left btcd-btn-lg green sh-sm flx",type:"button",onClick:function(){q.post_type?q.post_status?(0,u.aJ)(q)&&(0,u.gm)(q)?(0,m.Mm)(h,l,_,q,k):C({show:!0,msg:(0,r.__)("Please map mandatory fields","bitform")}):C({show:!0,msg:(0,r.__)("Post Status cann't be empty","bitform")}):C({show:!0,msg:(0,r.__)("Post Type cann't be empty","bitform")})},children:[(0,r.__)("Save","bitform")," "]})]})}},60581:(e,t,l)=>{l.d(t,{FP:()=>r,T5:()=>o,V$:()=>u,aJ:()=>d,gm:()=>m,ok:()=>p,wX:()=>c});var i=l(87462),n=l(80160),a=l(39492),s=l(35637),r=function(e,t,l,n){var a=(0,i.Z)({},l);a[e].splice(t,0,{}),n((0,i.Z)({},a))},o=function(e,t,l,n){var a=(0,i.Z)({},l);a[e].length>1&&a[e].splice(t,1),n((0,i.Z)({},a))},c=function(e,t,l,n,a){var s=(0,i.Z)({},n);s[e][l][t.target.name]=t.target.value,a((0,i.Z)({},s))},d=function(e){return!((null!=e&&e.post_map?e.post_map.filter((function(e){return!e.formField&&e.postField&&e.required})):[]).length>0)},m=function(e){return!((null!=e&&e.acf_map?e.acf_map.filter((function(e){return!e.formField&&e.acfField&&e.required})):[]).length>0)},u=function(e,t,l){var i=(0,a.Z)({post_type:null==e?void 0:e.post_type},"bitforms_get_custom_field").then((function(e){var i,n,a,s;void 0!==e&&e.success&&(null!=e&&null!=(a=e.data)&&a.acfFields&&t(e.data.acfFields),null!=e&&null!=(s=e.data)&&s.acfFile&&l(e.data.acfFile));return 0!==(null==e||null==(i=e.data)?void 0:i.acfFields.length)||0!==(null==e||null==(n=e.data)?void 0:n.acfFile.length)?"Successfully refresh ACF Fields.":"ACF Fields not found"}));n.ZP.promise(i,{success:function(e){return e},error:(0,s.__)("Error Occured","bitform"),loading:(0,s.__)("Loading ACF Fields...")})},p=function(e,t){var l=(0,a.Z)({},"bitforms_get_post_type").then((function(l){if(l&&l.success){var n,a,s,r=(0,i.Z)({},e);if(null!=l&&null!=(n=l.data)&&n.post_types)r=Object.values(null==l||null==(s=l.data)?void 0:s.post_types),t(r);return 0!==(null==l||null==(a=l.data)?void 0:a.post_types.length)?"Successfully refresh Post Types.":" Post Types not found"}}));n.ZP.promise(l,{success:function(e){return e},error:(0,s.__)("Error Occured","bitform"),loading:(0,s.__)("Loading Post Types...")})}},71700:(e,t,l)=>{l.d(t,{Z:()=>u});var i=l(87462),n=l(2804),a=l(54017),s=l(23312),r=l(35637),o=l(80410),c=l(88530),d=l(60581),m=l(85893);function u(e){var t=e.i,l=e.type,u=e.formFields,p=e.field,f=e.dataConf,h=e.setDataConf,_=e.customFields,x=e.fieldType,v=(0,n.sJ)(a.hi).isPro,b={acf:{propName:"acf_map",fldName:"acfField"},post:{propName:"post_map",fldName:"postField"},acfFile:{propName:"acf_file_map",fldName:"acfFileUpload"}}[l],j=b.propName,g=b.fldName,y=!!_.find((function(e){return e.key===p[g]&&e.required}));return(0,m.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,m.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,m.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:p.formField||"",onChange:function(e){return(0,d.wX)(j,e,t,f,h)},children:[(0,m.jsx)("option",{value:"",children:(0,r.__)("Select Field","bitform")}),(0,m.jsx)("optgroup",{label:"Form Fields",children:"post"===l?(0,m.jsxs)(m.Fragment,{children:[u.map((function(e){return"file-up33"!==e.type&&(0,m.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)})),(0,m.jsx)("option",{value:"custom",children:(0,r.__)("Custom...","bitform")})]}):(0,m.jsxs)(m.Fragment,{children:["file"===x?u.map((function(e){return"file-up"===e.type&&(0,m.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)})):u.map((function(e){return"file-up"!==e.type&&(0,m.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)})),"file"!==x&&(0,m.jsx)("option",{value:"custom",children:(0,r.__)("Custom...","bitform")})]})}),(0,m.jsx)("optgroup",{label:"General Smart Codes "+(v?"":"(PRO)"),children:v&&(null==o.C?void 0:o.C.map((function(e){return(0,m.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),"custom"===p.formField&&(0,m.jsx)(c.Z,{onChange:function(e){return function(e,t){var l=(0,i.Z)({},f);l[j][t].customValue=e.target.value,h(l)}(e,t)},label:(0,r.__)("Custom Value","bitform"),className:"mr-2",type:"text",value:p.customValue,placeholder:(0,r.__)("Custom Value","bitform")}),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("select",{className:"btcd-paper-inp",name:g,value:p[g]||"",onChange:function(e){return(0,d.wX)(j,e,t,f,h)},disabled:y,children:[(0,m.jsx)("option",{value:"",children:(0,r.__)("Select Field","bitform")}),null==_?void 0:_.map((function(e){return(0,m.jsx)("option",{value:e.key,children:""+e.name},e.key+"-1")}))]})})]}),!y&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("button",{onClick:function(){return(0,d.FP)(j,t,f,h)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),(0,m.jsx)("button",{onClick:function(){return(0,d.T5)(j,t,f,h)},className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:(0,m.jsx)(s.Z,{})})]})]})}},14383:(e,t,l)=>{l.d(t,{FP:()=>s,Mm:()=>n,T5:()=>r,WK:()=>a,mG:()=>c,wX:()=>o});var i=l(87462),n=(l(35637),l(39492),function(e,t,l,n,a,s,r){var o=[].concat(e);if(r)o[s]=(0,i.Z)({},e[s],n),o.push({editItegration:!0}),t([].concat(o)),a.push(l);else{var c=[].concat(o);c.push(n),c.push({newItegration:!0}),t(c),a.push(l)}}),a=function(e){var t={},l=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");l&&l.forEach((function(e){var l=e.split("=");l[1]&&(t[l[0]]=l[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(t)),window.close()},s=function(e,t,l,n,a){var s=(0,i.Z)({},t);a?n?s.relatedlists[a-1].upload_field_map.splice(e,0,{}):s.relatedlists[a-1].field_map.splice(e,0,{}):n?s.upload_field_map.splice(e,0,{}):s.field_map.splice(e,0,{}),l((0,i.Z)({},s))},r=function(e,t,l,n,a){var s=(0,i.Z)({},t);a?n?s.relatedlists[a-1].upload_field_map.length>1&&s.relatedlists[a-1].upload_field_map.splice(e,1):s.relatedlists[a-1].field_map.length>1&&s.relatedlists[a-1].field_map.splice(e,1):n?s.upload_field_map.length>1&&s.upload_field_map.splice(e,1):s.field_map.length>1&&s.field_map.splice(e,1),l((0,i.Z)({},s))},o=function(e,t,l,n,a,s){var r=(0,i.Z)({},l);s?a?r.relatedlists[s-1].upload_field_map[t][e.target.name]=e.target.value:r.relatedlists[s-1].field_map[t][e.target.name]=e.target.value:a?r.upload_field_map[t][e.target.name]=e.target.value:r.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(s?r.relatedlists[s-1].field_map[t].customValue="":r.field_map[t].customValue=""),n((0,i.Z)({},r))},c=function(e,t,l,n,a){var s=(0,i.Z)({},l);a?s.relatedlists[a-1].field_map[t].customValue=e.target.value:s.field_map[t].customValue=e.target.value,n((0,i.Z)({},s))}},38585:(e,t,l)=>{l.d(t,{Z:()=>r});var i=l(31736),n=l(13861),a=l(85893);function s(e){var t=e.size,l=e.stroke,i=void 0===l?2:l;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 30 30",children:[(0,a.jsx)("ellipse",{fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:i,cx:"15",cy:"15",rx:"12.75",ry:"12.85"}),(0,a.jsx)("path",{fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:i,strokeLinecap:"round",d:"M11.3,10.73v0a3.58,3.58,0,0,1,1-2.53l.25-.25a3.56,3.56,0,0,1,5,0h0a3.56,3.56,0,0,1,0,5.05l-1.43,1.43a3.85,3.85,0,0,0-1.13,2.75v2.4"}),(0,a.jsx)("line",{fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:i,strokeLinecap:"round",x1:"15",y1:"23.12",x2:"15",y2:"23.12"})]})}l(26592),l(62938),l(25569),l(13339);function r(e){var t=e.className,l=e.children,r=e.width,o=void 0===r?"auto":r,c=e.icnSize,d=void 0===c?20:c;return(0,a.jsx)(i.ZP,{animateFill:!0,plugins:[n.C8],duration:150,theme:"material",animation:"shift-away",interactive:!0,maxWidth:o,content:l,children:(0,a.jsx)("div",{role:"button",tabIndex:"0",className:"popper-icn cp d-in-b ig-c cooltip-icn "+t,children:(0,a.jsx)(s,{size:d})})})}},88530:(e,t,l)=>{l.d(t,{Z:()=>n});var i=l(85893);const n=function(e){var t=e.label,l=e.onChange,n=e.value,a=e.disabled,s=e.type,r=e.textarea,o=e.className;return(0,i.jsxs)("label",{className:"btcd-mt-inp "+o,children:[!r&&(0,i.jsx)("input",{type:void 0===s?"text":s,onChange:l,placeholder:" ",disabled:a,value:n}),r&&(0,i.jsx)("textarea",{type:void 0===s?"text":s,onChange:l,placeholder:" ",disabled:a,value:n}),(0,i.jsx)("span",{children:t})]})}}}]);