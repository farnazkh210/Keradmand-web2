"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[7816],{14383:(e,t,l)=>{l.d(t,{FP:()=>a,Mm:()=>s,T5:()=>r,WK:()=>i,mG:()=>c,wX:()=>o});var n=l(87462),s=(l(35637),l(39492),function(e,t,l,s,i,a,r){var o=[].concat(e);if(r)o[a]=(0,n.Z)({},e[a],s),o.push({editItegration:!0}),t([].concat(o)),i.push(l);else{var c=[].concat(o);c.push(s),c.push({newItegration:!0}),t(c),i.push(l)}}),i=function(e){var t={},l=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");l&&l.forEach((function(e){var l=e.split("=");l[1]&&(t[l[0]]=l[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(t)),window.close()},a=function(e,t,l,s,i){var a=(0,n.Z)({},t);i?s?a.relatedlists[i-1].upload_field_map.splice(e,0,{}):a.relatedlists[i-1].field_map.splice(e,0,{}):s?a.upload_field_map.splice(e,0,{}):a.field_map.splice(e,0,{}),l((0,n.Z)({},a))},r=function(e,t,l,s,i){var a=(0,n.Z)({},t);i?s?a.relatedlists[i-1].upload_field_map.length>1&&a.relatedlists[i-1].upload_field_map.splice(e,1):a.relatedlists[i-1].field_map.length>1&&a.relatedlists[i-1].field_map.splice(e,1):s?a.upload_field_map.length>1&&a.upload_field_map.splice(e,1):a.field_map.length>1&&a.field_map.splice(e,1),l((0,n.Z)({},a))},o=function(e,t,l,s,i,a){var r=(0,n.Z)({},l);a?i?r.relatedlists[a-1].upload_field_map[t][e.target.name]=e.target.value:r.relatedlists[a-1].field_map[t][e.target.name]=e.target.value:i?r.upload_field_map[t][e.target.name]=e.target.value:r.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(a?r.relatedlists[a-1].field_map[t].customValue="":r.field_map[t].customValue=""),s((0,n.Z)({},r))},c=function(e,t,l,s,i){var a=(0,n.Z)({},l);i?a.relatedlists[i-1].field_map[t].customValue=e.target.value:a.field_map[t].customValue=e.target.value,s((0,n.Z)({},a))}},85813:(e,t,l)=>{l.d(t,{Z:()=>i});var n=l(35637),s=l(85893);function i(e){var t=e.step,l=e.saveConfig,i=e.edit,a=e.disabled;return i?(0,s.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,s.jsx)("button",{onClick:l,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:a,children:(0,n.__)("Update","bitform")})}):(0,s.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,s.jsx)("h2",{className:"ml-3",children:(0,n.__)("Successfully Integrated","bitform")}),(0,s.jsxs)("button",{onClick:l,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,n.__)("Finish & Save ","bitform")," ✔"]})]})}},51251:(e,t,l)=>{l.d(t,{Z:()=>k});var n=l(87462),s=l(35637),i=l(68381),a=l(23312),r=l(67294),o=l(97707),c=l(34401),u=l(23921),d=l(8692),m=l(55414),f=l(85893);function p(e){var t,l,p,b,h,_,v,j,x,g,k,y,N,I,C,w,F,Z,T,O,E,S,P,L,D,M,A,q,R,z,V,$,B,G,K,U,W,Y,J,X,H,Q,ee,te,le,ne,se,ie,ae,re,oe,ce,ue,de,me,fe,pe,be,he,_e,ve,je,xe,ge,ke,ye,Ne,Ie,Ce,we,Fe,Ze,Te,Oe,Ee,Se,Pe,Le,De,Me,Ae,qe,Re,ze,Ve=e.event,$e=e.projectsConf,Be=e.setProjectsConf,Ge=e.formID,Ke=e.formFields,Ue=e.setSnackbar,We=(0,r.useState)(!1),Ye=We[0],Je=We[1],Xe=(0,r.useState)({show:!1}),He=Xe[0],Qe=Xe[1],et=function(e,t,l){var s=(0,n.Z)({},$e);void 0!==l?l?s.actions[Ve][t]=e:delete s.actions[Ve][t]:e?s.actions[Ve][t]=e:delete s.actions[Ve][t],Be((0,n.Z)({},s))},tt=function(e,t,l,s){var i,a=(0,n.Z)({},$e);null!=(i=a.actions[Ve])&&i.customTags||(a.actions[Ve].customTags=[]),"add"===e?a.actions[Ve].customTags.push({name:"",color:""}):"remove"===e?a.actions[Ve].customTags.splice(t,1):"value"===e&&("field"===l?a.actions[Ve].customTags[t].name+=s:a.actions[Ve].customTags[t][l]=s),a.actions[Ve].customTags.length||delete a.actions[Ve].customTags,Be((0,n.Z)({},a))},lt=function(e,t){var l=(0,n.Z)({},$e);l.actions[Ve].reminder_string&&"reminder_criteria"!==t||(l.actions[Ve].reminder_string={}),""!==e?l.actions[Ve].reminder_string[t]=e:delete l.actions[Ve].reminder_string[t],["custom_date_fld","reminder_time_fld"].includes(t)?delete l.actions[Ve].reminder_string[t.replace("_fld","")]:["custom_date","reminder_time"].includes(t)&&delete l.actions[Ve].reminder_string[t+"_fld"],Be((0,n.Z)({},l))},nt=function(e,t,l){var s=(0,n.Z)({},$e);s.actions[Ve].recurrence_string&&"recurring_frequency"!==t||(s.actions[Ve].recurrence_string={}),void 0!==l?l?s.actions[Ve].recurrence_string[t]=e:delete s.actions[Ve].recurrence_string[t]:e?s.actions[Ve].recurrence_string[t]=e:delete s.actions[Ve].recurrence_string[t],["time_span_fld","number_of_occurrences_fld"].includes(t)?delete s.actions[Ve].recurrence_string[t.replace("_fld","")]:["time_span","number_of_occurrences"].includes(t)&&delete s.actions[Ve].recurrence_string[t+"_fld"],Be((0,n.Z)({},s))},st=function(e,t){var l,s=(0,n.Z)({},$e);s.actions[Ve].timelog||(s.actions[Ve].timelog={}),null!=$e&&null!=(l=$e.actions[Ve].timelog)&&l.bill_status||($e.actions[Ve].timelog.bill_status="Billable"),e?s.actions[Ve].timelog[t]=e:delete s.actions[Ve].timelog[t],["date_fld","hours_fld","start_time_fld","end_time_fld"].includes(t)?delete s.actions[Ve].timelog[t.replace("_fld","")]:["date","hours","start_time","end_time"].includes(t)&&delete s.actions[Ve].timelog[t+"_fld"],s.actions[Ve].timelog.date&&s.actions[Ve].timelog.date_fld||delete s.actions[Ve].timelog,"settime"===t&&(delete s.actions[Ve].timelog.hours,delete s.actions[Ve].timelog.hours_fld,delete s.actions[Ve].timelog.start_time,delete s.actions[Ve].timelog.start_time_fld,delete s.actions[Ve].timelog.end_time,delete s.actions[Ve].timelog.end_time_fld),Be((0,n.Z)({},s))},it=function(e){var t,l,n,s,i,a,r;(null==$e||!$e.projectId||null!=(t=$e.default)&&null!=(l=t.users)&&null!=(n=l[$e.portalId])&&n[$e.projectId])&&null!=(s=$e.default)&&null!=(i=s.users)&&i[$e.portalId]||(0,m.n)(Ge,$e,Be,Je,Ue),Qe(e?{show:e}:{show:"owner"}),"users"!==e||null!=$e&&null!=(a=$e.actions)&&null!=(r=a.project)&&r.users||($e.actions.project.users=[{email:"",role:"employee"},{email:"",role:"manager"},{email:"",role:"contractor"}])},at=function(e){var t,l,n,s,i,a,r,o,c,u,d,m,f,p,b,h,_=[];if("taskuser"===e){if(null!=$e&&$e.projectId&&(null==$e||null==(r=$e.default)||null==(o=r.users)||null==(c=o[$e.portalId])||null==(u=c[$e.projectId])?void 0:u.length)>0)_=null!=$e&&null!=(p=$e.actions)&&null!=(b=p[Ve])&&b.owner?null==(h=$e.actions)?void 0:h[Ve].owner.split(",").map((function(e){return $e.default.users[$e.portalId][$e.projectId].filter((function(t){return t.userId===e}))})).map((function(e){return e[0]})):[];else if((null==$e||null==(d=$e.default)||null==(m=d.users)||null==(f=m[$e.portalId])?void 0:f.length)>0){var v,j,x;_=null!=$e&&null!=(v=$e.actions)&&null!=(j=v[Ve])&&j.owner?null==(x=$e.actions)?void 0:x[Ve].owner.split(",").map((function(e){return $e.default.users[$e.portalId].filter((function(t){return t.userId===e}))})).map((function(e){return e[0]})):[]}}else if(null!=$e&&$e.projectId&&(null==$e||null==(t=$e.default)||null==(l=t.users)||null==(n=l[$e.portalId])||null==(s=n[$e.projectId])?void 0:s.length)>0)_=$e.default.users[$e.portalId][$e.projectId];else if("project"!==Ve&&null!=$e&&$e.subEvent.includes("project")){var g,k;if((null==$e||null==(g=$e.default)||null==(k=g.users)?void 0:k[$e.portalId].length)>0){var y="",N="";if($e.actions.project.owner&&(y=$e.default.users[$e.portalId].filter((function(e){return e.userId===$e.actions.project.owner}))),$e.actions.project.users){var I,C,w;N=null==$e||null==(I=$e.actions)||null==(C=I.project)||null==(w=C.users)?void 0:w.map((function(e){return e.email&&e.email.split(",").map((function(e){return $e.default.users[$e.portalId].filter((function(t){return t.userEmail===e}))})).map((function(e){return e[0]}))}));for(var F=[],Z=0;Z<N.length;Z+=1)for(var T=0;T<N[Z].length;T+=1)F.push(N[Z][T]);N=F}y&&N?(N.push(y[0]),_=N):y&&!N?_=y:N&&!y&&(_=N)}}else(null==$e||null==(i=$e.default)||null==(a=i.users)?void 0:a[$e.portalId].length)>0&&(_="users"===e?$e.default.users[$e.portalId].filter((function(e){var t,l;return e.userId!==(null==$e||null==(t=$e.actions)||null==(l=t.project)?void 0:l.owner)})):$e.default.users[$e.portalId]);return _},rt=function(){Qe({show:!1})},ot=function(e){return"daily"===e?"(Day)":"weekly"===e?"(Week)":"monthly"===e?"(Month)":"yearly"===e?"(Year)":""};return(0,f.jsxs)("div",{className:"pos-rel",children:[(0,f.jsxs)("div",{className:"d-flx flx-wrp",children:["tasklist"!==Ve&&(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,f.jsx)(u.Z,{onChange:function(){return it()},checked:"owner"in $e.actions[Ve],className:"wdt-200 mt-4 mr-2 btcd-ttc",value:Ve+"_owner",title:(0,s.g)((0,s.__)("%s Owner","bitform"),Ve),subTitle:(0,s.g)((0,s.__)("Add an owner to %s  pushed to Zoho Projects.","bitform"),Ve)}),!$e.actions[Ve].owner&&(0,f.jsx)("small",{style:{marginLeft:30,marginTop:10,color:"red"},children:Ve+" owner is required"})]}),"project"===Ve&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,f.jsx)(u.Z,{onChange:function(){var e,t;null!=(e=$e.default)&&null!=(t=e.taskLays)&&t[$e.portalId]||(0,m.mM)(Ge,$e,Be,Je,Ue),Qe({show:"task_layout"})},checked:"tasklayoutid"in $e.actions.project,className:"wdt-200 mt-4 mr-2 btcd-ttc",value:"Task_Owner",title:(0,s.__)("Task Layout","bitform"),subTitle:(0,s.__)("Add a layout to project pushed to Zoho Projects.","bitform")}),!$e.actions.project.tasklayoutid&&(0,f.jsx)("small",{style:{marginLeft:30,marginTop:10,color:"red"},children:(0,s.__)("task layout is required","bitform")})]}),(0,f.jsx)(u.Z,{onChange:function(e){return et(e.target.value,"public",e.target.checked)},checked:"public"in $e.actions.project,className:"wdt-200 mt-4 mr-2 btcd-ttc",value:"yes",title:(0,s.__)("Public Project","bitform"),subTitle:(0,s.__)("by default, it is set as private project.","bitform")}),(0,f.jsx)(u.Z,{onChange:function(){return it("users")},checked:"users"in $e.actions.project,className:"wdt-200 mt-4 mr-2 btcd-ttc",value:"Project_User",title:(0,s.__)("Project user","bitform"),subTitle:(0,s.__)("Assign users to project pushed to Zoho Projects.","bitform")}),(0,f.jsx)(u.Z,{onChange:function(){var e,t;null!=(e=$e.default)&&null!=(t=e.groups)&&t[$e.portalId]||(0,m.FT)(Ge,$e,Be,Je,Ue),Qe({show:"group"})},checked:"group_id"in $e.actions.project,className:"wdt-200 mt-4 mr-2 btcd-ttc",value:"Project_Group",title:(0,s.__)("Group Name","bitform"),subTitle:(0,s.__)("Add a group to project pushed to Zoho Projects.","bitform")})]}),("milestone"===Ve||"tasklist"===Ve||"issue"===Ve)&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,f.jsx)(u.Z,{onChange:function(){return Qe({show:"flag"})},checked:"flag"in $e.actions[Ve],className:"wdt-200 mt-4 mr-2 btcd-ttc",value:Ve+"_flag",title:(0,s.g)((0,s.__)("%s Flag","bitform"),Ve),subTitle:(0,s.__)("Add a flag to","bitform")+" "+Ve+" "+(0,s.__)("pushed to Zoho Projects.","bitform")}),!$e.actions[Ve].flag&&(0,f.jsx)("small",{style:{marginLeft:30,marginTop:10,color:"red"},children:Ve+" "+(0,s.__)("flag is required","bitform")})]})}),"issue"===Ve&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.Z,{onChange:function(){return it("followers")},checked:"bug_followers"in $e.actions[Ve],className:"wdt-200 mt-4 mr-2 btcd-ttc",value:"Issue_Followers",title:(0,s.__)("Issue Followers","bitform"),subTitle:(0,s.__)("Add followers to issue pushed to Zoho Projects","bitform")}),(null==$e?void 0:$e.projectId)&&["severity","classification","module","priority"].map((function(e){return(0,f.jsx)(u.Z,{onChange:function(){return Qe({show:e})},checked:("priority"===e?"reproducible_id":e+"_id")in $e.actions[Ve],className:"wdt-200 mt-4 mr-2 btcd-ttc",value:e,title:(0,s.g)((0,s.__)("Issue %s","bitform"),e),subTitle:(0,s.g)((0,s.__)("Add %s to issue pushed to Zoho Projects","bitform"),e)},e)}))]}),("task"===Ve||"subtask"===Ve||"issue"===Ve)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.Z,{onChange:function(){return Qe({show:"attachments"})},checked:"attachments"in $e.actions[Ve],className:"wdt-200 mt-4 mr-2 btcd-ttc",value:Ve+"_attachments",title:(0,s.g)((0,s.__)("%s Attachments","bitform"),Ve),subTitle:(0,s.g)("Add attachments to %s pushed to Zoho Projects.",Ve)}),(0,f.jsx)(u.Z,{onChange:function(){return Qe({show:"timelog"})},checked:(null==(t=$e.actions[Ve])||null==(l=t.timelog)?void 0:l.date)||(null==(p=$e.actions[Ve])||null==(b=p.timelog)?void 0:b.date_fld)||!1,className:"wdt-200 mt-4 mr-2 btcd-ttc",value:Ve+"_timelog",title:(0,s.g)((0,s.__)("%s Time Log","bitform"),Ve),subTitle:(0,s.g)((0,s.__)("Add time log to %s pushed to Zoho Projects.","bitform"),Ve)})]}),"task"===Ve&&(0,f.jsx)(u.Z,{onChange:function(){return Qe({show:"recurrence_string"})},checked:"recurrence_string"in $e.actions[Ve]&&"recurring_frequency"in(null==(h=$e.actions[Ve])?void 0:h.recurrence_string),className:"wdt-200 mt-4 mr-2 btcd-ttc",value:Ve+"_reminder",title:(0,s.g)((0,s.__)("%s Recurrence","bitform"),Ve),subTitle:(0,s.g)((0,s.__)("Add recurrence to %s pushed to Zoho Projects.","bitform"),Ve)}),("task"===Ve||"subtask"===Ve||"issue"===Ve)&&(0,f.jsx)(u.Z,{onChange:function(){return Qe({show:"reminder_string"})},checked:"reminder_string"in $e.actions[Ve]&&"reminder_criteria"in(null==(_=$e.actions[Ve])?void 0:_.reminder_string),className:"wdt-200 mt-4 mr-2 btcd-ttc",value:Ve+"_reminder",title:(0,s.g)((0,s.__)("%s Reminder","bitform"),Ve),subTitle:(0,s.g)((0,s.__)("Add reminder to %s pushed to Zoho Projects.","bitform"),Ve)}),(0,f.jsx)(u.Z,{onChange:function(){return Qe({show:"tags"})},checked:$e.actions[Ve].tags||(null==$e||null==(v=$e.actions)||null==(j=v[Ve])?void 0:j.customTags)||!1,className:"wdt-200 mt-4 mr-2 btcd-ttc",value:Ve+"_tags",title:(0,s.g)((0,s.__)("%s Tags","bitform"),Ve),subTitle:(0,s.g)((0,s.__)("Add tags to %s pushed to Zoho Projects.","bitform"),Ve)})]}),"tasklist"!==Ve&&(0,f.jsxs)(c.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"owner"===He.show,close:rt,action:rt,title:(0,s.g)((0,s.__)("%s Owner","bitform"),Ve),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),Ye?(0,f.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,f.jsxs)("div",{className:"flx flx-between mt-2",children:["task"===Ve||"subtask"===Ve?(0,f.jsx)(o.Z,{defaultValue:$e.actions[Ve].owner,className:"mt-2 w-9",onChange:function(e){return et(e,"owner")},options:at().map((function(e){return{label:e.userName,value:e.userId}}))}):(0,f.jsxs)("select",{value:$e.actions[Ve].owner,className:"btcd-paper-inp",onChange:function(e){return et(e.target.value,"owner")},children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Owner","bitform")}),at().length>0&&at().map((function(e){return(0,f.jsx)("option",{value:e.userId,children:e.userName},e.userId)}))]}),(0,f.jsx)("button",{onClick:function(){return(0,m.n)(Ge,$e,Be,Je,Ue)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Portal Users","bitform")+"'"},type:"button",disabled:Ye,children:"↻"})]})]}),"project"===Ve&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(c.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"task_layout"===He.show,close:rt,action:rt,title:(0,s.__)("Task Layout","bitform"),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),Ye?(0,f.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,f.jsxs)("div",{className:"flx flx-between mt-2",children:[(0,f.jsxs)("select",{value:$e.actions.project.tasklayoutid,className:"btcd-paper-inp",onChange:function(e){return et(e.target.value,"tasklayoutid")},children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Layout","bitform")}),null==(x=$e.default)||null==(g=x.taskLays)||null==(k=g[$e.portalId])?void 0:k.map((function(e){return(0,f.jsx)("option",{value:e.taskLayId,children:e.taskLayName},e.taskLayId)}))]}),(0,f.jsx)("button",{onClick:function(){return(0,m.mM)(Ge,$e,Be,Je,Ue)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Task Layouts","bitform")+"'"},type:"button",disabled:Ye,children:"↻"})]})]}),(0,f.jsxs)(c.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"users"===He.show,close:rt,action:rt,title:(0,s.__)("Assign Project Users","bitform"),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),Ye?(0,f.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,f.jsx)(f.Fragment,{children:(null==(y=$e.actions.project)?void 0:y.users)&&$e.actions.project.users.map((function(e,t){return(0,f.jsxs)("div",{className:"flx flx-between mt-1",children:[(0,f.jsx)(o.Z,{className:"btcd-paper-drpdwn mt-2",defaultValue:e.email,options:at("users").map((function(e){return{label:e.userName,value:e.userEmail}})),onChange:function(e){return function(e,t,l,s){var i,a=(0,n.Z)({},$e);null!=(i=a.actions.project)&&i.users||(a.actions.project.users=[]),"add"===e?a.actions.project.users.push({name:"",role:""}):"remove"===e?a.actions.project.users.splice(t,1):"value"===e&&(a.actions.project.users[t][l]=s),Be((0,n.Z)({},a))}("value",t,"email",e)}}),(0,f.jsx)("input",{type:"text",value:e.role,readOnly:!0,className:"btcd-paper-inp mt-2 w-3 ml-1"})]},"us-"+(t+10))}))})]}),(0,f.jsxs)(c.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"group"===He.show,close:rt,action:rt,title:(0,s.__)("Project Group","bitform"),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),Ye?(0,f.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,f.jsxs)("div",{className:"flx flx-between mt-2",children:[(0,f.jsxs)("select",{value:$e.actions.project.group_id,className:"btcd-paper-inp",onChange:function(e){return et(e.target.value,"group_id")},children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Group","bitform")}),null==(N=$e.default)||null==(I=N.groups)||null==(C=I[$e.portalId])?void 0:C.map((function(e){return(0,f.jsx)("option",{value:e.groupId,children:e.groupName},e.groupId)}))]}),(0,f.jsx)("button",{onClick:function(){return(0,m.FT)(Ge,$e,Be,Je,Ue)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Project Groups","bitform")+"'"},type:"button",disabled:Ye,children:"↻"})]})]})]}),("tasklist"===Ve||"milestone"===Ve||"issue"===Ve)&&(0,f.jsxs)(c.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"flag"===He.show,close:rt,action:rt,title:(0,s.g)((0,s.__)("%s Flag","bitform"),Ve),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),(0,f.jsx)("div",{className:"flx flx-between mt-2",children:(0,f.jsxs)("select",{value:$e.actions[Ve].flag,className:"btcd-paper-inp",onChange:function(e){return et(e.target.value,"flag")},children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Flag","bitform")}),(0,f.jsx)("option",{value:"issue"===Ve?"Internal":"internal",children:(0,s.__)("Internal","bitform")}),(0,f.jsx)("option",{value:"issue"===Ve?"External":"external",children:(0,s.__)("External","bitform")})]})})]}),("task"===Ve||"subtask"===Ve||"issue"===Ve)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(c.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"attachments"===He.show,close:rt,action:rt,title:(0,s.__)("Select Attachment","bitform"),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),(0,f.jsx)("div",{className:"mt-2",children:(0,s.__)("Select file upload fields","bitform")}),(0,f.jsx)(o.Z,{defaultValue:$e.actions[Ve].attachments,className:"mt-2 w-9",onChange:function(e){return et(e,"attachments")},options:Ke.filter((function(e){return"file-up"===e.type})).map((function(e){return{label:e.name,value:e.key}}))})]}),(0,f.jsxs)(c.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"timelog"===He.show,close:rt,action:rt,title:(0,s.g)((0,s.__)("%s Time Log","bitform"),Ve),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Select Date","bitform")}),(0,f.jsxs)("div",{className:"flx",children:[(0,f.jsx)("input",{type:"date",className:"btcd-paper-inp",onChange:function(e){return st(e.target.value,"date")},value:(null==(w=$e.actions[Ve])||null==(F=w.timelog)?void 0:F.date)||"",style:{height:40},max:(new Date).toISOString().split("T")[0]}),(0,f.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return st(e.target.value,"date_fld")},value:(null==(Z=$e.actions[Ve])||null==(T=Z.timelog)?void 0:T.date_fld)||"",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ke.map((function(e){return"date"===e.type&&(0,f.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Billing Status","bitform")}),(0,f.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return st(e.target.value,"bill_status")},value:(null==(O=$e.actions[Ve])||null==(E=O.timelog)?void 0:E.bill_status)||"",children:[(0,f.jsx)("option",{value:"Billable",children:(0,s.__)("Billable","bitform")}),(0,f.jsx)("option",{value:"Non Billable",children:(0,s.__)("Non Billable","bitform")})]}),!(null!=$e&&null!=(S=$e.actions[Ve])&&null!=(P=S.timelog)&&P.settime)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Enter Hours","bitform")}),(0,f.jsxs)("div",{className:"flx mb-2",children:[(0,f.jsx)("input",{type:"number",className:"btcd-paper-inp",onChange:function(e){return st(e.target.value,"hours")},value:(null==(L=$e.actions[Ve])||null==(D=L.timelog)?void 0:D.hours)||""}),(0,f.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return st(e.target.value,"hours_fld")},value:(null==(M=$e.actions[Ve])||null==(A=M.timelog)?void 0:A.hours_fld)||"",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ke.map((function(e){return"file-up"!==e.type&&(0,f.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),(0,f.jsx)("span",{className:"btcd-link cp",onClick:function(){return st(!0,"settime")},onKeyDown:function(){return st(!0,"settime")},role:"button",tabIndex:"0",children:(0,s.__)("set start & end time","bitform")})]}),(null==$e||null==(q=$e.actions[Ve])||null==(R=q.timelog)?void 0:R.settime)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Start Time","bitform")}),(0,f.jsxs)("div",{className:"flx",children:[(0,f.jsx)("input",{type:"time",className:"btcd-paper-inp",onChange:function(e){return st(e.target.value,"start_time")},value:(null==(z=$e.actions[Ve])||null==(V=z.timelog)?void 0:V.start_time)||"",style:{height:40}}),(0,f.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return st(e.target.value,"start_time_fld")},value:(null==($=$e.actions[Ve])||null==(B=$.timelog)?void 0:B.start_time_fld)||"",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ke.map((function(e){return"time"===e.type&&(0,f.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("End Time","bitform")}),(0,f.jsxs)("div",{className:"flx mb-2",children:[(0,f.jsx)("input",{type:"time",className:"btcd-paper-inp",onChange:function(e){return st(e.target.value,"end_time")},value:(null==(G=$e.actions[Ve])||null==(K=G.timelog)?void 0:K.end_time)||"",style:{height:40}}),(0,f.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return st(e.target.value,"end_time_fld")},value:(null==(U=$e.actions[Ve])||null==(W=U.timelog)?void 0:W.end_time_fld)||"",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ke.map((function(e){return"time"===e.type&&(0,f.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),(0,f.jsx)("span",{className:"btcd-link cp",onClick:function(){return st(!1,"settime")},onKeyDown:function(){return st(!1,"settime")},role:"button",tabIndex:"0",children:(0,s.__)("set hours","bitform")})]}),(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("User","bitform")}),(0,f.jsxs)("select",{value:null==(Y=$e.actions[Ve])||null==(J=Y.timelog)?void 0:J.owner,className:"btcd-paper-inp",onChange:function(e){return st(e.target.value,"owner")},children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Owner","bitform")}),at("taskuser").length>0&&at("taskuser").map((function(e){return(0,f.jsx)("option",{value:e.userId,children:e.userName},e.userId)}))]}),(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Notes","bitform")}),(0,f.jsxs)("select",{className:"btcd-paper-inp mb-2",onChange:function(e){return st(e.target.value,"notes_fld")},value:(null==(X=$e.actions[Ve])||null==(H=X.timelog)?void 0:H.notes_fld)||"",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ke.map((function(e){return"file-up"!==e.type&&(0,f.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]})]}),("task"===Ve||"subtask"===Ve||"issue"===Ve)&&(0,f.jsxs)(c.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"reminder_string"===He.show,close:rt,action:rt,title:(0,s.g)((0,s.__)("%s Reminder","bitform"),Ve),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Select Reminder Type","bitform")}),(0,f.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return lt(e.target.value,"reminder_criteria")},value:(null==(Q=$e.actions[Ve])||null==(ee=Q.reminder_string)?void 0:ee.reminder_criteria)||"",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Type","bitform")}),(0,f.jsx)("option",{value:"daily",children:(0,s.__)("Daily","bitform")}),(0,f.jsx)("option",{value:"on same day",children:(0,s.__)("On Same Day","bitform")}),(0,f.jsx)("option",{value:"before due date",children:(0,s.__)("Before Due Date","bitform")}),(0,f.jsx)("option",{value:"customdate",children:(0,s.__)("Custom Date","bitform")})]}),"before due date"===(null==(te=$e.actions[Ve])||null==(le=te.reminder_string)?void 0:le.reminder_criteria)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Day Before","bitform")}),(0,f.jsx)("input",{type:"number",className:"btcd-paper-inp",onChange:function(e){return lt(e.target.value,"day_before")},value:(null==(ne=$e.actions[Ve])||null==(se=ne.reminder_string)?void 0:se.day_before)||""})]}),"customdate"===(null==(ie=$e.actions[Ve])||null==(ae=ie.reminder_string)?void 0:ae.reminder_criteria)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Select Date","bitform")}),(0,f.jsxs)("div",{className:"flx",children:[(0,f.jsx)("input",{type:"date",className:"btcd-paper-inp",onChange:function(e){return lt(e.target.value,"custom_date")},value:(null==(re=$e.actions[Ve])||null==(oe=re.reminder_string)?void 0:oe.custom_date)||"",style:{height:40}}),(0,f.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return lt(e.target.value,"custom_date_fld")},value:(null==(ce=$e.actions[Ve])||null==(ue=ce.reminder_string)?void 0:ue.custom_date_fld)||"",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ke.map((function(e){return"date"===e.type&&(0,f.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]})]}),(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Select Time","bitform")}),(0,f.jsxs)("div",{className:"flx",children:[(0,f.jsx)("input",{type:"time",className:"btcd-paper-inp",onChange:function(e){return lt(e.target.value,"reminder_time")},value:(null==(de=$e.actions[Ve])||null==(me=de.reminder_string)?void 0:me.reminder_time)||"",style:{height:40}}),(0,f.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return lt(e.target.value,"reminder_time_fld")},value:(null==(fe=$e.actions[Ve])||null==(pe=fe.reminder_string)?void 0:pe.reminder_time_fld)||"",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ke.map((function(e){return"time"===e.type&&(0,f.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),(0,f.jsx)("div",{className:"mt-2",children:(0,s.__)("Notify Users","bitform")}),(0,f.jsx)(o.Z,{defaultValue:null==(be=$e.actions[Ve])||null==(he=be.reminder_string)?void 0:he.reminder_notify_users,className:"mt-1 w-10 btcd-paper-drpdwn",onChange:function(e){return lt(e,"reminder_notify_users")},options:at().map((function(e){return{label:e.userName,value:e.userId}}))})]}),"task"===Ve&&(0,f.jsxs)(c.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"recurrence_string"===He.show,close:rt,action:rt,title:(0,s.g)((0,s.__)("%s Recurrence","bitform"),Ve),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Select Recurring Frequency","bitform")}),(0,f.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"recurring_frequency")},value:null==(_e=$e.actions[Ve])||null==(ve=_e.recurrence_string)?void 0:ve.recurring_frequency,children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Frequency","bitform")}),(0,f.jsx)("option",{value:"daily",children:(0,s.__)("Daily","bitform")}),(0,f.jsx)("option",{value:"weekly",children:(0,s.__)("Weekley","bitform")}),(0,f.jsx)("option",{value:"monthly",children:(0,s.__)("Monthly","bitform")}),(0,f.jsx)("option",{value:"yearly",children:(0,s.__)("Yearly","bitform")})]}),(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("Once Every "+ot(null==(je=$e.actions[Ve])||null==(xe=je.recurrence_string)?void 0:xe.recurring_frequency),"bitform")}),(0,f.jsxs)("div",{className:"flx",children:[(0,f.jsx)("input",{type:"number",className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"time_span")},min:"1",max:"15",value:(null==(ge=$e.actions[Ve])||null==(ke=ge.recurrence_string)?void 0:ke.time_span)||""}),(0,f.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"time_span_fld")},value:(null==(ye=$e.actions[Ve])||null==(Ne=ye.recurrence_string)?void 0:Ne.time_span_fld)||"",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ke.map((function(e){return"file-up"!==e.type&&(0,f.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),(0,f.jsx)("div",{className:"mt-2 mb-1",children:(0,s.__)("End After "+ot(null==(Ie=$e.actions[Ve])||null==(Ce=Ie.recurrence_string)?void 0:Ce.recurring_frequency),"bitform")}),(0,f.jsxs)("div",{className:"flx mb-2",children:[(0,f.jsx)("input",{type:"number",className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"number_of_occurrences")},min:"2",max:"30",value:(null==(we=$e.actions[Ve])||null==(Fe=we.recurrence_string)?void 0:Fe.number_of_occurrences)||""}),(0,f.jsxs)("select",{className:"btcd-paper-inp",onChange:function(e){return nt(e.target.value,"number_of_occurrences_fld")},value:(null==(Ze=$e.actions[Ve])||null==(Te=Ze.recurrence_string)?void 0:Te.number_of_occurrences_fld)||"",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ke.map((function(e){return"file-up"!==e.type&&(0,f.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]})]}),["monthly","yearly"].includes(null==(Oe=$e.actions[Ve])||null==(Ee=Oe.recurrence_string)?void 0:Ee.recurring_frequency)&&(0,f.jsx)(d.Z,{onChange:function(e){return nt(e.target.value,"set_previous_business_day",e.target.checked)},checked:(null==(Se=$e.actions[Ve])||null==(Pe=Se.recurrence_string)?void 0:Pe.set_previous_business_day)||!1,value:"true",title:(0,s.__)("Set to previous business day","bitform")}),(0,f.jsx)(d.Z,{onChange:function(e){return nt(e.target.value,"is_comments_recurred",e.target.checked)},checked:(null==(Le=$e.actions[Ve])||null==(De=Le.recurrence_string)?void 0:De.is_comments_recurred)||!1,value:"true",title:(0,s.__)("Retain comments for subsequent recurrences","bitform")}),(0,f.jsx)(d.Z,{onChange:function(e){return nt(e.target.value,"recurrence_type",e.target.checked)},checked:(null==(Me=$e.actions[Ve])||null==(Ae=Me.recurrence_string)?void 0:Ae.recurrence_type)||!1,value:"after_current_task_completed",title:(0,s.__)("Create next recurrence after the close of current task.","bitform")})]}),"issue"===Ve&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(c.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"followers"===He.show,close:rt,action:rt,title:(0,s.__)("Issue Followers","bitform"),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),Ye?(0,f.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,f.jsxs)("div",{className:"flx flx-between mt-2",children:[(0,f.jsx)(o.Z,{defaultValue:$e.actions[Ve].bug_followers,className:"mt-2 w-9",onChange:function(e){return et(e,"bug_followers")},options:at().map((function(e){return{label:e.userName,value:e.userId}}))}),(0,f.jsx)("button",{onClick:function(){return(0,m.n)(Ge,$e,Be,Je,Ue)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Portal Users","bitform")+"'"},type:"button",disabled:Ye,children:"↻"})]})]}),(null==$e?void 0:$e.projectId)&&["severity","classification","module","priority"].map((function(e){var t,l,n,i,a,r;return(0,f.jsxs)(c.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:He.show===e,close:rt,action:rt,title:(0,s.g)((0,s.__)("Issue %s","bitform"),e),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),(0,f.jsx)("div",{className:"flx flx-between mt-2",children:(0,f.jsxs)("select",{value:$e.actions[Ve]["priority"===e?"reproducible_id":e+"_id"],className:"btcd-paper-inp",onChange:function(t){return et(t.target.value,"priority"===e?"reproducible_id":e+"_id")},children:[(0,f.jsx)("option",{value:"",children:"Select "+e}),(null==(t=$e.default)||null==(l=t.fields)||null==(n=l[$e.portalId])||null==(i=n[$e.projectId])||null==(a=i[Ve])||null==(r=a.defaultfields)?void 0:r[e+"_details"])&&Object.values($e.default.fields[$e.portalId][$e.projectId][Ve].defaultfields[e+"_details"]).map((function(t){return(0,f.jsx)("option",{value:t[e+"_id"],children:t[e+"_name"]},t[e+"_id"])}))]})})]},e)}))]}),(0,f.jsxs)(c.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v btcd-ttc",btnClass:"blue",btnTxt:(0,s.__)("Ok","bitform"),show:"tags"===He.show,close:rt,action:rt,title:(0,s.g)((0,s.__)("%s Tags","bitform"),Ve),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),Ye?(0,f.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"flx flx-between mt-2",children:[(0,f.jsx)(o.Z,{className:"msl-wrp-options",defaultValue:$e.actions[Ve].tags,options:function(){var e,t,l=[{title:"Zoho Projects Tags",type:"group",childs:[]}];null!=(e=$e.default.tags)&&e[$e.portalId]&&(l[0].childs=Object.values(null==(t=$e.default.tags)?void 0:t[$e.portalId]).map((function(e){return{label:e.tagName,value:e.tagId}})));return l}(),onChange:function(e){return et(e,"tags")}}),(0,f.jsx)("button",{onClick:function(){return(0,m.TF)(Ge,$e,Be,Je,Ue)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh Tags"'},type:"button",disabled:Ye,children:"↻"})]}),(0,f.jsx)("hr",{}),(0,f.jsx)("small",{children:(0,s.__)("Custom Tags","bitform")}),(null==$e||null==(qe=$e.actions)||null==(Re=qe[Ve])||null==(ze=Re.customTags)?void 0:ze.length)>0&&$e.actions[Ve].customTags.map((function(e,t){return(0,f.jsxs)("div",{className:"flx flx-between mt-2 mb-2",children:[(0,f.jsx)("input",{type:"text",className:"btcd-paper-inp",onChange:function(e){return tt("value",t,"name",e.target.value)},value:e.name}),(0,f.jsxs)("select",{className:"btcd-paper-inp w-3",value:e.field,onChange:function(e){return tt("value",t,"field",e.target.value)},children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Field","bitform")}),Ke.map((function(e){return"file-up"!==e.type&&(0,f.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]}),(0,f.jsxs)("select",{className:"btcd-paper-inp w-3",style:{backgroundColor:""+e.color.replace("bg","#")},value:e.color,onChange:function(e){return tt("value",t,"color",e.target.value)},children:[(0,f.jsx)("option",{value:"",children:"Color"}),["0dd3d3","e2b910","7f78e0","f28840","d359aa","83b727","b58a61","ffac14","48b7b4","f56b62","728099","609100","0d6fb7","0995ba","15a8e2","ff5acd","898985","3b92ff","ac57f2","895a59"].map((function(e){return(0,f.jsx)("option",{value:"bg"+e,style:{backgroundColor:"#"+e},"aria-label":"color"},e)}))]}),(0,f.jsx)("button",{onClick:function(){return tt("remove",t)},className:"icn-btn ml-2","aria-label":"delete",type:"button",children:(0,f.jsx)(a.Z,{})})]},"tg="+(t+79))})),(0,f.jsx)("button",{onClick:function(){return tt("add")},className:"icn-btn ml-2 mr-2 sh-sm tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Add Custom Tag","nitform")+"'"},type:"button",children:"+"})]})]})]})}var b=l(2804),h=l(54017),_=l(80410),v=l(88530),j=function(e,t,l,s){var i=(0,n.Z)({},t);i.field_map[s].splice(e,0,{formField:"",zohoFormField:""}),l((0,n.Z)({},i))};function x(e){var t,l,i,r,o,c,u,d,m,p,x,g,k,y,N,I,C,w,F,Z,T,O,E,S,P,L,D,M=e.i,A=e.event,q=e.formFields,R=e.field,z=e.projectsConf,V=e.setProjectsConf,$=z.portalId,B=(0,b.sJ)(h.hi).isPro;null!=z&&z.projectId?w=""===R.zohoFormField||-1===(null==(F=z.default.fields)||null==(Z=F[$])||null==(T=Z[z.projectId])||null==(O=T[A])||null==(E=O.required)?void 0:E.indexOf(R.zohoFormField)):w=""===R.zohoFormField||-1===(null==(S=z.default.fields)||null==(P=S[$])||null==(L=P[A])||null==(D=L.required)?void 0:D.indexOf(R.zohoFormField));var G,K,U,W,Y,J,X,H,Q,ee,te="";null!=z&&z.projectId?null!=(G=z.default)&&null!=(K=G.fields)&&null!=(U=K[z.portalId])&&null!=(W=U[z.projectId])&&null!=(Y=W[A])&&Y.fields&&(te=z.field_map[A].length===Object.keys(null==(J=z.default)||null==(X=J.fields)||null==(H=X[z.portalId])||null==(Q=H[z.projectId])||null==(ee=Q[A])?void 0:ee.fields).length):null!=(t=z.default)&&null!=(l=t.fields)&&null!=(i=l[z.portalId])&&null!=(r=i[A])&&r.fields&&(te=z.field_map[A].length===Object.keys(null==(o=z.default)||null==(c=o.fields)||null==(u=c[z.portalId])||null==(d=u[A])?void 0:d.fields).length);var le=function(e,t){var l=(0,n.Z)({},z);l.field_map[A][t][e.target.name]=e.target.value,"custom"===e.target.value&&(l.field_map[A][t].customValue=""),V((0,n.Z)({},l))};return(0,f.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,f.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,f.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:R.formField||"",onChange:function(e){return le(e,M)},children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Field","bitform")}),(0,f.jsx)("optgroup",{label:"Form Fields",children:q.map((function(e){return"file-up"!==e.type&&(0,f.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)}))}),(0,f.jsx)("option",{value:"custom",children:(0,s.__)("Custom...","bitform")}),(0,f.jsx)("optgroup",{label:"General Smart Codes "+(B?"":"(PRO)"),children:B&&(null==_.C?void 0:_.C.map((function(e){return(0,f.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),"custom"===R.formField&&(0,f.jsx)(v.Z,{onChange:function(e){return function(e,t){var l=(0,n.Z)({},z);l.field_map[A][t].customValue=e.target.value,V((0,n.Z)({},l))}(e,M)},label:(0,s.__)("Custom Value","bitform"),className:"mr-2",type:"text",value:R.customValue,placeholder:(0,s.__)("Custom Value","bitform")}),(0,f.jsxs)("select",{className:"btcd-paper-inp",name:"zohoFormField",value:R.zohoFormField||"",disabled:!w,onChange:function(e){return le(e,M)},children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Field","bitform")}),null!=z&&z.projectId?(null==(m=z.default)||null==(p=m.fields)||null==(x=p[$])||null==(g=x[z.projectId])||null==(k=g[A])?void 0:k.fields)&&Object.values(z.default.fields[$][z.projectId][A].fields).map((function(e){return w?!(null!=e&&e.required)&&(0,f.jsx)("option",{value:e.apiName,children:e.displayLabel},e.displayLabel):(null==e?void 0:e.required)&&(0,f.jsx)("option",{value:e.apiName,children:e.displayLabel},e.displayLabel)})):(null==(y=z.default)||null==(N=y.fields)||null==(I=N[$])||null==(C=I[A])?void 0:C.fields)&&Object.values(z.default.fields[$][A].fields).map((function(e){return w?!(null!=e&&e.required)&&(0,f.jsx)("option",{value:e.apiName,children:e.displayLabel},e.displayLabel):(null==e?void 0:e.required)&&(0,f.jsx)("option",{value:e.apiName,children:e.displayLabel},e.displayLabel)}))]})]}),!te&&(0,f.jsx)("button",{onClick:function(){return j(M,z,V,A)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),w&&(0,f.jsx)("button",{onClick:function(){return function(e){var t=(0,n.Z)({},z);t.field_map[A].length>1&&t.field_map[A].splice(e,1),V((0,n.Z)({},t))}(M)},className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:(0,f.jsx)(a.Z,{})})]})}function g(e){var t,l,i,r,o,c,u,d,b,h,_,v=e.event,g=e.projectsConf,k=e.setProjectsConf,y=e.formID,N=e.formFields,I=e.isLoading,C=e.setisLoading,w=e.setSnackbar,F="";if(null!=g&&g.projectId&&null!=(t=g.default)&&null!=(l=t.fields)&&null!=(i=l[g.portalId])&&null!=(r=i[g.projectId])&&null!=(o=r[v])&&o.fields)F=g.field_map[v].length===Object.keys(g.default.fields[g.portalId][g.projectId][v].fields).length;else if(null!=(c=g.default)&&null!=(u=c.fields)&&null!=(d=u[g.portalId])&&null!=(b=d[v])&&b.fields){var Z;F=g.field_map[v].length===Object.keys(null==(Z=g.default.fields[g.portalId][v])?void 0:Z.fields).length}return(0,f.jsxs)("div",{className:"btcd-ttc",children:[(0,f.jsx)("div",{className:"mt-4",children:(0,f.jsxs)("div",{className:"d-flx flx-between",children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("b",{className:"wdt-100",children:[(0,s.__)("Create","bitform")," "+v]}),(0,f.jsx)("button",{onClick:function(){return(0,m.GX)(y,g,k,C,w,v)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Fields","bitform")+"'"},type:"button",disabled:I,children:"↻"})]}),g.event!==v&&(0,f.jsx)("button",{onClick:function(){var e=(0,n.Z)({},g);e.subEvent.splice(e.subEvent.indexOf(v),1),k((0,n.Z)({},e))},className:"icn-btn sh-sm ml-2 mr-2",type:"button","aria-label":"delete",children:(0,f.jsx)(a.Z,{})})]})}),(0,f.jsx)("div",{className:"btcd-hr mt-1"}),(0,f.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,f.jsx)("div",{className:"txt-dp",children:(0,f.jsx)("b",{children:(0,s.__)("Form Fields","bitform")})}),(0,f.jsx)("div",{className:"txt-dp",children:(0,f.jsx)("b",{children:(0,s.__)("Zoho Fields","bitform")})})]}),null==(h=g.field_map)||null==(_=h[v])?void 0:_.map((function(e,t){return(0,f.jsx)(x,{i:t,event:v,field:e,projectsConf:g,formFields:N,setProjectsConf:k},"projects-m-"+(t+9))})),!F&&(0,f.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,f.jsx)("button",{onClick:function(){return j(g.field_map[v].length,g,k,v)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("div",{className:"mt-4",children:(0,f.jsxs)("b",{className:"wdt-100",children:[""+v," ",(0,s.__)("Actions","bitform")]})}),(0,f.jsx)("div",{className:"btcd-hr mt-1"}),(0,f.jsx)(p,{event:v,projectsConf:g,setProjectsConf:k,formID:y,formFields:N,setSnackbar:w}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{})]})}function k(e){var t,l,a,r,o,c,u,d,p,b,h,_,v,j,x,k,y,N,I,C,w,F,Z,T,O,E,S=e.formID,P=e.formFields,L=e.handleInput,D=e.projectsConf,M=e.setProjectsConf,A=e.isLoading,q=e.setisLoading,R=e.setSnackbar,z=function(e){var t,l=(0,n.Z)({},D),s=[];s[0]=e.target.getAttribute("event"),"tasklist"===s[0]&&l.tasklistFlag&&(l.tasklistFlag=""),"subtask"===(null==(t=l)?void 0:t.event)&&["project","milestone","tasklist"].includes(s[0])&&!l.subEvent.includes("task")&&(l.taskId="",s.push("task")),l[s[0]+"Id"]="",s.map((function(e){if(!l.subEvent.includes(e)){l.actions[e]={},l.subEvent.push(e),l=(0,m.Yd)(S,l,M,q,R),"tasklist"===e&&(l.tasklistFlag="");var t=["project","milestone","tasklist","task","subtask","issue"];l.subEvent.sort((function(e,l){return t.indexOf(e)-t.indexOf(l)}))}})),M((0,n.Z)({},l))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("br",{}),(0,f.jsx)("b",{className:"wdt-150 d-in-b",children:(0,s.__)("Portal:","bitform")}),(0,f.jsxs)("select",{onChange:L,name:"portalId",value:D.portalId,className:"btcd-paper-inp w-7",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Portal","bitform")}),(null==D||null==(t=D.default)?void 0:t.portals)&&Object.values(D.default.portals).map((function(e){return(0,f.jsx)("option",{value:e.portalId,children:e.portalName},e.portalId)}))]}),(0,f.jsx)("button",{onClick:function(){return(0,m.c0)(S,D,M,q,R)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Projects Portals","bitform")+"'"},type:"button",disabled:A,children:"↻"}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("b",{className:"wdt-150 d-in-b",children:(0,s.__)("Event:","bitform")}),(0,f.jsxs)("select",{onChange:L,name:"event",value:D.event,className:"btcd-paper-inp w-7",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Event","bitform")}),(null==D?void 0:D.portalId)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("option",{value:"project",children:(0,s.__)("Create Project","bitform")}),(0,f.jsx)("option",{value:"milestone",children:(0,s.__)("Create Milestone","bitform")}),(0,f.jsx)("option",{value:"tasklist",children:(0,s.__)("Create Tasklist","bitform")}),(0,f.jsx)("option",{value:"task",children:(0,s.__)("Create Task","bitform")}),(0,f.jsx)("option",{value:"subtask",children:(0,s.__)("Create Sub Task","bitform")}),(0,f.jsx)("option",{value:"issue",children:(0,s.__)("Create Issue","bitform")})]})]}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(null==D?void 0:D.event)&&"project"!==D.event&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("b",{className:"wdt-150 d-in-b",children:"Project:"}),(0,f.jsxs)("select",{onChange:L,name:"projectId",value:D.projectId,className:"btcd-paper-inp w-7",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Project","bitform")}),(null==D||null==(l=D.default)||null==(a=l.projects)?void 0:a[D.portalId])&&Object.values(D.default.projects[D.portalId]).map((function(e,t){return(0,f.jsx)("option",{value:e.projectId,children:e.projectName},e.projectId+"_"+t)}))]}),(0,f.jsx)("button",{onClick:function(){return(0,m.Ir)(S,D,M,q,R)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Projects","bitform")+"'"},type:"button",disabled:A,children:"↻"}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("span",{className:"btcd-link cp",style:{marginLeft:155},event:"project",onClick:z,onKeyDown:z,role:"button",tabIndex:"0",children:(0,s.__)("create a new project","bitform")}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{})]}),((null==D?void 0:D.projectId)||(null==D||null==(r=D.subEvent)?void 0:r.includes("project")))&&!["project","milestone"].includes(null==D?void 0:D.event)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("b",{className:"wdt-150 d-in-b",children:(0,s.__)("Milestone:","bitform")}),!D.subEvent.includes("project")&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("select",{onChange:L,name:"milestoneId",value:D.milestoneId,className:"btcd-paper-inp w-7",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Milestone","bitform")}),(null==D||null==(o=D.default)||null==(c=o.milestones)?void 0:c[D.projectId])&&Object.values(D.default.milestones[D.projectId]).map((function(e,t){return(0,f.jsx)("option",{value:e.milestoneId,children:e.milestoneName},e.milestoneId+"_"+t)}))]}),(0,f.jsx)("button",{onClick:function(){return(0,m.WP)(S,D,M,q,R)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Milestones","bitform")+"'"},type:"button",disabled:A,children:"↻"}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{})]}),(0,f.jsx)("span",{className:"btcd-link cp",style:{marginLeft:D.subEvent.includes("project")?5:155},event:"milestone",onClick:z,onKeyDown:z,role:"button",tabIndex:"0",children:(0,s.__)("create a new milestone","bitform")}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{})]}),((null==D?void 0:D.projectId)||(null==D||null==(u=D.subEvent)?void 0:u.includes("project")))&&["task","subtask"].includes(null==D?void 0:D.event)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("b",{className:"wdt-150 d-in-b",children:D.subEvent.includes("project")||D.subEvent.includes("milestone")?(0,s.__)("Tasklist:","bitform"):(0,s.__)("Tasklist Flag:","bitform")}),!D.subEvent.includes("project")&&!D.subEvent.includes("milestone")&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("select",{onChange:L,name:"tasklistFlag",value:D.tasklistFlag,className:"btcd-paper-inp w-7",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Tasklist Flag","bitform")}),!(null!=D&&D.subEvent.includes("milestone"))&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("option",{value:"internal",children:(0,s.__)("Internal","bitform")}),(0,f.jsx)("option",{value:"external",children:(0,s.__)("External","bitform")})]})]}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(null==D?void 0:D.tasklistFlag)&&!(null!=D&&D.subEvent.includes("milestone"))&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("b",{className:"wdt-150 d-in-b",children:(0,s.__)("Tasklist:","bitform")}),(0,f.jsxs)("select",{onChange:L,name:"tasklistId",value:D.tasklistId,className:"btcd-paper-inp w-7",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Tasklist","bitform")}),null!=D&&D.milestoneId?(null==D||null==(d=D.default)||null==(p=d.tasklists)||null==(b=p[D.portalId])||null==(h=b[D.milestoneId])?void 0:h[D.tasklistFlag])&&Object.values(D.default.tasklists[D.portalId][D.milestoneId][D.tasklistFlag]).map((function(e,t){return e.tasklistId&&(0,f.jsx)("option",{value:e.tasklistId,children:e.tasklistName},e.tasklistId+"_"+t)})):(null==D||null==(_=D.default)||null==(v=_.tasklists)||null==(j=v[D.portalId])?void 0:j[D.tasklistFlag])&&Object.values(D.default.tasklists[D.portalId][D.tasklistFlag]).map((function(e,t){return e.tasklistId&&(0,f.jsx)("option",{value:e.tasklistId,children:e.tasklistName},e.tasklistId+"_"+t)}))]}),(0,f.jsx)("button",{onClick:function(){return(0,m.AA)(S,D,M,q,R)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,s.__)("Refresh Milestones","bitform")+"'"},type:"button",disabled:A,children:"↻"}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{})]})]}),(0,f.jsx)("span",{className:"btcd-link cp",style:{marginLeft:D.subEvent.includes("project")||D.subEvent.includes("milestone")?5:155},event:"tasklist",onClick:z,onKeyDown:z,role:"button",tabIndex:"0",children:(0,s.__)("create a new tasklist","bitform")}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{})]}),"subtask"===(null==D?void 0:D.event)&&((null==D?void 0:D.projectId)||D.subEvent.includes("project"))&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("b",{className:"wdt-150 d-in-b",children:(0,s.__)("Task:","bitform")}),!D.subEvent.includes("project")&&!D.subEvent.includes("milestone")&&!D.subEvent.includes("tasklist")&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("select",{onChange:L,name:"taskId",value:D.taskId,className:"btcd-paper-inp w-7",children:[(0,f.jsx)("option",{value:"",children:(0,s.__)("Select Task","bitform")}),null!=D&&D.milestoneId?null!=D&&D.tasklistId?(null==D||null==(x=D.default)||null==(k=x.tasks)||null==(y=k[D.portalId])||null==(N=y[D.milestoneId])?void 0:N[D.tasklistId])&&Object.values(D.default.tasks[D.portalId][D.milestoneId][D.tasklistId]).map((function(e,t){return e.taskId&&(0,f.jsx)("option",{value:e.taskId,children:e.taskName},e.taskId+"_"+t)})):(null==D||null==(I=D.default)||null==(C=I.tasks)||null==(w=C[D.portalId])?void 0:w[D.milestoneId])&&Object.values(D.default.tasks[D.portalId][D.milestoneId]).map((function(e,t){return e.taskId&&(0,f.jsx)("option",{value:e.taskId,children:e.taskName},e.taskId+"_"+t)})):null!=D&&D.tasklistId?(null==D||null==(F=D.default)||null==(Z=F.tasks)||null==(T=Z[D.portalId])?void 0:T[D.tasklistId])&&Object.values(D.default.tasks[D.portalId][D.tasklistId]).map((function(e,t){return e.taskId&&(0,f.jsx)("option",{value:e.taskId,children:e.taskName},e.taskId+"_"+t)})):(null==D||null==(O=D.default)||null==(E=O.tasks)?void 0:E[D.portalId])&&Object.values(D.default.tasks[D.portalId]).map((function(e,t){return e.taskId&&(0,f.jsx)("option",{value:e.taskId,children:e.taskName},e.taskId+"_"+t)}))]}),(0,f.jsx)("button",{onClick:function(){return(0,m.D6)(S,D,M,q,R)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh Tasks"'},type:"button",disabled:A,children:"↻"}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{})]}),(0,f.jsx)("span",{className:"btcd-link cp",style:{marginLeft:D.subEvent.includes("project")||D.subEvent.includes("milestone")||D.subEvent.includes("tasklist")?5:155},event:"task",onClick:z,onKeyDown:z,role:"button",tabIndex:"0",children:(0,s.__)("create a new task","bitform")}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{})]}),A&&(0,f.jsx)(i.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),(null==D?void 0:D.event)&&(null==D?void 0:D.subEvent)&&("project"===D.event||(D.projectId?"subtask"!==D.event||"subtask"===D.event&&((null==D?void 0:D.taskId)||(null==D?void 0:D.subEvent.includes("task"))):D.subEvent.includes("project")))&&D.subEvent.map((function(e){return(0,f.jsx)(g,{event:e,projectsConf:D,setProjectsConf:M,formID:S,formFields:P,isLoading:A,setisLoading:q,setSnackbar:R},"subEvent-"+e)}))]})}},8692:(e,t,l)=>{l.d(t,{Z:()=>s});var n=l(85893);const s=function(e){var t=e.className,l=e.disabled,s=e.checked,i=e.onChange,a=e.radio,r=e.name,o=e.title,c=e.value,u=e.sqr;return(0,n.jsxs)("label",{className:"btcd-ck-wrp "+t,children:[o,(0,n.jsx)("input",{type:a?"radio":"checkbox",checked:s,onChange:i,name:r,value:c,disabled:l}),(0,n.jsx)("span",{className:"btcd-mrk "+(!u&&"br-50")+" "+(a?"rdo":"ck")})]})}},88530:(e,t,l)=>{l.d(t,{Z:()=>s});var n=l(85893);const s=function(e){var t=e.label,l=e.onChange,s=e.value,i=e.disabled,a=e.type,r=e.textarea,o=e.className;return(0,n.jsxs)("label",{className:"btcd-mt-inp "+o,children:[!r&&(0,n.jsx)("input",{type:void 0===a?"text":a,onChange:l,placeholder:" ",disabled:i,value:s}),r&&(0,n.jsx)("textarea",{type:void 0===a?"text":a,onChange:l,placeholder:" ",disabled:i,value:s}),(0,n.jsx)("span",{children:t})]})}}}]);