"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[5147],{21801:(e,t,l)=>{l.d(t,{Pd:()=>o,Rx:()=>r,Ys:()=>d,gn:()=>c});var s=l(87462),a=l(80160),i=l(35637),n=l(39492),r=function(e,t,l,a){var i=(0,s.Z)({},t);i.name=e.target.value,l((0,s.Z)({},i))},o=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField||!e.getgistFormField||"custom"===!e.formField&&!e.customValue})):[]).length>0)},d=function(e,t,l){l(!0);var r={apiKey:e.api_key},o=(0,n.Z)(r,"bitforms_getgist_tags").then((function(a){if(a&&a.success){var i=(0,s.Z)({},e);return i.default||(i.default={}),i.default.tags=a.data,t((0,s.Z)({},i)),l(!1),"Tags refreshed successfully"}return l(!1),"Tags refresh failed. Please, try again"}));a.ZP.promise(o,{success:function(e){return e},error:(0,i.__)("Error Occurred","bitform"),loading:(0,i.__)("Loading Tags...")})},c=function(e){var t=null==e?void 0:e.gistFields.filter((function(e){return!0===e.required}));return t.length>0?t.map((function(e){return{formField:"",getgistFormField:e.key}})):[{formField:"",getgistFormField:""}]}},66918:(e,t,l)=>{l.d(t,{Z:()=>x});var s=l(87462),a=l(35637),i=l(14383),n=l(67294),r=l(97707),o=l(68381),d=l(34401),c=l(23921),u=(l(78774),l(21801)),m=l(85893);function f(e){var t,l,i,f=e.getgistConf,p=e.setGetgistConf,g=(e.formFields,(0,n.useState)(!1)),h=g[0],b=g[1],v=(0,n.useState)({show:!1,action:function(){}}),_=v[0],x=v[1],j=(0,n.useState)({show:!1}),F=(j[0],j[1],function(){x({show:!1})});return(0,m.jsxs)("div",{className:"pos-rel d-flx w-8",children:[(0,m.jsx)(c.Z,{checked:(null==f||null==(t=f.actions)?void 0:t.tags)||!1,onChange:function(e){return function(e,t){var l=(0,s.Z)({},f);e.target.checked?("tags"===t&&(0,u.Ys)(f,p,b),l.actions[t]=!0,x({show:t})):(x({show:!1}),delete l.actions[t]),p((0,s.Z)({},l))}(e,"tags")},className:"wdt-200 mt-4 mr-2",value:"tags",title:(0,a.__)("Tags","bitform"),subTitle:(0,a.__)("Add tags to contact","bitform")}),(0,m.jsxs)(d.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,a.__)("Ok","bitform"),show:"tags"===_.show,close:F,action:F,title:(0,a.__)("Tags","bitform"),children:[(0,m.jsx)("div",{className:"btcd-hr mt-2 mb-2"}),h?(0,m.jsx)(o.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,m.jsxs)("div",{className:"flx flx-between mt-2",children:[(0,m.jsx)(r.Z,{className:"msl-wrp-options",defaultValue:null==f?void 0:f.tags,options:null==(l=f.default)||null==(i=l.tags)?void 0:i.map((function(e){return{label:e.tagName,value:e.tagName.toString()}})),onChange:function(e){return function(e,t){var l=(0,s.Z)({},f);l[t]=e,p((0,s.Z)({},l))}(e,"tags")}}),(0,m.jsx)("button",{onClick:function(){return(0,u.Ys)(f,p,b)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":(0,a.__)("Refresh Tags","bitform")+"'"},type:"button",disabled:h,children:"↻"})]})]})]})}var p=l(2804),g=l(54017),h=l(23312),b=l(80410),v=l(88530);function _(e){var t,l,i=e.i,n=e.formFields,r=e.field,o=e.getgistConf,d=e.setGetgistConf,c=(0,p.sJ)(g.hi).isPro;if(1===(null==o||null==(t=o.field_map)?void 0:t.length)&&""===(null==r?void 0:r.getgistFormField)){var f=(0,s.Z)({},o),_=(0,u.gn)(f);f.field_map=_,d(f)}var x=function(e,t){var l=(0,s.Z)({},o);l.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(l.field_map[t].customValue=""),d(l)},j=(null==o?void 0:o.gistFields.filter((function(e){return!0===e.required})))||[],F=(null==o?void 0:o.gistFields.filter((function(e){return!1===e.required})))||[];return(0,m.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,m.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,m.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:r.formField||"",onChange:function(e){return x(e,i)},children:[(0,m.jsx)("option",{value:"",children:(0,a.__)("Select Field","bitform")}),(0,m.jsx)("optgroup",{label:"Form Fields",children:n.map((function(e){return"file"!==e.type&&(0,m.jsx)("option",{value:e.key,children:e.name},"ff-getgist-"+e.key)}))}),(0,m.jsx)("option",{value:"custom",children:(0,a.__)("Custom...","bitform")}),(0,m.jsx)("optgroup",{label:"General Smart Codes "+(c?"":"(PRO)"),children:c&&(null==b.C?void 0:b.C.map((function(e){return(0,m.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),"custom"===r.formField&&(0,m.jsx)(v.Z,{onChange:function(e){return function(e,t){var l=(0,s.Z)({},o);l.field_map[t].customValue=e.target.value,d(l)}(e,i)},label:(0,a.__)("Custom Value","bitform"),className:"mr-2",type:"text",value:r.customValue,placeholder:(0,a.__)("Custom Value","bitform")}),(0,m.jsxs)("select",{className:"btcd-paper-inp",disabled:i<j.length,name:"getgistFormField",value:i<j.length?(null==(l=j[i])?void 0:l.key)||"":r.getgistFormField||"",onChange:function(e){return x(e,i)},children:[(0,m.jsx)("option",{value:"",children:(0,a.__)("Select Field","bitform")}),i<j.length?(0,m.jsx)("option",{value:j[i].key,children:j[i].label},j[i].key):F.map((function(e){var t=e.key,l=e.label;return(0,m.jsx)("option",{value:t,children:l},t)}))]})]}),i>=(null==j?void 0:j.length)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("button",{onClick:function(){return function(e){var t=(0,s.Z)({},o);t.field_map.splice(e,0,{}),d(t)}(i)},className:"icn-btn sh-sm ml-2",type:"button",children:"+"}),(0,m.jsx)("button",{onClick:function(){return function(e){var t=(0,s.Z)({},o);t.field_map.length>1&&t.field_map.splice(e,1),d(t)}(i)},className:"icn-btn sh-sm ml-2",type:"button","aria-label":"btn",children:(0,m.jsx)(h.Z,{})})]})]})}function x(e){var t=e.formFields,l=e.getgistConf,n=e.setGetgistConf;e.isLoading,e.setIsLoading,e.error,e.setError;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("br",{}),(0,m.jsx)("b",{className:"wdt-200 d-in-b",children:(0,a.__)("User Type:","bitform")}),(0,m.jsxs)("select",{onChange:function(e){var t=e.target,a=t.name,i=t.value,r=(0,s.Z)({},l);r[a]=i,"User"===i?("User"===i&&(r.userId=Math.floor(4294967296*(1+Math.random())).toString(16).substring(1)),r.field_map=[{formField:"",getgistFormField:"email"}]):(null!=r&&r.userId&&delete r.userId,r.field_map=[{formField:"",getgistFormField:"email"}]),n((0,s.Z)({},r))},name:"user_type",value:null==l?void 0:l.user_type,className:"btcd-paper-inp w-5",children:[(0,m.jsx)("option",{value:"",children:(0,a.__)("Select User Type","bitform")}),[{key:"User",label:"User"},{key:"Lead",label:"Lead"}].map((function(e){var t=e.key,l=e.label;return(0,m.jsx)("option",{value:t,children:l},t)}))]}),(0,m.jsx)("div",{className:"mt-4",children:(0,m.jsx)("b",{className:"wdt-100",children:(0,a.__)("Map Fields","bitform")})}),(0,m.jsx)("div",{className:"btcd-hr mt-1"}),(0,m.jsxs)("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[(0,m.jsx)("div",{className:"txt-dp",children:(0,m.jsx)("b",{children:(0,a.__)("Form Fields","bitform")})}),(0,m.jsx)("div",{className:"txt-dp",children:(0,m.jsx)("b",{children:(0,a.__)("Gist Fields","bitform")})})]}),null==l?void 0:l.field_map.map((function(e,s){return(0,m.jsx)(_,{i:s,field:e,getgistConf:l,formFields:t,setGetgistConf:n},"getgist-m-"+(s+9))})),(0,m.jsx)("div",{className:"txt-center mt-2",style:{marginRight:85},children:(0,m.jsx)("button",{onClick:function(){return(0,i.FP)(l.field_map.length,l,n)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(null==l?void 0:l.user_type)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"mt-4",children:(0,m.jsx)("b",{className:"wdt-100",children:(0,a.__)("Actions","bitform")})}),(0,m.jsx)("div",{className:"btcd-hr mt-1"}),(0,m.jsx)(f,{getgistConf:l,setGetgistConf:n,formFields:t})]})]})}},14383:(e,t,l)=>{l.d(t,{FP:()=>n,Mm:()=>a,T5:()=>r,WK:()=>i,mG:()=>d,wX:()=>o});var s=l(87462),a=(l(35637),l(39492),function(e,t,l,a,i,n,r){var o=[].concat(e);if(r)o[n]=(0,s.Z)({},e[n],a),o.push({editItegration:!0}),t([].concat(o)),i.push(l);else{var d=[].concat(o);d.push(a),d.push({newItegration:!0}),t(d),i.push(l)}}),i=function(e){var t={},l=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");l&&l.forEach((function(e){var l=e.split("=");l[1]&&(t[l[0]]=l[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(t)),window.close()},n=function(e,t,l,a,i){var n=(0,s.Z)({},t);i?a?n.relatedlists[i-1].upload_field_map.splice(e,0,{}):n.relatedlists[i-1].field_map.splice(e,0,{}):a?n.upload_field_map.splice(e,0,{}):n.field_map.splice(e,0,{}),l((0,s.Z)({},n))},r=function(e,t,l,a,i){var n=(0,s.Z)({},t);i?a?n.relatedlists[i-1].upload_field_map.length>1&&n.relatedlists[i-1].upload_field_map.splice(e,1):n.relatedlists[i-1].field_map.length>1&&n.relatedlists[i-1].field_map.splice(e,1):a?n.upload_field_map.length>1&&n.upload_field_map.splice(e,1):n.field_map.length>1&&n.field_map.splice(e,1),l((0,s.Z)({},n))},o=function(e,t,l,a,i,n){var r=(0,s.Z)({},l);n?i?r.relatedlists[n-1].upload_field_map[t][e.target.name]=e.target.value:r.relatedlists[n-1].field_map[t][e.target.name]=e.target.value:i?r.upload_field_map[t][e.target.name]=e.target.value:r.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(n?r.relatedlists[n-1].field_map[t].customValue="":r.field_map[t].customValue=""),a((0,s.Z)({},r))},d=function(e,t,l,a,i){var n=(0,s.Z)({},l);i?n.relatedlists[i-1].field_map[t].customValue=e.target.value:n.field_map[t].customValue=e.target.value,a((0,s.Z)({},n))}},85813:(e,t,l)=>{l.d(t,{Z:()=>i});var s=l(35637),a=l(85893);function i(e){var t=e.step,l=e.saveConfig,i=e.edit,n=e.disabled;return i?(0,a.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,a.jsx)("button",{onClick:l,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:n,children:(0,s.__)("Update","bitform")})}):(0,a.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,a.jsx)("h2",{className:"ml-3",children:(0,s.__)("Successfully Integrated","bitform")}),(0,a.jsxs)("button",{onClick:l,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,s.__)("Finish & Save ","bitform")," ✔"]})]})}},88530:(e,t,l)=>{l.d(t,{Z:()=>a});var s=l(85893);const a=function(e){var t=e.label,l=e.onChange,a=e.value,i=e.disabled,n=e.type,r=e.textarea,o=e.className;return(0,s.jsxs)("label",{className:"btcd-mt-inp "+o,children:[!r&&(0,s.jsx)("input",{type:void 0===n?"text":n,onChange:l,placeholder:" ",disabled:i,value:a}),r&&(0,s.jsx)("textarea",{type:void 0===n?"text":n,onChange:l,placeholder:" ",disabled:i,value:a}),(0,s.jsx)("span",{children:t})]})}}}]);