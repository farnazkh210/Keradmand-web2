"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[2005],{81194:(e,t,n)=>{n.d(t,{I:()=>a});var a=[{key:"post_title",name:"Post Title",required:!0},{key:"post_name",name:"Post Name"},{key:"post_content",name:"Post Content"},{key:"post_excerpt",name:"Post Excerpt"},{key:"_thumbnail_id",name:"Featured Image"}]},14383:(e,t,n)=>{n.d(t,{FP:()=>s,Mm:()=>l,T5:()=>r,WK:()=>i,mG:()=>d,wX:()=>o});var a=n(87462),l=(n(35637),n(39492),function(e,t,n,l,i,s,r){var o=[].concat(e);if(r)o[s]=(0,a.Z)({},e[s],l),o.push({editItegration:!0}),t([].concat(o)),i.push(n);else{var d=[].concat(o);d.push(l),d.push({newItegration:!0}),t(d),i.push(n)}}),i=function(e){var t={},n=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");n&&n.forEach((function(e){var n=e.split("=");n[1]&&(t[n[0]]=n[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(t)),window.close()},s=function(e,t,n,l,i){var s=(0,a.Z)({},t);i?l?s.relatedlists[i-1].upload_field_map.splice(e,0,{}):s.relatedlists[i-1].field_map.splice(e,0,{}):l?s.upload_field_map.splice(e,0,{}):s.field_map.splice(e,0,{}),n((0,a.Z)({},s))},r=function(e,t,n,l,i){var s=(0,a.Z)({},t);i?l?s.relatedlists[i-1].upload_field_map.length>1&&s.relatedlists[i-1].upload_field_map.splice(e,1):s.relatedlists[i-1].field_map.length>1&&s.relatedlists[i-1].field_map.splice(e,1):l?s.upload_field_map.length>1&&s.upload_field_map.splice(e,1):s.field_map.length>1&&s.field_map.splice(e,1),n((0,a.Z)({},s))},o=function(e,t,n,l,i,s){var r=(0,a.Z)({},n);s?i?r.relatedlists[s-1].upload_field_map[t][e.target.name]=e.target.value:r.relatedlists[s-1].field_map[t][e.target.name]=e.target.value:i?r.upload_field_map[t][e.target.name]=e.target.value:r.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(s?r.relatedlists[s-1].field_map[t].customValue="":r.field_map[t].customValue=""),l((0,a.Z)({},r))},d=function(e,t,n,l,i){var s=(0,a.Z)({},n);i?s.relatedlists[i-1].field_map[t].customValue=e.target.value:s.field_map[t].customValue=e.target.value,l((0,a.Z)({},s))}},92005:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(87462),l=n(74320),i=n(67294),s=n(5977),r=n(39492),o=n(14383),d=n(42247),c=n(90772),m=n(35001),u=n(81194),p=n(85893);const f=function(e){var t=e.formFields,n=e.setIntegration,f=e.integrations,h=e.allIntegURL,_=(0,i.useState)([]),v=_[0],x=_[1],b=(0,i.useState)([]),j=b[0],g=b[1],N=(0,s.UO)().id,F=(0,s.k6)(),y=(0,i.useState)((0,a.Z)({},f[N])),C=y[0],Z=y[1],k=(0,i.useState)([]),w=k[0],P=k[1],S=(0,i.useState)({show:!1}),I=S[0],O=S[1];(0,i.useEffect)((function(){(0,r.Z)({},"bitforms_get_pod_type").then((function(e){var t,n;null!=e&&e.success&&void 0!==e&&(x(Object.values(null==(t=e.data)?void 0:t.post_types)),g(null==(n=e.data)?void 0:n.users))})),(0,r.Z)({pod_type:null==C?void 0:C.post_type},"bitforms_get_pod_field").then((function(e){null!=e&&e.success&&void 0!==e&&P(Object.values(null==e?void 0:e.data))}))}),[]);var q=function(e,t,n){var l=(0,a.Z)({},C);l[e]=n?Number(t):t,Z(l)};return(0,p.jsxs)("div",{style:{width:900},children:[(0,p.jsx)(m.Z,{snack:I,setSnackbar:O}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,l.__)("Integration Name ","bitform")})}),(0,p.jsx)("input",{className:"btcd-paper-inp w-5 mt-1",onChange:function(e){return q(e.target.name,e.target.value)},name:"name",value:C.name,type:"text",placeholder:(0,l.__)("Integration Name...","bitform")}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,l.__)("Post Type","bitform")})}),(0,p.jsxs)("select",{name:"post_type",onChange:function(e){return function(e,t){var n=(0,a.Z)({},C);n[e]=t,(0,r.Z)({pod_type:t},"bitforms_get_pod_field").then((function(e){var t;null!=e&&e.success&&void 0!==e&&(P(Object.values(null==e?void 0:e.data)),null!=e&&e.data&&(n.pod_map=Object.values(e.data).filter((function(e){return e.required})).map((function(e){return{formField:"",podFormField:e.key,required:e.required}})),(null==n||null==(t=n.pod_map)?void 0:t.length)<1&&(n.pod_map=[{}])),Z(n))}))}(e.target.name,e.target.value)},value:null==C?void 0:C.post_type,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:"Select Type"}),v.map((function(e,t){return(0,p.jsx)("option",{value:e.name,children:e.label},"pod-"+2*t)}))]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,l.__)("Post Status","bitform")})}),(0,p.jsxs)("select",{name:"post_status",onChange:function(e){return q(e.target.name,e.target.value)},value:null==C?void 0:C.post_status,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:(0,l.__)("Select Status","bitform")}),(0,p.jsx)("option",{value:"publish",children:"Publish"}),(0,p.jsx)("option",{value:"draft",children:"Draft"}),(0,p.jsx)("option",{value:"inherit",children:"Inherit"}),(0,p.jsx)("option",{value:"auto-draft",children:"Auto-Draft"}),(0,p.jsx)("option",{value:"private ",children:"Private"}),(0,p.jsx)("option",{value:"pending",children:"Pending"})]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,l.__)("Comment Status","bitform")})}),(0,p.jsxs)("select",{name:"comment_status",onChange:function(e){return q(e.target.name,e.target.value)},value:null==C?void 0:C.comment_status,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:(0,l.__)("Select Status","bitform")}),(0,p.jsx)("option",{value:"open",children:"Open"}),(0,p.jsx)("option",{value:"closed",children:"Closed"})]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,l.__)("Author","bitform")})}),(0,p.jsxs)("select",{name:"post_author",onChange:function(e){return q(e.target.name,e.target.value)},value:null==C?void 0:C.post_author,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:"Logged In User"}),j.map((function(e,t){return(0,p.jsx)("option",{value:e.ID,children:e.display_name},"pod-"+2*t)}))]}),(0,p.jsx)("div",{children:(0,p.jsxs)("p",{className:"p-1 f-m",children:[(0,p.jsx)("strong",{children:"Note"})," ",": All your taxonomies will be mapped automatically from your form fields."]})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"mt-3 mb-1",children:(0,p.jsx)("b",{children:"Pod Fields Mapping"})}),(0,p.jsx)("div",{className:"btcd-hr"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,l.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,l.__)("Pod Fields","bitform")})})]})]}),C.pod_map.map((function(e,n){return(0,p.jsx)(c.Z,{i:n,type:"pod",field:e,formFields:t,dataConf:C,setDataConf:Z,podFields:w},"analytics-m-"+(n+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,d.FP)("pod_map",C.pod_map.length,C,Z)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"mt-3 mb-1",children:(0,p.jsx)("b",{children:"Post Fields Mapping"})}),(0,p.jsx)("div",{className:"btcd-hr"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,l.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,l.__)("Post Fields","bitform")})})]})]}),C.post_map.map((function(e,n){return(0,p.jsx)(c.Z,{i:n,type:"post",field:e,formFields:t,dataConf:C,setDataConf:Z,podFields:u.I},"analytics-m-"+(n+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,d.FP)("post_map",C.post_map.length,C,Z)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,p.jsxs)("button",{className:"btn f-left btcd-btn-lg green sh-sm flx",type:"button",onClick:function(){(0,d.aJ)(C)&&(0,d.UW)(C)?(0,o.Mm)(f,n,h,C,F,N,"edit"):O({show:!0,msg:(0,l.__)("Please map mandatory fields","bitform")})},children:[(0,l.__)("Save","bitform")," "]})]})}},90772:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(2804),l=n(54017),i=n(23312),s=n(35637),r=n(80410),o=n(42247),d=n(85893);function c(e){var t=e.i,n=e.type,c=e.formFields,m=e.field,u=e.dataConf,p=e.setDataConf,f=e.podFields,h=(0,a.sJ)(l.hi).isPro,_={pod:{propName:"pod_map",fldName:"podFormField"},post:{propName:"post_map",fldName:"postFormField"}}[n],v=_.propName,x=_.fldName,b=!!f.find((function(e){return e.key===m[x]&&e.required}));return(0,d.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,d.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,d.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:m.formField||"",onChange:function(e){return(0,o.wX)(v,e,t,u,p)},children:[(0,d.jsx)("option",{value:"",children:(0,s.__)("Select Field","bitform")}),(0,d.jsx)("optgroup",{label:"Form Fields",children:c.map((function(e){return"file-up"!==e.type&&(0,d.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)}))}),(0,d.jsx)("option",{value:"custom",children:(0,s.__)("Custom...","bitform")}),(0,d.jsx)("optgroup",{label:"General Smart Codes "+(h?"":"(PRO)"),children:h&&(null==r.C?void 0:r.C.map((function(e){return(0,d.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),(0,d.jsxs)("select",{className:"btcd-paper-inp",name:x,value:m[x]||"",onChange:function(e){return(0,o.wX)(v,e,t,u,p)},disabled:b,children:[(0,d.jsx)("option",{value:"",children:(0,s.__)("Select Field","bitform")}),null==f?void 0:f.map((function(e){return(0,d.jsx)("option",{value:e.key,children:""+e.name},e.key+"-1")}))]})]}),b?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("button",{onClick:function(){return(0,o.FP)(v,t,u,p)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{onClick:function(){return(0,o.FP)(v,t,u,p)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),(0,d.jsx)("button",{onClick:function(){return(0,o.T5)(v,t,u,p)},className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:(0,d.jsx)(i.Z,{})})]})]})}},42247:(e,t,n)=>{n.d(t,{FP:()=>l,T5:()=>i,UW:()=>o,aJ:()=>r,wX:()=>s});var a=n(87462),l=function(e,t,n,l){var i=(0,a.Z)({},n);i[e].splice(t,0,{}),l((0,a.Z)({},i))},i=function(e,t,n,l){var i=(0,a.Z)({},n);i[e].length>1&&i[e].splice(t,1),l((0,a.Z)({},i))},s=function(e,t,n,l,i){var s=(0,a.Z)({},l);s[e][n][t.target.name]=t.target.value,i((0,a.Z)({},s))},r=function(e){return!((null!=e&&e.post_map?e.post_map.filter((function(e){return!e.formField&&e.postFormField&&e.required})):[]).length>0)},o=function(e){return!((null!=e&&e.pod_map?e.pod_map.filter((function(e){return!e.formField&&e.podFormField&&e.required})):[]).length>0)}}}]);