"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[6023],{79134:(e,a,t)=>{t.d(a,{Jq:()=>d,Pd:()=>o,Rx:()=>s,in:()=>c,uL:()=>r});var i=t(87462),l=t(74320),n=t(39492),s=function(e,a,t){var l=(0,i.Z)({},a);l.name=e.target.value,t((0,i.Z)({},l))},r=function(e,a,t,s){var r={api_key:e.api_key,api_url:e.api_url};(0,n.Z)(r,"bitforms_aCampaign_lists").then((function(n){if(n&&n.success){var r=(0,i.Z)({},e);n.data.activeCampaignLists?(r.default||(r.default={}),r.default.activeCampaignLists=n.data.activeCampaignLists,s({show:!0,msg:(0,l.__)("ActiveCampaign lists refreshed","bitform")})):s({show:!0,msg:(0,l.__)("No ActiveCampaign lists found. Try changing the header row number or try again","bitform")}),a((0,i.Z)({},r))}else s({show:!0,msg:(0,l.__)("ActiveCampaign lists refresh failed. please try again","bitform")});t(!1)})).catch((function(){return t(!1)}))},d=function(e,a,t,s){var r={api_key:e.api_key,api_url:e.api_url};(0,n.Z)(r,"bitforms_aCampaign_tags").then((function(n){if(n&&n.success){var r=(0,i.Z)({},e);n.data.activeCampaignTags?(r.default||(r.default={}),r.default.activeCampaignTags=n.data.activeCampaignTags,s({show:!0,msg:(0,l.__)("ActiveCampaign tags refreshed","bitform")})):s({show:!0,msg:(0,l.__)("No ActiveCampaign tags found. Try changing the header row number or try again","bitform")}),a((0,i.Z)({},r))}else s({show:!0,msg:(0,l.__)("ActiveCampaign tags refresh failed. please try again","bitform")});t(!1)})).catch((function(){return t(!1)}))},c=function(e,a,t,s){var r={api_key:e.api_key,api_url:e.api_url};(0,n.Z)(r,"bitforms_aCampaign_headers").then((function(n){if(n&&n.success){var r=(0,i.Z)({},e);if(n.data.activeCampaignField){r.default||(r.default={}),r.default.fields=n.data.activeCampaignField;var d=r.default.fields;r.field_map=Object.values(d).filter((function(e){return e.required})).map((function(e){return{formField:"",activeCampaignField:e.fieldId,required:!0}})),s({show:!0,msg:(0,l.__)("ActiveCampaign fields refreshed","bitform")})}else s({show:!0,msg:(0,l.__)("No ActiveCampaign fields found. Try changing the header row number or try again","bitform")});a((0,i.Z)({},r))}else s({show:!0,msg:(0,l.__)("ActiveCampaign fields refresh failed. please try again","bitform")});t(!1)})).catch((function(){return t(!1)}))},o=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField&&e.activeCampaignField&&e.required})):[]).length>0)}},93494:(e,a,t)=>{t.d(a,{Z:()=>b});var i=t(87462),l=t(74320),n=t(67294),s=t(97707),r=t(68381),d=t(14383),c=t(23921),o=t(85893);function u(e){var a,t=e.activeCampaingConf,n=e.setActiveCampaingConf;return(0,o.jsx)("div",{className:"pos-rel d-flx w-8",children:(0,o.jsx)(c.Z,{checked:(null==(a=t.actions)?void 0:a.update)||!1,onChange:function(e){return function(e,a){var l=(0,i.Z)({},t);"update"===a&&(e.target.checked?l.actions.update=!0:delete l.actions.update),n((0,i.Z)({},l))}(e,"update")},className:"wdt-200 mt-4 mr-2",value:"user_share",title:(0,l.__)("Update ActiveCampaign","bitform"),subTitle:(0,l.__)("Update Responses with ActiveCampaign existing email?","bitform")})})}var m=t(79134),f=t(2804),p=t(54017),g=t(23312),v=t(80410),h=t(88530);function _(e){var a,t,n,s=e.i,r=e.formFields,d=e.field,c=e.activeCampaingConf,u=e.setActiveCampaingConf,m=d.required,_=(0,f.sJ)(p.hi).isPro,b=(null==c||null==(a=c.default)?void 0:a.fields)&&Object.values(null==c||null==(t=c.default)?void 0:t.fields).filter((function(e){return!e.required})),x=function(e,a){var t=(0,i.Z)({},c);t.field_map[a][e.target.name]=e.target.value,"custom"===e.target.value&&(t.field_map[a].customValue=""),u(t)};return(0,o.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,o.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,o.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:d.formField||"",onChange:function(e){return x(e,s)},children:[(0,o.jsx)("option",{value:"",children:(0,l.__)("Select Field","bitform")}),(0,o.jsx)("optgroup",{label:"Form Fields",children:r.map((function(e){return"file-up"!==e.type&&(0,o.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)}))}),(0,o.jsx)("option",{value:"custom",children:(0,l.__)("Custom...","bitform")}),(0,o.jsx)("optgroup",{label:"General Smart Codes "+(_?"":"(PRO)"),children:_&&(null==v.C?void 0:v.C.map((function(e){return(0,o.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),"custom"===d.formField&&(0,o.jsx)(h.Z,{onChange:function(e){return function(e,a){var t=(0,i.Z)({},c);t.field_map[a].customValue=e.target.value,u(t)}(e,s)},label:(0,l.__)("Custom Value","bitform"),className:"mr-2",type:"text",value:d.customValue,placeholder:(0,l.__)("Custom Value","bitform")}),(0,o.jsxs)("select",{className:"btcd-paper-inp",name:"activeCampaignField",value:d.activeCampaignField,onChange:function(e){return x(e,s)},disabled:m,children:[(0,o.jsx)("option",{value:"",children:(0,l.__)("Select Field","bitform")}),m?(null==c||null==(n=c.default)?void 0:n.fields)&&Object.values(c.default.fields).map((function(e){return(0,o.jsx)("option",{value:e.fieldId,children:e.fieldName},e.fieldId+"-1")})):b&&b.map((function(e){return(0,o.jsx)("option",{value:e.fieldId,children:e.fieldName},e.fieldId+"-1")}))]})]}),!m&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:function(){return function(e){var a=(0,i.Z)({},c);a.field_map.splice(e,0,{}),u(a)}(s)},className:"icn-btn sh-sm ml-2",type:"button",children:"+"}),(0,o.jsx)("button",{onClick:function(){return function(e){var a=(0,i.Z)({},c);a.field_map.length>1&&a.field_map.splice(e,1),u(a)}(s)},className:"icn-btn sh-sm ml-2",type:"button","aria-label":"btn",children:(0,o.jsx)(g.Z,{})})]})]})}function b(e){e.formID;var a,t,c,f,p=e.formFields,g=e.activeCampaingConf,v=e.setActiveCampaingConf,h=e.isLoading,b=e.setIsLoading,x=e.setSnackbar,C=null==g||null==(a=g.default)?void 0:a.activeCampaignLists;return(0,n.useEffect)((function(){C&&(0,m.Jq)(g,v,b,x)}),[C]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("br",{}),(0,o.jsx)("b",{className:"wdt-200 d-in-b",children:(0,l.__)("List:","bitform")}),(0,o.jsxs)("select",{value:null==g?void 0:g.listId,name:"listId",id:"",className:"btcd-paper-inp w-5",onChange:function(e){var a=e.target.value,t=(0,i.Z)({},g);a?t.listId=a:delete t.listId,(0,m.in)(t,v,b,x)},children:[(0,o.jsx)("option",{value:"",children:(0,l.__)("Select List","bitform")}),(null==g||null==(t=g.default)?void 0:t.activeCampaignLists)&&Object.keys(g.default.activeCampaignLists).map((function(e){return(0,o.jsx)("option",{value:g.default.activeCampaignLists[e].listId,children:g.default.activeCampaignLists[e].listName},""+(e+1))}))]}),(0,o.jsx)("button",{onClick:function(){return(0,m.uL)(g,v,b,x)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh Activecapmaign list"'},type:"button",disabled:h,children:"↻"}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsxs)("div",{className:"d-flx",children:[(0,o.jsx)("b",{style:{marginTop:"15px"},className:"wdt-200 d-in-b",children:(0,l.__)("Tags: ","bitform")}),(0,o.jsx)(s.Z,{defaultValue:null==g?void 0:g.tagIds,className:"btcd-paper-drpdwn w-5",options:(null==g||null==(c=g.default)?void 0:c.activeCampaignTags)&&Object.keys(g.default.activeCampaignTags).map((function(e){return{label:g.default.activeCampaignTags[e].tagName,value:g.default.activeCampaignTags[e].tagId}})),onChange:function(e){return function(e){var a=(0,i.Z)({},g);e?a.tagIds=e?e.split(","):[]:delete a.tagIds,v((0,i.Z)({},a))}(e)}}),(0,o.jsx)("button",{onClick:function(){return(0,m.Jq)(g,v,b,x)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,l.__)("Refresh Activecapmaign Tags","bitform")+"'"},type:"button",disabled:h,children:"↻"})]}),(0,o.jsx)("br",{}),h&&(0,o.jsx)(r.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("b",{className:"wdt-100",children:(0,l.__)("Map Fields","bitform")}),(0,o.jsx)("button",{onClick:function(){return(0,m.in)(g,v,b,x)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,l.__)("Refresh Activecapmaign Field","bitform")+"'"},type:"button",disabled:h,children:"↻"})]}),((null==g?void 0:g.listId)||(null==g||null==(f=g.default)?void 0:f.fields))&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"btcd-hr mt-1"}),(0,o.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,o.jsx)("div",{className:"txt-dp",children:(0,o.jsx)("b",{children:(0,l.__)("Form Fields","bitform")})}),(0,o.jsx)("div",{className:"txt-dp",children:(0,o.jsx)("b",{children:(0,l.__)("ActiveCampaign Fields","bitform")})})]}),g.field_map.map((function(e,a){return(0,o.jsx)(_,{i:a,field:e,activeCampaingConf:g,formFields:p,setActiveCampaingConf:v},"Activecampaign-m-"+(a+9))})),(0,o.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,o.jsx)("button",{onClick:function(){return(0,d.FP)(g.field_map.length,g,v)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("div",{className:"mt-4",children:(0,o.jsx)("b",{className:"wdt-100",children:(0,l.__)("Actions","bitform")})}),(0,o.jsx)("div",{className:"btcd-hr mt-1"}),(0,o.jsx)(u,{activeCampaingConf:g,setActiveCampaingConf:v})]})]})}},14383:(e,a,t)=>{t.d(a,{FP:()=>s,Mm:()=>l,T5:()=>r,WK:()=>n,mG:()=>c,wX:()=>d});var i=t(87462),l=(t(35637),t(39492),function(e,a,t,l,n,s,r){var d=[].concat(e);if(r)d[s]=(0,i.Z)({},e[s],l),d.push({editItegration:!0}),a([].concat(d)),n.push(t);else{var c=[].concat(d);c.push(l),c.push({newItegration:!0}),a(c),n.push(t)}}),n=function(e){var a={},t=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");t&&t.forEach((function(e){var t=e.split("=");t[1]&&(a[t[0]]=t[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(a)),window.close()},s=function(e,a,t,l,n){var s=(0,i.Z)({},a);n?l?s.relatedlists[n-1].upload_field_map.splice(e,0,{}):s.relatedlists[n-1].field_map.splice(e,0,{}):l?s.upload_field_map.splice(e,0,{}):s.field_map.splice(e,0,{}),t((0,i.Z)({},s))},r=function(e,a,t,l,n){var s=(0,i.Z)({},a);n?l?s.relatedlists[n-1].upload_field_map.length>1&&s.relatedlists[n-1].upload_field_map.splice(e,1):s.relatedlists[n-1].field_map.length>1&&s.relatedlists[n-1].field_map.splice(e,1):l?s.upload_field_map.length>1&&s.upload_field_map.splice(e,1):s.field_map.length>1&&s.field_map.splice(e,1),t((0,i.Z)({},s))},d=function(e,a,t,l,n,s){var r=(0,i.Z)({},t);s?n?r.relatedlists[s-1].upload_field_map[a][e.target.name]=e.target.value:r.relatedlists[s-1].field_map[a][e.target.name]=e.target.value:n?r.upload_field_map[a][e.target.name]=e.target.value:r.field_map[a][e.target.name]=e.target.value,"custom"===e.target.value&&(s?r.relatedlists[s-1].field_map[a].customValue="":r.field_map[a].customValue=""),l((0,i.Z)({},r))},c=function(e,a,t,l,n){var s=(0,i.Z)({},t);n?s.relatedlists[n-1].field_map[a].customValue=e.target.value:s.field_map[a].customValue=e.target.value,l((0,i.Z)({},s))}},85813:(e,a,t)=>{t.d(a,{Z:()=>n});var i=t(35637),l=t(85893);function n(e){var a=e.step,t=e.saveConfig,n=e.edit,s=e.disabled;return n?(0,l.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,l.jsx)("button",{onClick:t,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:s,children:(0,i.__)("Update","bitform")})}):(0,l.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===a&&"90%",height:3===a&&"100%"},children:[(0,l.jsx)("h2",{className:"ml-3",children:(0,i.__)("Successfully Integrated","bitform")}),(0,l.jsxs)("button",{onClick:t,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,i.__)("Finish & Save ","bitform")," ✔"]})]})}},88530:(e,a,t)=>{t.d(a,{Z:()=>l});var i=t(85893);const l=function(e){var a=e.label,t=e.onChange,l=e.value,n=e.disabled,s=e.type,r=e.textarea,d=e.className;return(0,i.jsxs)("label",{className:"btcd-mt-inp "+d,children:[!r&&(0,i.jsx)("input",{type:void 0===s?"text":s,onChange:t,placeholder:" ",disabled:n,value:l}),r&&(0,i.jsx)("textarea",{type:void 0===s?"text":s,onChange:t,placeholder:" ",disabled:n,value:l}),(0,i.jsx)("span",{children:a})]})}}}]);