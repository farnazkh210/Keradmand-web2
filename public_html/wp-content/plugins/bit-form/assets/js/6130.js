"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[6130],{46130:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(87462),s=n(67294),a=n(41238),r=n(35637),o=n(75257),l=(n(61079),n(63538)),d=n(85893);function c(e){var t=e.twilioConf,n=e.setTwilioConf,c=e.step,m=e.setstep,u=e.isLoading,b=e.setIsLoading,_=e.setSnackbar,h=e.isInfo,f=(0,s.useState)(!1),p=f[0],g=f[1],x=(0,s.useState)({username:"",password:""}),v=x[0],j=x[1],k=function(e){var s=(0,i.Z)({},t),a=(0,i.Z)({},v);a[e.target.name]="",s[e.target.name]=e.target.value,j(a),n(s)};return(0,d.jsxs)("div",{className:"btcd-stp-page",style:(0,i.Z)({},{width:1===c&&900},{height:1===c&&"auto"}),children:[(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,r.__)("Integration Name:","bit-integrations")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:k,name:"name",value:t.name,type:"text",placeholder:(0,r.__)("Integration Name...","bit-integrations"),disabled:h}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,r.__)("Account SID:","bit-integrations")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:k,name:"sid",value:t.sid,type:"text",placeholder:(0,r.__)("Account SID...","bit-integrations"),disabled:h}),(0,d.jsx)("div",{style:{color:"red"},children:v.sid}),(0,d.jsxs)("small",{className:"d-blk mt-5",children:[(0,r.__)("To get Account SID and Auth Token , Please Visit","bit-integrations")," ",(0,d.jsx)("a",{className:"btcd-link",href:"https://console.twilio.com/",target:"_blank",rel:"noreferrer",children:(0,r.__)("Twilio Console","bit-integrations")})]}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,r.__)("Auth Token:","bit-integrations")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:k,name:"token",value:t.token,type:"text",placeholder:(0,r.__)("Auth Token...","bit-integrations"),disabled:h}),(0,d.jsx)("div",{style:{color:"red"},children:v.token}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,r.__)("From:","bit-integrations")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:k,name:"from_num",value:t.from_num,type:"text",placeholder:(0,r.__)("Phone Number...","bit-integrations"),disabled:h}),(0,d.jsx)("div",{style:{color:"red"},children:v.from_num}),!h&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("button",{onClick:function(){return(0,l.P_)(t,n,j,g,b,_)},className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:p||u,children:[p?(0,r.__)("Authorized âœ”","bit-integrations"):(0,r.__)("Authorize","bit-integrations"),u&&(0,d.jsx)(o.Z,{size:"20",clr:"#022217",className:"ml-2"})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("button",{onClick:function(){m(2),document.querySelector(".btcd-s-wrp").scrollTop=0},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!p,children:[(0,r.__)("Next","bit-integrations"),(0,d.jsx)(a.Z,{className:"ml-1 rev-icn"})]})]})]})}},63538:(e,t,n)=>{n.d(t,{P_:()=>l,Pd:()=>o,Rx:()=>r});var i=n(87462),s=n(35637),a=n(39492),r=function(e,t,n,s,a,r,o,l){var d=(0,i.Z)({},t),c=e.target.name;""!==e.target.value?d[c]=e.target.value:delete d[c],n((0,i.Z)({},d))},o=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField||!e.twilioField||"custom"===!e.formField&&!e.customValue})):[]).length>0)},l=function(e,t,n,r,o,l){if(e.sid&&e.token&&e.from_num){n({}),o(!0);var d={sid:e.sid,token:e.token,from_num:e.from_num};(0,a.Z)(d,"bitforms_twilio_authorization").then((function(e){return e})).then((function(n){if(n&&n.success){var a=(0,i.Z)({},e);a.tokenDetails=n.data,t(a),r(!0),l({show:!0,msg:(0,s.__)("Authorized Successfully","bitform")})}else n&&n.data&&n.data.data||!n.success&&"string"===typeof n.data?l({show:!0,msg:""+(0,s.__)("Authorization failed Cause:","bitform")+(n.data.data||n.data)+". "+(0,s.__)("please try again","bitform")}):l({show:!0,msg:(0,s.__)("Authorization failed. please try again","bitform")});o(!1)}))}else n({sid:e.sid?"":(0,s.__)("Account SID can't be empty","bitform"),token:e.token?"":(0,s.__)("Auth Token can't be empty","bitform"),from_num:e.from_num?"":(0,s.__)("Phone number can't be empty","bitform")})}},61079:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(85893);function s(e){var t=e.note;return(0,i.jsxs)("div",{className:"note",children:[(0,i.jsx)("h4",{className:"mt-0",children:"Note"}),(0,i.jsx)("div",{className:"note-text",dangerouslySetInnerHTML:{__html:t}})]})}}}]);