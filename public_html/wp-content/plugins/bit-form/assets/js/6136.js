"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[6136],{6136:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(87462),a=n(67294),o=n(41238),r=n(35637),s=n(75257),l=(n(69151),n(5539)),d=n(85893);function c(e){var t=e.formID,n=e.groundhoggConf,c=e.setGroundhoggConf,u=e.step,m=e.setstep,g=e.isLoading,_=e.setIsLoading,f=e.setSnackbar,b=(e.redirectLocation,e.isInfo),p=(0,a.useState)(!1),h=p[0],k=p[1],x=(0,a.useState)({token:"",public_key:"",domainName:""}),y=x[0],N=x[1],v=function(e){var t=(0,i.Z)({},n),a=(0,i.Z)({},y);a[e.target.name]="",t[e.target.name]=e.target.value,N(a),c(t)};return(0,d.jsxs)("div",{className:"btcd-stp-page",style:(0,i.Z)({},{width:1===u&&900},{height:1===u&&"auto"}),children:[(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,r.__)("Integration Name:","bit-integrations")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:v,name:"name",value:n.name,type:"text",placeholder:(0,r.__)("Integration Name...","bit-integrations"),disabled:b}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,r.__)("Your Domain Name:","bit-integrations")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:v,name:"domainName",value:n.domainName,type:"text",placeholder:(0,r.__)("Integration Name...","bit-integrations"),disabled:b}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,r.__)("Public Key:","bit-integrations")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:v,name:"public_key",value:n.public_key,type:"text",placeholder:(0,r.__)("Public Key...","bit-integrations"),disabled:b}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,r.__)("Token:","bit-integrations")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:v,name:"token",value:n.token,type:"text",placeholder:(0,r.__)("Token...","bit-integrations"),disabled:b}),(0,d.jsx)("div",{style:{color:"red",fontSize:"15px"},children:y.api_key}),(0,d.jsx)("div",{style:{color:"red",fontSize:"15px"},children:y.clientSecret}),!b&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("button",{onClick:function(){return(0,l.P_)(n,c,N,k,_,f)},className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:h||g,children:[h?(0,r.__)("Authorized âœ”","bit-integrations"):(0,r.__)("Authorize","bit-integrations"),g&&(0,d.jsx)(s.Z,{size:20,clr:"#022217",className:"ml-2"})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("button",{onClick:function(){setTimeout((function(){document.getElementById("btcd-settings-wrp").scrollTop=0}),300),m(2),(0,l.C8)(t,n,c,_,f)},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!h,children:[(0,r.__)("Next","bit-integrations"),(0,d.jsx)(o.Z,{className:"ml-1 rev-icn"})]})]})]})}},5539:(e,t,n)=>{n.d(t,{C8:()=>m,P_:()=>u,Pd:()=>d,Rx:()=>s,gn:()=>l,hr:()=>c});var i=n(87462),a=n(80160),o=n(39492),r=(n(52249),n(35637)),s=function(e,t,n){var a=(0,i.Z)({},t),o=e.target.name;""!==e.target.value?a[o]=e.target.value:delete a[o],n((0,i.Z)({},a))},l=function(e){var t=null==e?void 0:e.contactsFields.filter((function(e){return!0===e.required}));return t.length>0?t.map((function(e){return{formField:"",GroundhoggMapField:e.key}})):[{formField:"",GroundhoggMapField:""}]},d=function(e){return(!e.field_map||!e.field_map.find((function(e){return!e.formField||!e.GroundhoggMapField})))&&!((e.field_map?e.field_map.filter((function(e){return!e.formField&&!e.GroundhoggMapField})):[]).length>0)},c=function(e){return(!e.field_map_meta||!e.field_map_meta.find((function(e){return!e.formField||!e.GroundhoggMetaMapField})))&&!((e.field_map_meta?e.field_map_meta.filter((function(e){return!e.formField&&!e.GroundhoggMetaMapField})):[]).length>0)},u=function(e,t,n,s,l,d){if(e.public_key)if(e.token)if(e.domainName){n({}),l(!0);var c={public_key:e.public_key,token:e.token,domainName:e.domainName};(0,o.Z)(c,"bitforms_groundhogg_authorization_and_fetch_contacts").then((function(n){if(n&&n.success){var o=(0,i.Z)({},e);return t(o),s(!0),l(!1),void a.ZP.success((0,r.__)("Authorization Successful","bit-integrations"))}l(!1),a.ZP.error((0,r.__)("Authorization Failed","bit-integrations"))}))}else n({domainName:e.domainName?"":(0,r.__)("Domain Name can't be empty","bit-integrations")});else n({token:e.token?"":(0,r.__)("token can't be empty","bit-integrations")});else n({public_key:e.public_key?"":(0,r.__)("Public Key can't be empty","bit-integrations")})},m=function(e,t,n,s,l){s(!0);var d={public_key:t.public_key,token:t.token,domainName:t.domainName};(0,o.Z)(d,"bitforms_groundhogg_fetch_all_tags").then((function(e){if(e&&e.success){var o=(0,i.Z)({},t);return o.default||(o.default={}),e.data.tags&&(o.default.tags=e.data.tags),n((0,i.Z)({},o)),s(!1),void a.ZP.success((0,r.__)("Groundhogg all tag fetched successfully","bit-integrations"))}s(!1),a.ZP.error((0,r.__)("Failed to fetch groundhoggtag","bit-integrations"))})).catch((function(){return s(!1)}))}}}]);