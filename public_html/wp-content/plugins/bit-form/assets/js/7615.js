"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[7615,6130],{14383:(e,t,i)=>{i.d(t,{FP:()=>l,Mm:()=>n,T5:()=>r,WK:()=>s,mG:()=>d,wX:()=>o});var a=i(87462),n=(i(35637),i(39492),function(e,t,i,n,s,l,r){var o=[].concat(e);if(r)o[l]=(0,a.Z)({},e[l],n),o.push({editItegration:!0}),t([].concat(o)),s.push(i);else{var d=[].concat(o);d.push(n),d.push({newItegration:!0}),t(d),s.push(i)}}),s=function(e){var t={},i=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");i&&i.forEach((function(e){var i=e.split("=");i[1]&&(t[i[0]]=i[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(t)),window.close()},l=function(e,t,i,n,s){var l=(0,a.Z)({},t);s?n?l.relatedlists[s-1].upload_field_map.splice(e,0,{}):l.relatedlists[s-1].field_map.splice(e,0,{}):n?l.upload_field_map.splice(e,0,{}):l.field_map.splice(e,0,{}),i((0,a.Z)({},l))},r=function(e,t,i,n,s){var l=(0,a.Z)({},t);s?n?l.relatedlists[s-1].upload_field_map.length>1&&l.relatedlists[s-1].upload_field_map.splice(e,1):l.relatedlists[s-1].field_map.length>1&&l.relatedlists[s-1].field_map.splice(e,1):n?l.upload_field_map.length>1&&l.upload_field_map.splice(e,1):l.field_map.length>1&&l.field_map.splice(e,1),i((0,a.Z)({},l))},o=function(e,t,i,n,s,l){var r=(0,a.Z)({},i);l?s?r.relatedlists[l-1].upload_field_map[t][e.target.name]=e.target.value:r.relatedlists[l-1].field_map[t][e.target.name]=e.target.value:s?r.upload_field_map[t][e.target.name]=e.target.value:r.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(l?r.relatedlists[l-1].field_map[t].customValue="":r.field_map[t].customValue=""),n((0,a.Z)({},r))},d=function(e,t,i,n,s){var l=(0,a.Z)({},i);s?l.relatedlists[s-1].field_map[t].customValue=e.target.value:l.field_map[t].customValue=e.target.value,n((0,a.Z)({},l))}},85813:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(35637),n=i(85893);function s(e){var t=e.step,i=e.saveConfig,s=e.edit,l=e.disabled;return s?(0,n.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,n.jsx)("button",{onClick:i,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:l,children:(0,a.__)("Update","bitform")})}):(0,n.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,n.jsx)("h2",{className:"ml-3",children:(0,a.__)("Successfully Integrated","bitform")}),(0,n.jsxs)("button",{onClick:i,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,a.__)("Finish & Save ","bitform")," ✔"]})]})}},77615:(e,t,i)=>{i.r(t),i.d(t,{default:()=>h});var a=i(87462),n=i(67294),s=(i(78774),i(5977)),l=i(80160),r=i(35637),o=i(35001),d=i(33231),c=i(14383),m=i(63538),u=i(46130),p=i(85813),f=i(54107),b=i(85893);const h=function(e){var t=e.formFields,i=e.setIntegration,h=e.integrations,_=e.allIntegURL,x=(0,s.k6)(),g=(0,n.useState)(!1),v=g[0],j=g[1],N=(0,n.useState)(1),w=N[0],y=N[1],k=(0,n.useState)({show:!1}),C=k[0],Z=k[1],F=(0,n.useState)({name:"Twilio",type:"Twilio",sid:"",token:"",from_num:"",field_map:[{formField:"",twilioField:"To"},{formField:"",twilioField:"Body"}],twilioFields:[{key:"To",label:"To",required:!0},{key:"Body",label:"Message Body",required:!0}]}),S=F[0],T=F[1];return document.querySelector(".btcd-s-wrp").scrollTop=0,(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Z,{snack:C,setSnackbar:Z}),(0,b.jsx)("div",{className:"txt-center w-9 mt-2",children:(0,b.jsx)(d.Z,{step:3,active:w})}),(0,b.jsx)(u.default,{twilioConf:S,setTwilioConf:T,step:w,setstep:y,isLoading:v,setIsLoading:j,setSnackbar:Z}),(0,b.jsxs)("div",{className:"btcd-stp-page",style:(0,a.Z)({},2===w&&{width:900,height:"auto",overflow:"visible"}),children:[(0,b.jsx)(f.Z,{formFields:t,handleInput:function(e){return(0,m.Rx)(e,S,T,j,Z)},twilioConf:S,setTwilioConf:T,isLoading:v,setIsLoading:j,setSnackbar:Z}),(0,b.jsxs)("button",{onClick:function(){return e=3,void((0,m.Pd)(S)?S.field_map.length>0&&y(e):l.ZP.error("Please map mandatory fields"));var e},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[(0,r.__)("Next","bit-integrations"),"  ",(0,b.jsx)("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),(0,b.jsx)(p.Z,{step:w,saveConfig:function(){return j(!0),void(0,c.Mm)(h,i,_,S,x)}})]})}},46130:(e,t,i)=>{i.r(t),i.d(t,{default:()=>c});var a=i(87462),n=i(67294),s=i(41238),l=i(35637),r=i(75257),o=(i(61079),i(63538)),d=i(85893);function c(e){var t=e.twilioConf,i=e.setTwilioConf,c=e.step,m=e.setstep,u=e.isLoading,p=e.setIsLoading,f=e.setSnackbar,b=e.isInfo,h=(0,n.useState)(!1),_=h[0],x=h[1],g=(0,n.useState)({username:"",password:""}),v=g[0],j=g[1],N=function(e){var n=(0,a.Z)({},t),s=(0,a.Z)({},v);s[e.target.name]="",n[e.target.name]=e.target.value,j(s),i(n)};return(0,d.jsxs)("div",{className:"btcd-stp-page",style:(0,a.Z)({},{width:1===c&&900},{height:1===c&&"auto"}),children:[(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,l.__)("Integration Name:","bit-integrations")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"name",value:t.name,type:"text",placeholder:(0,l.__)("Integration Name...","bit-integrations"),disabled:b}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,l.__)("Account SID:","bit-integrations")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"sid",value:t.sid,type:"text",placeholder:(0,l.__)("Account SID...","bit-integrations"),disabled:b}),(0,d.jsx)("div",{style:{color:"red"},children:v.sid}),(0,d.jsxs)("small",{className:"d-blk mt-5",children:[(0,l.__)("To get Account SID and Auth Token , Please Visit","bit-integrations")," ",(0,d.jsx)("a",{className:"btcd-link",href:"https://console.twilio.com/",target:"_blank",rel:"noreferrer",children:(0,l.__)("Twilio Console","bit-integrations")})]}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,l.__)("Auth Token:","bit-integrations")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"token",value:t.token,type:"text",placeholder:(0,l.__)("Auth Token...","bit-integrations"),disabled:b}),(0,d.jsx)("div",{style:{color:"red"},children:v.token}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,l.__)("From:","bit-integrations")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"from_num",value:t.from_num,type:"text",placeholder:(0,l.__)("Phone Number...","bit-integrations"),disabled:b}),(0,d.jsx)("div",{style:{color:"red"},children:v.from_num}),!b&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("button",{onClick:function(){return(0,o.P_)(t,i,j,x,p,f)},className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:_||u,children:[_?(0,l.__)("Authorized ✔","bit-integrations"):(0,l.__)("Authorize","bit-integrations"),u&&(0,d.jsx)(r.Z,{size:"20",clr:"#022217",className:"ml-2"})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("button",{onClick:function(){m(2),document.querySelector(".btcd-s-wrp").scrollTop=0},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!_,children:[(0,l.__)("Next","bit-integrations"),(0,d.jsx)(s.Z,{className:"ml-1 rev-icn"})]})]})]})}},63538:(e,t,i)=>{i.d(t,{P_:()=>o,Pd:()=>r,Rx:()=>l});var a=i(87462),n=i(35637),s=i(39492),l=function(e,t,i,n,s,l,r,o){var d=(0,a.Z)({},t),c=e.target.name;""!==e.target.value?d[c]=e.target.value:delete d[c],i((0,a.Z)({},d))},r=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField||!e.twilioField||"custom"===!e.formField&&!e.customValue})):[]).length>0)},o=function(e,t,i,l,r,o){if(e.sid&&e.token&&e.from_num){i({}),r(!0);var d={sid:e.sid,token:e.token,from_num:e.from_num};(0,s.Z)(d,"bitforms_twilio_authorization").then((function(e){return e})).then((function(i){if(i&&i.success){var s=(0,a.Z)({},e);s.tokenDetails=i.data,t(s),l(!0),o({show:!0,msg:(0,n.__)("Authorized Successfully","bitform")})}else i&&i.data&&i.data.data||!i.success&&"string"===typeof i.data?o({show:!0,msg:""+(0,n.__)("Authorization failed Cause:","bitform")+(i.data.data||i.data)+". "+(0,n.__)("please try again","bitform")}):o({show:!0,msg:(0,n.__)("Authorization failed. please try again","bitform")});r(!1)}))}else i({sid:e.sid?"":(0,n.__)("Account SID can't be empty","bitform"),token:e.token?"":(0,n.__)("Auth Token can't be empty","bitform"),from_num:e.from_num?"":(0,n.__)("Phone number can't be empty","bitform")})}},54107:(e,t,i)=>{i.d(t,{Z:()=>u});i(67294);var a=i(35637),n=i(2804),s=i(88530),l=i(87462),r=function(e,t,i,a){var n=(0,l.Z)({},i);n.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(n.field_map[t].customValue=""),a((0,l.Z)({},n))},o=i(80410),d=i(54017),c=i(85893);function m(e){var t=e.i,i=e.formFields,m=e.field,u=e.twilioConf,p=e.setTwilioConf,f=(0,n.sJ)(d.hi).isPro;return(0,c.jsx)("div",{className:"flx mt-2 mb-2 btcbi-field-map",children:(0,c.jsx)("div",{className:"pos-rel flx",children:(0,c.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,c.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:m.formField||"",onChange:function(e){return r(e,t,u,p)},children:[(0,c.jsx)("option",{value:"",children:(0,a.__)("Select Field","bit-integrations")}),(0,c.jsx)("optgroup",{label:"Form Fields",children:null==i?void 0:i.map((function(e){return(0,c.jsx)("option",{value:e.key,children:e.name},"ff-rm-"+e.key)}))}),(0,c.jsx)("option",{value:"custom",children:(0,a.__)("Custom...","bit-integrations")}),(0,c.jsx)("optgroup",{label:"General Smart Codes "+(f?"":"(PRO)"),children:f&&(null==o.C?void 0:o.C.map((function(e){return(0,c.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),"custom"===m.formField&&(0,c.jsx)(s.Z,{onChange:function(e){return function(e,t,i,a){var n=(0,l.Z)({},i);n.field_map[t].customValue=e.target.value,a((0,l.Z)({},n))}(e,t,u,p)},label:(0,a.__)("Custom Value","bit-integrations"),className:"mr-2",type:"text",value:m.customValue,placeholder:(0,a.__)("Custom Value","bit-integrations")}),(0,c.jsxs)("select",{className:"btcd-paper-inp",disabled:!0,name:"twilioField",value:m.twilioField,onChange:function(e){return r(e,t,u,p)},children:[(0,c.jsx)("option",{value:"",children:(0,a.__)("Select Field","bit-integrations")}),null==u?void 0:u.twilioFields.map((function(e){var t=e.key,i=e.label;return(0,c.jsx)("option",{value:t,children:i},t)}))]})]})})})}function u(e){var t=e.formFields,i=(e.handleInput,e.twilioConf),n=e.setTwilioConf,s=(e.isLoading,e.setIsLoading,e.setSnackbar);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("br",{}),(0,c.jsx)("div",{className:"mt-5",children:(0,c.jsx)("b",{className:"wdt-100",children:(0,a.__)("Field Map","bit-integrations")})}),(0,c.jsx)("div",{className:"btcd-hr mt-1"}),(0,c.jsxs)("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[(0,c.jsx)("div",{className:"txt-dp",children:(0,c.jsx)("b",{children:(0,a.__)("Form Fields","bit-integrations")})}),(0,c.jsx)("div",{className:"txt-dp",children:(0,c.jsx)("b",{children:(0,a.__)("Twilio Fields","bit-integrations")})})]}),null==i?void 0:i.field_map.map((function(e,a){return(0,c.jsx)(m,{i:a,field:e,twilioConf:i,formFields:t,setTwilioConf:n,setSnackbar:s},"rp-m-"+(a+9))})),(0,c.jsx)("br",{})]})}},88530:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(85893);const n=function(e){var t=e.label,i=e.onChange,n=e.value,s=e.disabled,l=e.type,r=e.textarea,o=e.className;return(0,a.jsxs)("label",{className:"btcd-mt-inp "+o,children:[!r&&(0,a.jsx)("input",{type:void 0===l?"text":l,onChange:i,placeholder:" ",disabled:s,value:n}),r&&(0,a.jsx)("textarea",{type:void 0===l?"text":l,onChange:i,placeholder:" ",disabled:s,value:n}),(0,a.jsx)("span",{children:t})]})}},61079:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(85893);function n(e){var t=e.note;return(0,a.jsxs)("div",{className:"note",children:[(0,a.jsx)("h4",{className:"mt-0",children:"Note"}),(0,a.jsx)("div",{className:"note-text",dangerouslySetInnerHTML:{__html:t}})]})}},33231:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(67294),n=i(85893);const s=function(e){var t=e.step,i=e.active,s=e.className;return(0,n.jsx)("div",{className:"d-in-b "+s,children:(0,n.jsxs)("div",{className:"flx flx-center",children:[Array(i).fill(0).map((function(e,t){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("div",{className:"btcd-stp flx flx-center stp-a  txt-center",children:t+1}),i-1!==t&&(0,n.jsx)("div",{className:"btcd-stp-line stp-line-a"})]},"stp-"+(t+21))})),t-i!==0&&(0,n.jsx)("div",{className:"btcd-stp-line"}),Array(t-i).fill(0).map((function(e,s){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("div",{className:"btcd-stp flx flx-center txt-center",children:s+i+1}),t-i-1!==s&&(0,n.jsx)("div",{className:"btcd-stp-line "})]},"stp-"+(s+23))}))]})})}}}]);