"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[3859,1756],{80410:(e,t,n)=>{n.d(t,{C:()=>i});var i=[{name:"_bf_current_time",label:"Current Date Time"},{name:"_bf_admin_email",label:"Administrator Email"},{name:"_bf_date_default",label:"Date (default format)"},{name:"_bf_date.m/d/y",label:"Date(mm/dd/yy)"},{name:"_bf_date.d/m/y",label:"Date(dd/mm/yy)"},{name:"_bf_date.y/m/d",label:"Date(Y/m/d)"},{name:"_bf_time",label:"Time"},{name:"_bf_weekday",label:"Weekday"},{name:"_bf_http_referer_url",label:"Referer URL"},{name:"_bf_ip_address",label:"User IP Address"},{name:"_bf_browser_name",label:"Browser Name"},{name:"_bf_operating_system",label:"Operating System"},{name:"_bf_random_digit_num",label:"Random Digit"},{name:"_bf_user_id",label:"User ID"},{name:"_bf_user_first_name",label:"User First Name"},{name:"_bf_user_last_name",label:"User Last Name"},{name:"_bf_user_display_name",label:"User Display Name"},{name:"_bf_user_nice_name",label:"User Nice Name"},{name:"_bf_user_login_name",label:"User Login Name"},{name:"_bf_user_email",label:"User Email"},{name:"_bf_user_url",label:"User URL"},{name:"_bf_current_user_role",label:"Current User Role"},{name:"_bf_author_id",label:"Post Author ID"},{name:"_bf_author_display",label:"Post Author Display Name"},{name:"_bf_author_email",label:"Post Author Email"},{name:"_bf_site_title",label:"Site Title"},{name:"_bf_site_description",label:"Site Description"},{name:"_bf_site_url",label:"Site URL"},{name:"_bf_wp_local_codes",label:"WordPress Locale Code"},{name:"_bf_post_id",label:"Embedded Page / Post ID"},{name:"_bf_post_name",label:"Embedded Page / Post Name"},{name:"_bf_post_title",label:"Embedded Page / Post Title"},{name:"_bf_post_url",label:"Embedded Page / Post URL"},{name:"_bf_post_date",label:"Post Publish Date"},{name:"_bf_post_modified_date",label:"Post Modified Date"},{name:"_bf_query_param()",label:"URL Query Parameter"},{name:"_bf_user_meta_key()",label:"User Meta Key"},{name:"_bf_custom_date_format()",label:"Custom Date Format"}]},52240:(e,t,n)=>{function i(e,t,n,i){void 0===i&&(i=0);var a=Object.getPrototypeOf(e);if(Object.prototype.hasOwnProperty.call(a,t)){var r=Object.getOwnPropertyDescriptor(a,t);Object.defineProperty(e,t,{get:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.get.apply(this,t)},set:function(){for(var e=this[t],a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];r.set.apply(this,l);var o=this[t];return"function"==typeof n&&setTimeout(n.bind(this,e,o),i),o}})}}n.d(t,{D1:()=>i,Ys:()=>r,ve:()=>a});var a=function(e,t){return new Promise((function(n){var i=document.createElement("script");i.src=e,i.onload=function(){n(!0)},i.onerror=function(){n(!1)},i.id=t,document.body.appendChild(i)}))},r=function(e){return document.querySelector(e)}},44981:(e,t,n)=>{n.d(t,{L:()=>o,Z:()=>d});var i,a=n(67294),r=n(77678),l=n(14511),s=n(85893),o=function(){i.reset()};function d(e){var t=e.formID,n=e.attr,o=(0,a.useState)(!0),d=o[0],c=o[1];return(0,a.useEffect)((function(){c(!1),setTimeout((function(){c(!0)}),1)}),[n.theme]),(0,s.jsx)(l.Z,{formID:t,fieldData:n,noLabel:!0,children:(0,s.jsx)("div",{className:"drag btcd-flx j-c-c",style:{minHeight:"inherit"},children:d&&(0,s.jsx)(r.Z,{ref:function(e){return i=e},theme:n.theme,sitekey:n.siteKey||"non"})})})}},14511:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(67294),a=n(85893);function r(e){var t,n,r,l=e.formID,s=e.fieldKey,o=e.fieldData,d=e.children,c=e.noLabel,u=e.isBuilder,f=o.error||"",m=(0,i.useRef)(null);if(f&&m){var p=m.current,y=document.body.getBoundingClientRect(),h=p.getBoundingClientRect().top-y.top;(function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(p)||window.scroll({top:h,behavior:"smooth"})}return(0,a.jsxs)("div",{ref:m,className:"fld-wrp fld-wrp-"+l+" drag "+(u?"o-h":"")+" "+(null!=o&&null!=(t=o.valid)&&t.hide?"vis-n":""),children:[!c&&!(null!=o&&null!=(n=o.valid)&&n.hideLbl)&&"lbl"in o&&(0,a.jsxs)("label",{title:o.lbl,className:"fld-lbl fld-lbl-"+l,htmlFor:s,children:[o.lbl.replaceAll("$_bf_$","\\"),(null==(r=o.valid)?void 0:r.req)&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)("span",{className:"fld-req-symbol",children:"*"})]})]}),d,(f||(null==o?void 0:o.err))&&(0,a.jsx)("div",{className:"error-wrapper "+(f&&"err-msg"),children:(0,a.jsx)("div",{id:s+"-error",className:"error-txt",children:f})})]})}},92281:(e,t,n)=>{n.d(t,{Z:()=>F});var i=n(67294),a=n(44981),r=n(87462),l=n(48472),s=n(52240),o=n(14511),d=n(85893);function c(e){var t=e.fieldKey,n=e.attr,a=e.onBlurHandler,c=e.resetFieldValue,u=e.formID,f="url"===n.typ?"text":n.typ,m=(0,i.useRef)(null),p=(0,i.useState)(void 0!==n.val?n.val:""),y=p[0],h=p[1];(0,i.useEffect)((function(){void 0===n.val||n.userinput?n.val||n.userinput?n.conditional&&h(n.val):h(""):h(n.val)}),[n.val,n.userinput,n.conditional]),(0,i.useEffect)((function(){c&&h("")}),[c]),(0,i.useEffect)((function(){if(n.hasWorkflow&&n.val===y&&a&&!n.userinput){var e=m.current;a(e)}}),[y]);(0,i.useEffect)((function(){var e=(0,s.Ys)("#"+t);e&&(0,s.D1)(e,"value",(function(e,t){return h("email"===n.typ?t.toLowerCase():t)}))}),[]);return(0,d.jsx)(o.Z,{formID:u,fieldKey:t,fieldData:n,children:(0,d.jsx)("input",(0,r.Z)({id:t,className:"fld fld-"+u,type:f},"req"in n.valid&&{required:n.valid.req},"disabled"in n.valid&&{disabled:n.valid.disabled},"readonly"in n.valid&&{readOnly:n.valid.readonly},"ph"in n&&{placeholder:n.ph},"mn"in n&&{min:n.mn},"mx"in n&&{max:n.mx},"ac"in n&&{autoComplete:n.ac},"name"in n&&{name:n.name},a&&{onInput:a},{onBlur:function(e){(0,l.default)({input:e.target})},value:y,onChange:function(e){var t="email"===n.typ?e.target.value.toLowerCase():e.target.value;h(t)},ref:m}))})}function u(e){var t=e.fieldKey,n=e.attr,a=e.onBlurHandler,c=e.resetFieldValue,u=e.formID,f=(0,i.useState)(n.val),m=f[0],p=f[1],y=(0,i.useRef)(null);(0,i.useEffect)((function(){void 0===n.val||n.userinput?n.val||n.userinput?n.conditional&&p(n.val):p(""):p(n.val)}),[n.val,n.userinput,n.conditional]),(0,i.useEffect)((function(){c&&p("")}),[c]),(0,i.useEffect)((function(){if(n.hasWorkflow&&n.val===m&&a&&!n.userinput){var e=y.current;a(e)}}),[m]);(0,i.useEffect)((function(){var e=(0,s.Ys)("#"+t);e&&(0,s.D1)(e,"value",(function(e,t){return p(t)}))}),[]);return(0,d.jsx)(o.Z,{formID:u,fieldKey:t,fieldData:n,children:(0,d.jsx)("div",{children:(0,d.jsx)("textarea",(0,r.Z)({id:t,className:"fld fld-"+u+" no-drg textarea",style:{height:"calc(100% - 30px)"},ref:y},"ph"in n&&{placeholder:n.ph},"ac"in n&&{autoComplete:n.ac},"req"in n.valid&&{required:n.valid.req},"disabled"in n.valid&&{readOnly:n.valid.disabled},"name"in n&&{name:n.name},a&&{onInput:a},{onBlur:function(e){(0,l.default)({input:e.target})},value:m,onChange:function(e){p(e.target.value)}}))})})}function f(e){var t,n=e.attr,a=e.onBlurHandler,s=e.resetFieldValue,c=e.formID;"val"in n&&n.val&&n.val.length>0?"string"===typeof n.val?t="["===n.val[0]?JSON.parse(n.val):n.val.split(","):Array.isArray(n.val)&&(t=n.val):t=n.opt.filter((function(e){return e.check})).map((function(e){return e.val||e.lbl}));var u=(0,i.useState)(t||[]),f=u[0],m=u[1],p=(0,i.useRef)(null);(0,i.useEffect)((function(){(t&&JSON.stringify(t)!==JSON.stringify(f)&&!n.userinput||n.conditional)&&m(t)}),[n.val,n.userinput,n.conditional,n.opt]),(0,i.useEffect)((function(){s&&m([])}),[s]),(0,i.useEffect)((function(){if(n.hasWorkflow&&JSON.stringify(t)===JSON.stringify(f)&&a&&!n.userinput){var e=p.current;a(e)}}),[f]);var y=function(e){if(!n.valid.disabled){var t=[],i=f.indexOf(e.target.value);e.target.checked&&-1===i?t=[].concat(f,[e.target.value]):!e.target.checked&&i>=0&&(t=f.filter((function(t){return t!==e.target.value}))),(!n.valid.disableOnMax||n.valid.disableOnMax&&t.length<=Number(n.mx))&&m(t),a&&a(e)}},h=function(e){var t=e.target,n=t.name,i=t.form;(0,l.default)({input:{name:n,form:i,value:f.length?f:""}})};return(0,d.jsx)(o.Z,{formID:c,fieldKey:n.name,fieldData:n,children:(0,d.jsx)("div",{className:"no-drg fld fld-"+c+" btcd-ck-con "+(n.round&&"btcd-round"),children:n.opt.map((function(e,t){var i;return(0,d.jsxs)("label",{className:"btcd-ck-wrp btcd-ck-wrp-"+c,children:[(0,d.jsx)("span",{children:e.lbl}),(0,d.jsx)("input",(0,r.Z)({type:"checkbox",ref:p,disabled:n.valid.disabled,readOnly:null==n||null==(i=n.valid)?void 0:i.readonly,defaultValue:e.val||e.lbl},e.req&&{required:!0},"name"in n&&{name:n.name+"[]"},{checked:Array.isArray(f)&&f.indexOf(e.val||e.lbl)>=0,onChange:y,onBlur:h})),(0,d.jsx)("span",{className:"btcd-mrk ck"})]},"opt-"+(t+24))}))})})}function m(e){var t,n,a,s=e.attr,c=e.onBlurHandler,u=e.resetFieldValue,f=e.formID,m=s.valid.checked,p=(0,i.useRef)(null),y=s.val||(m?s.msg.checked:s.msg.unchecked),h=(0,i.useState)(y),b=h[0],g=h[1];b===s.msg.unchecked?m=!1:b===s.msg.checked&&(m=!0),(0,i.useEffect)((function(){u&&g(y)}),[u]),(0,i.useEffect)((function(){if(s.hasWorkflow&&c&&!s.userinput){var e=p.current;c(e)}}),[b]);return(0,d.jsx)(o.Z,{formID:f,fieldKey:s.name,fieldData:s,noLabel:!0,children:(0,d.jsx)("div",{className:"no-drg fld fld-"+f+" btcd-ck-con "+(s.round&&"btcd-round"),children:(0,d.jsxs)("label",{className:"btcd-ck-wrp btcd-ck-wrp-"+f,children:[(0,d.jsx)("span",{className:"decision-content",dangerouslySetInnerHTML:{__html:s.lbl||(null==s||null==(t=s.info)?void 0:t.lbl)}}),(0,d.jsx)("input",(0,r.Z)({type:"hidden",value:b},"name"in s&&{name:s.name})),(0,d.jsx)("input",(0,r.Z)({style:{height:s.valid.req&&1,width:s.valid.req&&1},type:"checkbox",ref:p,disabled:null==s||null==(n=s.valid)?void 0:n.disabled,readOnly:null==s||null==(a=s.valid)?void 0:a.readonly},s.valid.req&&{required:!0},{checked:m,value:b,onChange:function(e){s.valid.disabled||(e.target.checked?g(s.msg.checked):g(s.msg.unchecked),c&&c(e))},onBlur:function(e){var t=e.target.form;(0,l.default)({input:{name:s.name,form:t,value:e.target.checked?s.msg.checked:s.msg.unchecked}})}})),(0,d.jsx)("span",{className:"btcd-mrk ck"})]})})})}function p(e){var t,n=e.attr,i=e.formID;return(0,d.jsx)(o.Z,{formID:i,fieldData:n,noLabel:!0,children:(0,d.jsx)("div",{dangerouslySetInnerHTML:{__html:n.content||(null==n||null==(t=n.info)?void 0:t.content)}})})}function y(e){var t=e.attr,n=e.onBlurHandler,a=e.resetFieldValue,s=e.formID,c=(0,i.useState)(t.val||""),u=c[0],f=c[1],m=(0,i.useRef)([]);m.current=t.opt.map((function(e,t){var n;return null!=(n=m.current[t])?n:(0,i.createRef)()})),(0,i.useEffect)((function(){if(t.val&&!t.userinput)f(t.val);else if(t.val||t.userinput)t.conditional&&f(t.val);else{var e;t.opt&&t.opt.forEach((function(t){t.check&&(e=t.lbl)})),f(e||"")}}),[t.val,t.userinput,t.conditional,t.opt]),(0,i.useEffect)((function(){a&&f("")}),[a]),(0,i.useEffect)((function(){if(t.hasWorkflow&&t.val===u&&n&&!t.userinput){var e=m.current.find((function(e){return e.current.checked&&e.current.value===u}));if(e){var i=e.current;n(i)}}}),[u]);var p=function(e){t.valid.disabled||(f(e.target.value),n&&n(e))},y=Math.random(),h=function(e){var t=e.target,n=t.name,i=t.form;(0,l.default)({input:{name:n,form:i,value:u}})};return(0,d.jsx)(o.Z,{formID:s,fieldKey:t.name,fieldData:t,children:(0,d.jsx)("div",{className:"no-drg fld fld-"+s+" btcd-ck-con "+(t.round&&"btcd-round"),children:t.opt.map((function(e,n){return(0,d.jsxs)("label",{className:"btcd-ck-wrp btcd-ck-wrp-"+s,children:[(0,d.jsx)("span",{children:e.lbl}),(0,d.jsx)("input",(0,r.Z)({type:"radio",ref:m.current[n],name:y,value:e.val||e.lbl},e.check&&{checked:!0},t.valid.req&&{required:!0},"name"in t&&{name:t.name},{checked:u===(e.val||e.lbl)},"readonly"in t.valid&&{readOnly:t.valid.readonly},{onChange:p,onBlur:h})),(0,d.jsx)("span",{className:"btcd-mrk rdo"})]},"opr-"+(n+22))}))})})}var h=n(97707);n(78774);function b(e){var t,n=e.attr,a=e.onBlurHandler,l=e.resetFieldValue,s=e.formID,c=e.isBuilder;"val"in n&&n.val&&n.val.length>0?"string"===typeof n.val?t="["===n.val[0]?JSON.parse(n.val):n.val.split(","):Array.isArray(n.val)&&(t=n.val.length>0?n.val.filter((function(e){return e})):[]):t=[];var u=(0,i.useState)(t||[]),f=u[0],m=u[1];(0,i.useEffect)((function(){c||!t||n.userinput||JSON.stringify(f)===JSON.stringify(t)?t&&n.conditional&&m(t):m(t)}),[n.val,n.userinput,n.conditional,t,f]),(0,i.useEffect)((function(){l&&m([])}),[l]),(0,i.useEffect)((function(){if(n.hasWorkflow&&JSON.stringify(t)===JSON.stringify(f)&&a&&!n.userinput){var e={name:"mul"in n?""+n.name:n.name,value:f,type:"dropdown",multiple:"mul"in n&&n.mul};a(e)}}),[f]);return(0,d.jsx)(o.Z,{formID:s,fieldKey:n.name,fieldData:n,children:(0,d.jsx)(h.Z,(0,r.Z)({className:"fld fld-"+s+" dpd no-drg"},"req"in n.valid&&{required:n.valid.req},"disabled"in n.valid&&{disabled:n.valid.disabled},"ph"in n&&{placeholder:n.ph},"name"in n&&{name:"mul"in n?""+n.name:n.name},{singleSelect:!n.mul,customValue:n.customOpt,options:function(){return function(){var e=[];return n.opt.map((function(t){if(t.lbl)e.push({label:t.lbl,value:t.lbl}),t.prefix_img&&e.push((0,r.Z)({},t,{title:t.label||t.lbl,label:(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{src:"http://bitcode.io/wp-content/plugins/BitForm/static/countries/af.png",alt:""}),t.label||t.lbl]})}));else if(t.prefix_img){var n="";n="undefined"===typeof bits&&"undefined"!==typeof bitFormsFront?bitFormsFront.assetUrl:bits.assetsURL,e.push((0,r.Z)({},t,{title:t.label||t.lbl,label:(0,d.jsxs)("div",{className:"btcd-flx",children:[(0,d.jsx)("img",{className:"dpd-prefix",src:""+n+t.prefix_img,alt:t.label}),t.label||t.lbl]})}))}else e.push(t)})),e}()},onChange:function(e){var t=[];if(e&&e.target&&e.target.multiple&&f){var i=[];e.target.childNodes.forEach((function(e){e.selected&&e.value&&i.push(e.value)})),t=[].concat(i)}else{if(a){var r={name:"mul"in n?""+n.name:n.name,value:e.split(","),type:"dropdown",multiple:"mul"in n&&n.mul,userinput:!0};a(r)}t=e.split(",")}(!n.valid.disableOnMax||n.valid.disableOnMax&&t.length<=Number(n.mx))&&m(t)},defaultValue:f}))})}const g=(0,i.memo)(b);var v=n(70092);function x(e){var t=e.attr,n=e.formID,a=e.entryID,l=e.resetFieldValue,s=(0,i.createRef)(),c=(0,i.useState)(void 0!==t.val&&JSON.parse(t.val)),u=c[0],f=c[1];(0,i.useEffect)((function(){if(l){var e=document.getElementsByName("mul"in t?t.name+"[]":t.name)[0];e.value=null,e.nextElementSibling.innerHTML="",e.previousElementSibling.children[1].innerHTML="No File Chosen"}}),[l]);return(0,d.jsx)(o.Z,{formID:n,fieldKey:t.name,fieldData:t,children:(0,d.jsx)("div",{className:"btcd-f-input",children:(0,d.jsxs)("div",{className:"btcd-f-wrp",children:[(0,d.jsxs)("div",{className:"btn-wrp",children:[(0,d.jsxs)("button",{className:"btcd-inpBtn",type:"button",children:[(0,d.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",children:(0,d.jsx)("path",{d:"M13.5 7.5l-5.757 5.757a4.243 4.243 0 01-6-6l5.929-5.929a2.828 2.828 0 014 4l-5.758 5.758a1.414 1.414 0 01-2-2L9.5 3.5",stroke:"currentColor"})}),(0,d.jsx)("span",{children:" "+t.upBtnTxt})]}),(0,d.jsx)("div",{className:"btcd-f-title",children:"No File Chosen"}),(0,d.jsx)("small",{className:"f-max",children:"mxUp"in t&&" (Max "+t.mxUp+" "+(t.unit||"MB")+")"})]}),(0,d.jsx)("input",(0,r.Z)({},"req"in t.valid&&{required:t.valid.req},"disabled"in t.valid&&{disabled:t.valid.disabled},"mul"in t&&{multiple:!0},"exts"in t&&{accept:t.exts},"name"in t&&{name:"mul"in t?t.name+"[]":t.name},{type:"file",onClick:v.setPrevData,onChange:function(e){return function(e){if((0,v.handleFile)(e),e.target.files.length)for(var t=0;t<s.current.children.length;t+=1)s.current.children[t].children[2].addEventListener("click",(function(e){(0,v.delItem)(e.target)}))}(e)}})),void 0!==t.val&&(0,d.jsxs)("div",{className:"btcd-old-file",children:[(0,d.jsx)("input",{type:"hidden",name:t.name+"_old",value:u.toString()}),!1!==u&&0!==u.length&&(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsxs)("small",{children:[u.length," ","Old File"]})}),u.map((function(e,t){return(0,d.jsxs)("div",{className:"flx ",children:[(0,d.jsxs)("a",{href:"undefined"!==typeof bits?bits.baseDLURL+"formID="+n+"&entryID="+a+"&fileID="+e:"",target:"_blank",rel:"noopener noreferrer",children:[(0,d.jsx)("span",{className:"btcd-icn icn-file"})," ",e]}),(0,d.jsx)("button",{onClick:function(){return function(e){var t=[].concat(u);t.splice(e,1),f(t)}(t)},type:"button",className:"icn-btn",children:"×"})]},"ol-f-"+(t+3))}))]}),(0,d.jsx)("div",{ref:s,className:"btcd-files"})]})})})}function j(e){var t=e.attr;return(0,d.jsxs)("div",{className:"fld-wrp drag","btcd-fld":"text-fld",children:["lbl"in t&&(0,d.jsx)("label",{className:"fld-lbl",children:t.lbl}),(0,d.jsx)("input",(0,r.Z)({className:"fld no-drg",type:t.typ},"req"in t.valid&&{required:t.valid.req},"ph"in t&&{placeholder:t.ph},"mn"in t&&{min:t.mn},"mx"in t&&{max:t.mx},"val"in t&&{defaultValue:t.val},"val"in t&&"userinput"in t&&t.userinput&&{value:t.val},"ac"in t&&{autoComplete:t.ac},"name"in t&&{name:t.name}))]})}var M=n(75257);function I(e){var t=e.attr,n=e.buttonDisabled,i=e.handleReset,a=e.formID;return(0,d.jsx)("div",{className:"fld-wrp fld-wrp-"+a,"btcd-fld":"submit",children:(0,d.jsxs)("div",{className:"btcd-frm-sub "+("center"===t.align&&"j-c-c")+" "+("right"===t.align&&"j-c-e"),children:[(0,d.jsxs)("button",{className:"btcd-sub-btn btcd-sub "+("md"===t.btnSiz&&"btcd-btn-md")+" "+(t.fulW&&"ful-w"),disabled:n,type:"submit",children:[t.subBtnTxt,n&&(0,d.jsx)(M.Z,{clr:"currentColor",size:12,style:{display:"inline-block",marginLeft:5}})]}),"rstBtnTxt"in t&&(0,d.jsx)("button",(0,r.Z)({className:"btcd-sub-btn btcd-rst "+("md"===t.btnSiz&&"btcd-btn-md")+" "+(t.fulW&&"ful-w"),type:"button"},i&&{onClick:i},{children:t.rstBtnTxt}))]})})}function N(e){var t,n=e.attr,i=e.buttonDisabled,a=e.handleReset,l=e.formID;e.data;return(0,d.jsx)(o.Z,{formID:l,fieldData:n,noLabel:!0,children:(0,d.jsx)("div",{className:"btcd-frm-sub "+("center"===n.align&&"j-c-c")+" "+("right"===n.align&&"j-c-e"),children:(0,d.jsxs)("button",(0,r.Z)({className:"btcd-sub-btn "+("reset"===n.btnTyp?"btcd-rst":"btcd-sub")+" "+("md"===n.btnSiz&&"btcd-btn-md")+" "+(n.fulW&&"ful-w"),disabled:i||(null==n||null==(t=n.valid)?void 0:t.disabled),type:n.btnTyp},"reset"===n.btnTyp&&{onClick:a},{children:[n.txt,i&&(0,d.jsx)(M.Z,{clr:"currentColor",size:12,style:{display:"inline-block",marginLeft:5}})]}))})})}var D=n(75021),w=n(15861),T=n(87757),L=n.n(T);function _(e,t){return S.apply(this,arguments)}function S(){return(S=(0,w.Z)(L().mark((function e(t,n){var i,a,r,s,o,d,c,u,f;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,l.default)({form:t})){e.next=2;break}return e.abrupt("return",new Promise((function(e,t){t(new Error("Form is not valid"))})));case 2:if((i=document.getElementById(t)).classList.add("pos-rel","form-loading"),a=new FormData(document.getElementById("form-"+t)),r=window,s=r.bitFormsFront,o=r.grecaptcha,"v3"!==(null==s?void 0:s.gRecaptchaVersion)||null==s||!s.gRecaptchaSiteKey){e.next=11;break}return e.next=9,o.execute(null==s?void 0:s.gRecaptchaSiteKey,{action:"submit"});case 9:d=e.sent,a.append("g-recaptcha-response",d);case 11:return(c=new URL(s.ajaxURL)).searchParams.append("action","bitforms_before_submit_validate"),e.next=15,fetch(c,{method:"POST",body:a});case 15:return u=e.sent,e.next=18,u.json();case 18:if(f=e.sent,i.classList.remove("pos-rel","form-loading"),f.success){e.next=23;break}return n(f),e.abrupt("return",new Promise((function(e,t){t(new Error("Form is not valid"))})));case 23:return e.abrupt("return",new Promise((function(e){e(!0)})));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=n(83938);function k(e,t,n,i){return A.apply(this,arguments)}function A(){return(A=(0,w.Z)(L().mark((function e(t,n,i,a){var r,l,s,o,d;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i=null),void 0===a&&(a=null),bitFormsFront){e.next=4;break}return e.abrupt("return",!1);case 4:if((s=new URL(null==(r=bitFormsFront)?void 0:r.ajaxURL)).searchParams.append("action",n),s.searchParams.append("_ajax_nonce",null==(l=bitFormsFront)?void 0:l.nonce),a)for(o in a)o&&s.searchParams.append(o,a[o]);return e.next=10,fetch(s,{method:"POST",headers:{"Content-Type":null===i?"application/x-www-form-urlencoded":i},body:t instanceof FormData?t:JSON.stringify(t)}).then((function(e){return e.json()}));case 10:return d=e.sent,e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const z=function(e){var t=e.fieldKey,n=e.formID,a=e.attr,r=e.contentID,c=e.resetFieldValue,u=e.isBuilder,f=e.handleFormValidationErrorMessages,m=(0,i.useContext)(C.d),p=(0,i.useState)(""),y=p[0],h=p[1],b=(0,i.useState)(!1),g=b[0],v=b[1],x=(0,i.useState)((null==a?void 0:a.amount)||1),j=x[0],M=x[1],I=(0,i.useState)((null==a?void 0:a.shipping)||0),N=I[0],w=I[1],T=(0,i.useState)((null==a?void 0:a.tax)||0),L=T[0],S=T[1],A=(0,i.useState)((null==a?void 0:a.description)||""),z=A[0],E=A[1],O=a.currency,F="subscription"===a.payType,Z="standalone"===a.style.layout,R=function(e){var t={amountFld:[M],shippingFld:[w],taxFld:[S],descFld:[E]};return Object.entries(t).map((function(n){if(null!=a&&a[n[0]]){var i,r=a[n[0]],l=(0,s.Ys)('[name="'+r+'"]');if("radio"===(null==(i=l)?void 0:i.type)&&(l=(0,s.Ys)('[name="'+r+'"]:checked')),l){var o=l.value;e&&n[1][0](o),t[n[0]][1]=o}}})),t};return(0,i.useEffect)((function(){var e,t,n="";"undefined"!==typeof bitFormsFront&&(n=atob((null==(e=bitFormsFront)||null==(t=e.paymentKeys)?void 0:t.paypalKey)||""));if(!n&&"undefined"!==typeof bits){var i,r=null==m||null==(i=m.payments)?void 0:i.find((function(e){return e.id&&a.payIntegID&&Number(e.id)===Number(a.payIntegID)}));r&&(n=r.clientID)}h(n),R(1)}),[a.payIntegID]),(0,i.useEffect)((function(){if(c){var e=document.getElementById("paypalfield");e&&e.remove()}}),[c]),(0,i.useEffect)((function(){v(!1),setTimeout((function(){v(!0)}),1)}),[y,a.currency,a.payType,a.locale,a.disableFunding]),(0,d.jsx)(o.Z,{formID:n,fieldData:a,noLabel:!0,isBuilder:u,children:(0,d.jsxs)("div",{style:{width:"auto",minWidth:150,maxWidth:750,marginLeft:"auto",marginRight:"auto"},children:[g&&y&&(0,d.jsx)(D.Vv,{options:function(){var e={"client-id":y};return F||(e.currency=O),F&&(e.vault=!0,e.intent="subscription"),a.locale&&(e.locale=a.locale),a.disableFunding&&(e["disable-funding"]=a.disableFunding),e}(),children:(0,d.jsx)(D.ch,{style:function(){var e,t={color:a.style.color,shape:a.style.shape,label:F?"subscribe":a.style.label};return Z||(t.layout=a.style.layout),null!=(e=a.style)&&e.height&&(t.height=Number(a.style.height)),t}(),fundingSource:Z?D.KT[a.style.payBtn]:void 0,createSubscription:F?function(e,t){return function(e,t){if(!(0,l.default)({form:r}))throw new Error("form validation is failed!");return t.subscription.create({plan_id:null==a?void 0:a.planId})}(0,t)}:void 0,createOrder:F?void 0:function(e,t){return function(e,t){var n=R(),i=1*Number(n.amountFld[1]||j).toFixed(2),r=1*Number(n.shippingFld[1]||N).toFixed(2),l=1*(Number(n.taxFld[1]||L)*i/100).toFixed(2),s=1*(i+r+l).toFixed(2);return t.order.create({purchase_units:[{description:n.descFld[1]||z,amount:{currency_code:a.currency,value:s,breakdown:{item_total:{currency_code:a.currency,value:i},shipping:{currency_code:a.currency,value:r},tax_total:{currency_code:a.currency,value:l}}}}]})}(0,t)},onClick:function(){return _(r,f).then((function(){return!0})).catch((function(){return!1}))},onApprove:function(e,i){return function(e,i){var a=document.getElementById(""+r);a.classList.add("pos-rel","form-loading"),(F?i.subscription.get():i.order.capture()).then((function(e){var i=document.getElementById("form-"+r);if("undefined"!==typeof i&&null!==i){var l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name",t),l.setAttribute("id","paypalfield"),l.setAttribute("value",e.id),i.appendChild(l);var s=i.querySelector('button[type="submit"]');s||((s=document.createElement("input")).setAttribute("type","submit"),s.style.display="none",i.appendChild(s)),s.click(),k({formID:n,transactionID:e.id,payment_name:"paypal",payment_type:F?"subscription":"order",payment_response:e},"bitforms_payment_insert").then((function(){return a.classList.remove("pos-rel","form-loading")}))}}))}(0,i)},forceReRender:[j,a.style],onError:function(){}})}),!a.payIntegID&&(0,d.jsx)("p",{children:"Select a config from field settings to render the PayPal."})]})})};function E(e){var t=e.fieldKey,n=e.contentID,a=e.formID,r=e.attr,l=e.buttonDisabled,c=e.resetFieldValue,u=(e.isFrontend,e.handleFormValidationErrorMessages),f=(0,i.useContext)(C.d),m=(0,i.useState)(""),p=m[0],y=m[1],h=(0,i.useState)(r.options.amount||1),b=h[0],g=h[1],v=(0,i.useState)(""),x=v[0],j=v[1],M=(0,i.useState)(""),I=M[0],N=M[1],D=(0,i.useState)(""),T=D[0],S=D[1],A="subscription"===r.payType;(0,i.useEffect)((function(){g(r.options.amount)}),[r.options.amount]),(0,i.useEffect)((function(){z(),E(1)}),[]),(0,i.useEffect)((function(){var e,t,n="";if("undefined"!==typeof bitFormsFront)n=atob((null==(e=bitFormsFront)||null==(t=e.paymentKeys)?void 0:t.razorpayKey)||"");else if("undefined"!==typeof bits){var i,a=null==f||null==(i=f.payments)?void 0:i.find((function(e){return e.id&&r.options.payIntegID&&Number(e.id)===Number(r.options.payIntegID)}));if(!a)return!1;n=a.apiKey}y(n)}),[r.options.payIntegID]),(0,i.useEffect)((function(){if(c){var e=document.getElementById("razorpayfield");e&&e.remove()}}),[c]);var z=function(){var e=(0,w.Z)(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("razorpaysrc")){e.next=5;break}return e.next=3,(0,s.ve)("https://checkout.razorpay.com/v1/checkout.js","razorpaysrc");case 3:e.sent||z();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){var t={amountFld:[g],prefillNameFld:[j,"prefill"],prefillEmailFld:[N,"prefill"],prefillContactFld:[S,"prefill"]};return Object.entries(t).map((function(n){var i=n[1][1]?r.options[n[1][1]][n[0]]:r.options[n[0]];if(i){var a,l=(0,s.Ys)('[name="'+i+'"]');if("radio"===(null==(a=l)?void 0:a.type)&&(l=(0,s.Ys)('[name="'+i+'"]:checked')),l){var o=l.value;e&&n[1][0](o),n[1][1]?t[n[0]][2]=o:t[n[0]][1]=o}}})),t},O=function(e){var i=document.getElementById(""+n);i.classList.add("pos-rel","form-loading");var r=document.getElementById("form-"+n);if("undefined"!==typeof r&&null!==r){var l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name",t),l.setAttribute("id","razorpayfield"),l.setAttribute("value",e.razorpay_payment_id),r.appendChild(l);var s=r.querySelector('button[type="submit"]');s||((s=document.createElement("input")).setAttribute("type","submit"),s.style.display="none",r.appendChild(s)),s.click(),k({formID:a,fieldKey:t,transactionID:e.razorpay_payment_id,payment_type:A?"subscription":"order"},"bitforms_save_razorpay_details").then((function(e){return i.classList.remove("pos-rel","form-loading")}))}};return(0,d.jsxs)(o.Z,{formID:a,fieldData:r,noLabel:!0,children:[p&&(0,d.jsx)("div",{className:"btcd-frm-sub "+("center"===r.align&&"j-c-c")+" "+("right"===r.align&&"j-c-e"),children:(0,d.jsx)("button",{className:"btcd-sub-btn btcd-sub "+("md"===r.btnSiz&&"btcd-btn-md")+" "+(r.fulW&&"ful-w"),disabled:l,type:"button",onClick:function(){var e=E(),t=r.options,i=t.currency,a=t.name,l=t.description,s=t.theme,o=t.modal,d=t.notes,c=o.confirm_close,f={key:p,amount:100*Number(e.amountFld[1]||b),currency:i,name:a,description:l,theme:s,notes:d,modal:{backdropclose:!1,escape:!1,confirm_close:c},prefill:{name:e.prefillNameFld[2]||x,email:e.prefillEmailFld[2]||I,contact:e.prefillContactFld[2]||T},handler:function(){var e=(0,w.Z)(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};_(n,u).then((function(){new window.Razorpay(f).open()})).catch((function(){return!1}))},children:r.btnTxt})}),!r.options.payIntegID&&(0,d.jsx)("p",{children:"Select a config from field settings to render the Razorpay."})]})}function O(e){var t;switch(null==e||null==(t=e.atts)?void 0:t.typ){case"text":case"number":case"password":case"username":case"email":case"url":case"date":case"datetime-local":case"time":case"month":case"week":case"color":return(0,d.jsx)(c,{fieldKey:e.fieldKey,formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"textarea":return(0,d.jsx)(u,{fieldKey:e.fieldKey,formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"check":return(0,d.jsx)(f,{formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"radio":return(0,d.jsx)(y,{formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"select":return(0,d.jsx)(g,{isBuilder:e.isBuilder,formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"file-up":return(0,d.jsx)(x,{formID:e.formID,attr:e.atts,entryID:e.entryID,resetFieldValue:e.resetFieldValue});case"submit":return(0,d.jsx)(I,{formID:e.formID,attr:e.atts,buttonDisabled:e.buttonDisabled,handleReset:e.handleReset});case"hidden":return(0,d.jsx)(j,{formID:e.formID,attr:e.atts});case"recaptcha":return(0,d.jsx)(a.Z,{formID:e.formID,attr:e.atts});case"decision-box":return(0,d.jsx)(m,{formID:e.formID,attr:e.atts,fieldData:e.fieldData,resetFieldValue:e.resetFieldValue});case"html":return(0,d.jsx)(p,{formID:e.formID,attr:e.atts,fieldData:e.fieldData,resetFieldValue:e.resetFieldValue});case"button":return(0,d.jsx)(N,{formID:e.formID,attr:e.atts,fieldData:e.fieldData,buttonDisabled:e.buttonDisabled,handleReset:e.handleReset});case"paypal":return(0,d.jsx)(z,{isBuilder:e.isBuilder,fieldKey:e.fieldKey,formID:e.formID,attr:e.atts,contentID:e.contentID,fieldData:e.fieldData,resetFieldValue:e.resetFieldValue,handleFormValidationErrorMessages:e.handleFormValidationErrorMessages});case"razorpay":return(0,d.jsx)(E,{fieldKey:e.fieldKey,contentID:e.contentID,formID:e.formID,attr:e.atts,buttonDisabled:e.buttonDisabled,resetFieldValue:e.resetFieldValue,handleFormValidationErrorMessages:e.handleFormValidationErrorMessages});case"blank":return(0,d.jsx)("div",{className:"blnk-blk drag"})}return(0,d.jsx)("div",{children:"Loading"})}const F=(0,i.memo)(O)},93429:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(15861),a=n(87757),r=n.n(a),l=n(67294),s=n(52240),o=n(35637),d=n(80410),c=n(85893);function u(e){var t=e.formFields,n=e.id,a=e.value,u=e.onChangeHandler,f=e.toolbarMnu,m=e.menubar,p=e.height,y=e.width,h=e.disabled,b=e.plugins,g=(0,l.useState)(0),v=g[0],x=g[1];(0,l.useEffect)((function(){return j()}),[]);var j=function(){var e=(0,i.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof tinymce){e.next=6;break}return e.next=3,(0,s.ve)("https://cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.11/tinymce.min.js","tinymceCDN");case 3:e.sent||j(),x(1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){var e;"undefined"===typeof tinymce||h?document.getElementById(n+"-settings").value=a||"":(tinymce.remove("textarea#"+n+"-settings"),M(),null==(e=tinymce.get(n+"-settings"))||e.setContent(a||""))}),[t,n,h,v]);var M=function(){"undefined"!==typeof tinymce&&tinymce.init({selector:"textarea#"+n+"-settings",menubar:m,height:p||150,width:y||"100%",branding:!1,resize:"verticle",convert_urls:!1,theme:"modern",plugins:b||"directionality fullscreen image link media charmap hr lists textcolor colorpicker "+(v?"":"wordpress"),toolbar:f||"formatselect | fontsizeselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat toogleCode wp_code | addFormField | addSmartField",image_advtab:!0,default_link_target:"_blank",setup:function(e){e.on("Paste Change input Undo Redo",(function(){u(e.getContent())})),t&&e.addButton("addFormField",{text:"Form Fields ",tooltip:"Add Form Field Value in Message",type:"menubutton",icon:!1,menu:null==t?void 0:t.map((function(t){return!t.type.match(/^(file-up|recaptcha)$/)&&{text:t.name,onClick:function(){e.insertContent("${"+t.key+"}")}}}))}),d.C&&e.addButton("addSmartField",{text:"Smart Tag Fields",tooltip:"Add Smart Tag Field Value in Message",type:"menubutton",icon:!1,menu:null==d.C?void 0:d.C.map((function(t){return{text:t.label,onClick:function(){e.insertContent("${"+t.name+"}")}}}))}),e.addButton("toogleCode",{text:"</>",tooltip:(0,o.__)("Toggle preview","bitform"),icon:!1,onclick:function(t){var i=t.control.$,a=i("#"+n+"-settings"),r=i(e.iframeElement);a.value=e.getContent({source_view:!0}),r.toggleClass("hidden"),a.toggleClass("visible"),i("iframe.hidden").length>0?a.prependTo(".mce-edit-area"):e.setContent(document.getElementById(n+"-settings").value)}})}})};return(0,c.jsx)("textarea",{id:n+"-settings",className:"btcd-paper-inp mt-1 w-10",rows:"5",value:a,onChange:function(e){return u(e.target.value)},style:{width:"95.5%",height:"auto"},disabled:h})}},53859:(e,t,n)=>{n.r(t),n.d(t,{default:()=>X});var i=n(87462),a=n(67294),r=n(85256),l=n(2804),s=n(86658),o=n(54017),d=n(44981),c=n(92281),u=n(52240),f=n(52249),m=function e(t,n){if(Array.isArray(t)){for(var i=!1,a=0;a<t.length;a+=1){var r=t[a];if("string"!==typeof r){var l=e(r,n);if(0===a&&(i=l),a-1>=0&&"string"===typeof t[a-1])switch(t[a-1].toLowerCase()){case"or":i=i||l;break;case"and":i=i&&l}}}return i}if(void 0===n[t.field])return!1;var s=p(t.val,n),o=n[t.field].value;"number"===typeof s&&(o=parseInt(o,10));var d=o;switch(t.logic){case"equal":if(!n[t.field].value)return!1;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===d||Array.isArray(d)){var c=Array.isArray(d)?d:JSON.parse(d),u=s.split(","),f=0;return c.forEach((function(e){c.length>0&&-1!==u.indexOf(e)&&(f+=1)})),f===u.length&&u.length===c.length}return d===s;case"not_equal":if(!d)return!1;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===d||Array.isArray(d)){var m=Array.isArray(d)?d:JSON.parse(d),y=s.split(",");if(m.length!==y.length)return!0;var h=0;return y.forEach((function(e){m.length>0&&-1===m.indexOf(e)&&(h+=1)})),y.length===h}return d!==s;case"null":return d&&0===d.length;case"not_null":return d&&d.length>0;case"contain":if(!d)return!1;var b=s.split(","),g=0;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===d||Array.isArray(d)){var v=Array.isArray(d)?d:JSON.parse(d);return b.forEach((function(e){v.length>0&&-1!==v.indexOf(e)&&(g+=1)})),g>0}return b.forEach((function(e){d.length>0&&-1!==d.indexOf(e)&&(g+=1)})),g>0;case"contain_all":if(!d)return!1;var x=s.split(","),j=0;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===d||Array.isArray(d)){var M=Array.isArray(d)?d:JSON.parse(d);return x.forEach((function(e){M.length>0&&-1!==M.indexOf(e)&&(j+=1)})),j>=x.length}break;case"not_contain":if(!d)return!1;var I=s.split(","),N=0;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===d||Array.isArray(d)){var D=Array.isArray(d)?d:JSON.parse(d);return I.forEach((function(e){D.length>0&&-1===D.indexOf(e)&&(N+=1)})),N===I.length}return I.forEach((function(e){d.length>0&&-1===d.indexOf(e)&&(N+=1)})),N===I.length;case"greater":return!!d&&("number"===n[t.field].type?""!==d&&Number(d)>Number(s):""!==d&&d>s);case"less":return!!d&&("number"===n[t.field].type?""!==d&&Number(d)<Number(s):""!==d&&d<s);case"greater_or_equal":return!!d&&("number"===n[t.field].type?""!==d&&Number(d)>=Number(s):""!==d&&d>=s);case"less_or_equal":return!!d&&("number"===n[t.field].type?""!==d&&Number(d)<=Number(s):""!==d&&d<=s);case"start_with":return!!d&&(""!==d&&0===d.indexOf(s));case"end_with":return!!d&&s===d.substr(d.length-s.length,d.length);default:return!1}},p=function(e,t){if(!e)return e;var n;if("string"!==typeof(n="object"===typeof e?JSON.stringify(e):(0,f.p$)(e)))return e;var i=n.match(/\${\w[^${}]*}/g);return i&&i.map((function(e){var i=e.substring(2,e.length-1);if(t[i]){var a=t[i].value;Array.isArray(t[i].value)&&!isNaN(t[i].value[0])&&(a=0,t[i].value.map((function(e){a+=Number(e)}))),n=n.replace(e,a)}})),y(n)},y=function(e){if(!e)return e;var t=e,n=e.match(/[\\+\-\\*\\/\\%]/g);if(n&&n.length>0){var i=e.match(/\w+/g);if(!i)return e;var a=i.filter((function(e){return isNaN(e)}));if(a&&a.length>0)return t;t=(t=t.replace(/\{|\[/g,"(")).replace(/\}|\]/g,")");try{t=Function('"use strict";return ('+t+")")()}catch(r){return e}}return t},h=n(48472),b=n(85893),g=function(e,t){return(0,i.Z)({},e,t)};function v(e){var t=(0,a.useState)(!1),n=t[0],i=t[1],r=(0,a.useState)(null),l=r[0],s=r[1],o=(0,a.useState)(!1),y=o[0],v=o[1],j=(0,a.useReducer)(g,e.data),M=j[0],I=j[1],N=(0,a.useState)(e.layout)[0],D=(0,a.useState)(!1),w=D[0],T=D[1],L=(0,a.useState)(!1),_=L[0],S=L[1],C=0;(0,a.useEffect)((function(){!e.editMode&&"v3"===e.gRecaptchaVersion&&e.gRecaptchaSiteKey&&(0,u.ve)("https://www.google.com/recaptcha/api.js?render="+e.gRecaptchaSiteKey,"g-recaptcha-script")}),[]);var k=function(t){if(t){var n,i,a=!1,r=!1,l=[];t.target?(n=t.target,i=t.target.form,r=!0):("dropdown"===(n=t).type&&n.userinput&&(r=!0),i=document.getElementById("form-"+e.contentID));var s,o=void 0!==M&&JSON.parse(JSON.stringify(M));_&&S(!1);var d=[],c=n.name;if(s=n.name&&-1!==n.name.indexOf("[]")&&n.name.indexOf("[]")===n.name.length-2?n.name.substring(0,n.name.length-2):n.name,o[e.fieldsKey[s]]&&o[e.fieldsKey[s]].error&&(delete o[e.fieldsKey[s]].error,l[e.fieldsKey[s]]=o[e.fieldsKey[s]],a=!0),o[e.fieldsKey[s]]&&!o[e.fieldsKey[s]].userinput&&r&&(o[e.fieldsKey[s]].userinput=r,l[e.fieldsKey[s]]=o[e.fieldsKey[s]],a=!0),void 0!==e.fieldToCheck[s]){Object.keys(e.fieldsKey).forEach((function(e){var t;t=s===e?c:e;var a=i.querySelectorAll("[name^='"+t+"']");if(a.length>0){var r,l,o=a[0].type;if(a[0].name===n.name&&"checkbox"!==o)r=n.value,l=n.multiple,o=n.type;else if("checkbox"===o||"select-multiple"===o||"select-one"===o||"radio"===o)switch(o){case"checkbox":var u=[];a.forEach((function(e){e.checked&&e.value&&u.push(e.value)})),r=u,l=!0;break;case"select-multiple":var f=[];a[0].slim?a[0].slim.data.data.forEach((function(e){e.selected&&e.value&&f.push(e.value)})):a[0].childNodes.forEach((function(e){e.selected&&e.value&&f.push(e.value)})),r=f,l=!0;break;case"select-one":r=a[0].value;break;case"radio":a.forEach((function(e){e.checked&&e.value&&(r=e.value)}))}else"hidden"===a[0].type&&a[0].value&&a[0].nextElementSibling&&a[0].nextElementSibling.hasAttribute("data-msl")?l=(r=a[0].value.split(","))&&r.length>0:(r=a[0].value,l=a[0].multiple);d[e]={type:o,value:r,multiple:l}}}));var u=[];e.fieldToCheck[s].forEach((function(t){var n=m(e.conditional[t].logics,d);u.push([t,n?1:0])})),u.sort((function(e,t){return e[1]-t[1]})).forEach((function(t){var n=t[0];t[1]?e.conditional[n].actions.forEach((function(t){if(void 0!==t.action&&void 0!==t.field){switch(o[e.fieldsKey[t.field]].valid||(o[e.fieldsKey[t.field]].valid={}),t.action){case"value":if(void 0!==t.val&&o[e.fieldsKey[t.field]]){var n=t.val?p(t.val,d):t.val;t.field===s&&o[e.fieldsKey[t.field]].val===n&&r&&!o[e.fieldsKey[t.field]].conditional?o[e.fieldsKey[t.field]].conditional=!0:o[e.fieldsKey[t.field]].conditional=!1,o[e.fieldsKey[t.field]].val=n,o[e.fieldsKey[t.field]].userinput=!1,a=!0}break;case"hide":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.hide=!0,a=!0);break;case"disable":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.disabled=!0,a=!0);break;case"readonly":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.readonly=!0,a=!0);break;case"enable":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.disabled=!1,a=!0);break;case"show":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.hide=!1,"hidden"===o[e.fieldsKey[t.field]].typ&&(o[e.fieldsKey[t.field]].typ="text"),a=!0)}l[e.fieldsKey[t.field]]=o[e.fieldsKey[t.field]]}})):e.conditional[n].actions.forEach((function(t){if(void 0!==t.action&&void 0!==t.field){if(!e.data[e.fieldsKey[t.field]].valid)e.data[e.fieldsKey[t.field]].valid={};switch(a=!0,t.action){case"value":void 0!==t.val&&o[e.fieldsKey[t.field]]&&!o[e.fieldsKey[t.field]].userinput&&t.field!==s&&(o[e.fieldsKey[t.field]].val=e.data[e.fieldsKey[t.field]].val?p(e.data[e.fieldsKey[t.field]].val,d):"",o[e.fieldsKey[t.field]].userinput=!1);break;case"hide":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.hide=e.data[e.fieldsKey[t.field]].valid.hide);break;case"disable":case"enable":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.disabled=e.data[e.fieldsKey[t.field]].valid.disabled);break;case"readonly":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.readonly=e.data[e.fieldsKey[t.field]].valid.readonly);break;case"show":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.hide=e.data[e.fieldsKey[t.field]].valid.hide,"hidden"===o[e.fieldsKey[t.field]].typ&&(o[e.fieldsKey[t.field]].typ=e.data[e.fieldsKey[t.field]].typ))}l[e.fieldsKey[t.field]]=o[e.fieldsKey[t.field]]}}))}))}a&&(void 0!==e.fieldToCheck[s]&&l[e.fieldsKey[s]]&&l[e.fieldsKey[s]].userinput&&d[s]&&(l[e.fieldsKey[s]].val=d[s].value),I(l),e.editMode&&e.setFields(l))}},A=function(t){if(t.data&&"string"===typeof t.data)s(t.data),T(!0),i(!0);else if(t.data&&(void 0!==t.data.$form&&(s((0,f.p$)(t.data.$form)),T(!0),i(!0),delete t.data.$form),Object.keys(t.data).length>0)){var n=void 0!==M&&(0,f.p$)(M);Object.keys(t.data).map((function(i){n[e.fieldsKey[i]].error=t.data[i]})),I(n)}},z=function(e){e.then((function(e){return new Promise((function(t,n){e.status>400?500===e.status?n(new Error("Maybe Internal Server Error")):n(e.json()):t(e.json())}))})).then((function(e){var t=null,n=null,a="";if(void 0!==e&&e.success?(O(),"object"===typeof e.data?(t=e.data.redirectPage,e.data.cron&&(n=e.data.cron),e.data.cronNotOk&&(n=e.data.cronNotOk),e.data.new_nonce&&(a=e.data.new_nonce),s(e.data.message),i(!0),w&&T(!1)):(s(e.data),i(!0))):A(e),t){E(n,a);var r=setTimeout((function(){window.location=decodeURI(t),r&&clearTimeout(r)}),1e3)}else E(n,a);v(!1)})).catch((function(e){var t=null!=e&&e.message?e.message:"Unknown Error";s(t),T(!0),i(!0),v(!1)}))},E=function(t,n){if(t)if("string"===typeof t){var i=new URL(t);i.protocol!==window.location.protocol&&(i.protocol=window.location.protocol),fetch(i)}else{var a=new URL(bitFormsFront.ajaxURL);a.searchParams.append("action","bitforms_trigger_workflow");var r={cronNotOk:t,token:n||e.nonce,id:e.appID};fetch(a,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},O=function(){S(!0),e.gRecaptchaSiteKey&&"v2"===e.gRecaptchaVersion&&(0,d.L)()};return(0,a.useEffect)((function(){return _&&(S(!1),"undefined"!==typeof window[e.contentID]&&I(window[e.contentID].fields)),function(){S(!1),"undefined"!==typeof window[e.contentID]&&I(window[e.contentID].fields)}}),[_]),(0,a.useEffect)((function(){if(e.error&&(void 0!==e.error.$form&&(T(!0),s((0,f.p$)(e.error.$form)),i(!0),delete e.error.$form),Object.keys(e.error).length>0)){var t=void 0!==M&&(0,f.p$)(M);Object.keys(e.error).map((function(n){t[e.fieldsKey[n]].error=e.error[n]})),I(t)}}),[e.error]),(0,b.jsxs)("div",{id:"f-"+e.formId,children:[(0,b.jsxs)("form",{noValidate:!0,id:"form-"+e.contentID,className:"_frm-bg-"+e.formID,ref:e.refer,method:"POST",encType:e.file?"multipart/form-data":"",onSubmit:function(t){if(t.preventDefault(),(0,h.default)({form:e.contentID})){v(!0),n&&i(!1);var a=new FormData(t.target);e.GCLID&&a.set("GCLID",e.GCLID());var r=[];if(Object.entries(M).forEach((function(e){var t,n;null!=(t=e[1])&&null!=(n=t.valid)&&n.hide&&r.push(e[0])})),r.length&&a.append("hidden_fields",r),"v3"===(null==e?void 0:e.gRecaptchaVersion)&&null!=e&&e.gRecaptchaSiteKey)grecaptcha.ready((function(){grecaptcha.execute(e.gRecaptchaSiteKey,{action:"submit"}).then((function(e){a.append("g-recaptcha-response",e);var t=new URL(bitFormsFront.ajaxURL);t.searchParams.append("action","bitforms_submit_form");var n=fetch(t,{method:"POST",body:a});z(n)}))}));else{var l=new URL(bitFormsFront.ajaxURL);l.searchParams.append("action","bitforms_submit_form");var s=fetch(l,{method:"POST",body:a});z(s)}}},onKeyDown:function(e){"Enter"===e.key&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},children:[!e.editMode&&(0,b.jsx)("input",{type:"hidden",value:bitFormsFront&&e.nonce,name:"bitforms_token"}),!e.editMode&&(0,b.jsx)("input",{type:"hidden",value:bitFormsFront&&e.appID,name:"bitforms_id"}),e.GCLID&&(0,b.jsx)("input",{type:"hidden",name:"GCLID"}),(0,b.jsxs)("div",{className:"_frm-"+e.formID,children:[(0,b.jsx)("div",{className:"_frm-g _frm-g-"+e.formID,children:N.lg.map((function(t){return function(t){var n,i,a=void 0!==M&&(0,f.p$)(M),r=t.i;return a[t.i].name=r,e.gRecaptchaSiteKey&&null!==e.gRecaptchaSiteKey&&"recaptcha"===a[t.i].typ&&(a[t.i].siteKey=e.gRecaptchaSiteKey),e.fieldToCheck[r]&&(a[t.i].hasWorkflow=!0),C=C>t.y+t.h?C:t.y+t.h,(0,b.jsx)("div",{className:"btcd-fld-itm "+t.i+" "+(null!=(n=a[t.i])&&null!=(i=n.valid)&&i.hide?"vis-n":""),children:(0,b.jsx)(c.Z,{editMode:!0,fieldKey:t.i,atts:a[t.i],formID:e.formID,entryID:e.entryID,onBlurHandler:k,resetFieldValue:_,contentID:e.contentID,fieldData:M,buttonDisabled:"button"===a[t.i].typ&&"submit"===a[t.i].btnTyp&&y,handleReset:"button"===a[t.i].typ&&"reset"===a[t.i].btnTyp&&O,handleFormValidationErrorMessages:A})},t.i)}(t)}))}),!e.editMode&&e.buttons&&(0,b.jsx)(c.Z,{atts:e.buttons,entryID:e.entryID,buttonDisabled:y,handleReset:O,contentID:e.contentID,fieldData:M})]})]}),n&&("string"===typeof l?(0,b.jsx)(x,{msg:l,show:n,setSnack:i,error:w}):l.map((function(t,a){return(0,b.jsx)(x,{msg:t,show:n,setSnack:i,error:w,index:a,canClose:l.length-1===a,editMode:e.editMode})})))]})}function x(e){var t=(0,a.useState)(!0),n=t[0],i=t[1],r={userSelect:"none",minWidth:!e.editMode&&150,background:"#383838",padding:"10px 15px",color:"white",borderRadius:"8px",position:"fixed",bottom:20,right:20,left:e.editMode&&20,marginBottom:!e.editMode&&10,paddingRight:40,boxShadow:"1px 5px 11px -3px #0000004d",transition:"right 0.5s",zIndex:9999};e.editMode,e.editMode,e.error,e.editMode;return e.index&&e.index>0&&(r.bottom+=2*e.index*45),(0,a.useEffect)((function(){!n&&e.canClose&&e.show?e.setSnack(!1):n||e.index||!e.show||e.setSnack(!1)}),[n]),(0,a.useEffect)((function(){var t=e.error?1e4:5e3,n=setTimeout((function(){e.show}),t);return function(){return clearTimeout(n)}}),[]),n&&(0,b.jsxs)("div",{className:"toast btcd-flx",id:"success-"+e.formId,children:[/<\/?[a-z][\s\S]*>/i.test(e.msg)?(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:e.msg}}):e.msg,(0,b.jsx)("button",{id:"toast-close-btn",className:"btcd-flx",onClick:function(){return i(!1)},type:"button",children:"×"})]})}var j=n(39492),M=n(35637),I=n(75257),N=n(38762);function D(e){var t=e.formID,n=e.entryID,i=e.allResp,r=e.setAllResp,d=e.setSnackbar,c=(0,l.sJ)(o.hi),u=(0,a.useState)(!1),f=u[0],m=u[1],p=(0,a.useState)(!1),y=p[0],h=p[1],g=(0,a.useState)({layout:null,fields:null}),x=g[0],D=g[1],w=(0,a.useState)(null),T=w[0],L=w[1],_=(0,a.useState)(""),S=_[0],C=_[1],k=(0,a.useState)(""),A=k[0],z=k[1],E=(0,a.useRef)(null),O=(0,a.useState)(null),F=O[0],Z=O[1];(0,a.useEffect)((function(){m(!0),fetch(c.styleURL+"/bitform-"+t+".css").then((function(e){return e.text()})).then((function(e){return C(e)})),fetch(c.styleURL+"/bitform-layout-"+t+".css").then((function(e){return e.text()})).then((function(e){return z(e)})),(0,j.Z)({formID:t,entryID:n},"bitforms_edit_form_entry").then((function(e){if(void 0!==e&&e.success){var t={layout:e.data.layout,fields:e.data.fields,fieldToCheck:e.data.fieldToCheck,conditional:e.data.conditional,fieldsKey:e.data.fieldsKey},n=Object.entries(t.fields).find((function(e){return"submit"===e[1].btnTyp})),i=(null==n?void 0:n[0])||null;i&&(t.layout.lg=t.layout.lg.filter((function(e){return e.i!==i})),delete t.fields[i]),D(t),Z(e.data.fields)}}))}),[n,t]);var R=function(n){n.preventDefault(),h(!0);var a=new FormData(E.current),l={formID:t,entryID:e.entryID},s=[];Object.entries(F).forEach((function(e){var t,n;null!=(t=e[1])&&null!=(n=t.valid)&&n.hide&&s.push(e[0])})),s.length&&a.append("hidden_fields",s),(0,j.Z)(a,"bitforms_update_form_entry",void 0,l).then((function(n){if(void 0!==n&&n.success){if(n.data.cron||n.data.cronNotOk){var a=n.data.cron||n.data.cronNotOk;if("string"===typeof a){var l=new URL(a);l.protocol!==window.location.protocol&&(l.protocol=window.location.protocol),fetch(l)}else{var s=new URL(c.ajaxURL);s.searchParams.append("action","bitforms_trigger_workflow");var o={cronNotOk:a,id:"bitforms_"+t};fetch(s,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}}d({show:!0,msg:n.data.message});for(var u=[].concat(i),f=0;f<u.length;f+=1)if(u[f].entry_id===e.entryID){u[f]=n.data.updatedData;break}r(u),e.close(!1)}else n.data&&L(n.data)})).finally((function(){return h(!1)}))};function Y(){return(0,b.jsxs)("button",{onClick:R,disabled:y,type:"button",className:"btn btn-md blue btcd-mdl-hdr-btn",children:["Update",y&&(0,b.jsx)(I.Z,{size:20,clr:"#fff",className:"ml-2"})]})}var K=document.querySelector(".btcd-modal-wrp"),P=null!=K&&K.offsetHeight?K.offsetHeight-150:0;return(0,b.jsxs)(N.Z,{hdrActn:(0,b.jsx)(Y,{}),lg:!0,show:f,setModal:e.close,title:(0,M.__)("Edit","bitform"),children:[S&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("style",{children:S}),(0,b.jsx)("style",{children:A}),(0,b.jsx)("style",{children:"\n              .drag:not(.no-drg), .drag:active {\n                cursor: default;\n              }\n            "})]}),(0,b.jsx)(s.ZP,{autoHide:!0,autoHeight:!0,autoHeightMin:P,autoHeightMax:P,children:null!==x.layout&&(0,b.jsx)(v,{refer:E,editMode:!0,setFields:Z,layout:x.layout,data:x.fields,formID:t,entryID:e.entryID,fieldToCheck:x.fieldToCheck,conditional:x.conditional,fieldsKey:x.fieldsKey,error:T})})]})}var w=n(340),T=n(80160),L=n(22363),_=n(68381),S=n(34401),C=n(93429);function k(e){var t=e.formID,n=e.entryID,i=(e.allLabels,e.showForm,e.setShowForm),r=e.setFetchData,l=e.data,s=e.setData,o=Boolean(l.noteID),d=(0,a.useState)(!1),c=d[0],u=d[1],f=(0,a.useState)(l.title),m=f[0],p=f[1],y=(0,a.useState)(l.content),h=y[0],g=y[1],v=function(){i(!1),s({title:"",content:""})};return(0,b.jsxs)("div",{className:"mt-2 w-7",children:[(0,b.jsxs)("b",{children:[o?(0,M.__)("Edit Note ","bitform"):(0,M.__)("Create New Note ","bitform"),(0,b.jsx)("button",{type:"button",className:"btn",onClick:function(){return o?v():i(!1)},style:{fontSize:16},children:"x"})]}),(0,b.jsx)("br",{}),(0,b.jsxs)("form",{method:"POST",onSubmit:function(e){if(e.preventDefault(),h)if(u(!0),o){var i={noteID:l.noteID,formID:t,entryID:n,title:m,content:h};(0,j.Z)({},"bitforms_form_entry_update_note","multipart/form-data",i).then((function(e){void 0!==e&&e.success&&(T.ZP.success((0,M.__)("Note Updated Successfully","bitform")),v(),r(!0)),u(!1)}))}else{var a={formID:t,entryID:n,title:m,content:h};(0,j.Z)({},"bitforms_form_entry_create_note","multipart/form-data",a).then((function(e){void 0!==e&&e.success&&(T.ZP.success((0,M.__)("Note Added Successfully","bitform")),v(),r(!0)),u(!1)}))}},onKeyDown:function(e){"Enter"===e.key&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},children:[(0,b.jsx)("input",{type:"text",name:"title",className:"btcd-paper-inp mt-2",placeholder:"Note Title",value:m,onChange:function(e){return t=e.target.value,void p(t);var t}}),(0,b.jsx)(C.Z,{id:"body-content",value:h,onChangeHandler:function(e){g(e)}}),o&&(0,b.jsx)("button",{type:"button",className:"btn btn-md mr-2",onClick:v,children:(0,M.__)("Cancel","bitform")}),(0,b.jsxs)("button",{type:"submit",className:"btn btn-md blue",disabled:c,children:[o?(0,M.__)("Edit","bitform"):(0,M.__)("Add","bitform")," ",(0,M.__)("Note","bitform"),c&&(0,b.jsx)(I.Z,{size:20,clr:"#fff",className:"ml-2"})]})]})]})}function A(e){var t=e.formID,n=e.entryID,r=e.allLabels,s=e.rowDtl,d=(0,l.sJ)(o.hi),c=d.isPro,u=d.dateFormat+" "+d.timeFormat,m=(0,a.useState)(!1),p=m[0],y=m[1],h=(0,a.useState)({show:!1}),g=h[0],v=h[1],x=(0,a.useState)(!1),N=x[0],D=x[1],w=(0,a.useState)([]),C=w[0],A=w[1],z=(0,a.useState)(!1),E=z[0],O=z[1],F=(0,a.useState)(!1),Z=F[0],R=F[1],Y=(0,a.useState)({title:"",content:""}),K=Y[0],P=Y[1];(0,a.useEffect)((function(){c&&y("allNotes"),O(!0)}),[]),(0,a.useEffect)((function(){Z?R(!1):c&&(0,j.Z)({formID:t,entryID:n},"bitforms_form_entry_get_notes").then((function(e){void 0!==e&&e.success&&A(e.data),y(!1)}))}),[Z]),(0,a.useEffect)((function(){K.content&&D(!0)}),[K]);var U=function(){g.show=!1,v((0,i.Z)({},g))},B=function(e){for(var t=(null==e||null==e.match?void 0:e.match(/\${\w[^ ${}]*}/g))||"",n=(null==t||null==t.filter?void 0:t.filter((function(e,n){return t.indexOf(e)===n})))||[],i=e,a=0;a<n.length;a+=1){var r=n[a].slice(2,-1);i=i.replaceAll(n[a],r in s?s[r]:"[Field Deleted]")}return i},Q=function(e){var t=JSON.parse(e.info_details),n="delete"===p&&g.noteID===e.id;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{children:[e.updated_at?(0,b.jsxs)("small",{children:[(0,M.__)("updated on:","bitform")," "+(0,f.CI)(e.updated_at,u)]}):(0,b.jsxs)("small",{children:[(0,M.__)("created at:","bitform")," "+(0,f.CI)(e.created_at,u)]}),(0,b.jsx)("button",{type:"button",className:"icn-btn ml-1 tooltip pos-rel",style:{"--tooltip-txt":"'"+(0,M.__)("Edit","bitform")+"'",fontSize:16},onClick:function(){return function(e){D(!1);var t=C.find((function(t){return t.id===e})),n=JSON.parse(t.info_details),i=n.title,a=n.content;P({noteID:e,title:i,content:a}),D(!0)}(e.id)},children:(0,b.jsx)("span",{className:"btcd-icn icn-document-edit"})}),(0,b.jsxs)("button",{type:"button",onClick:function(){return t=e.id,g.noteID=t,g.show=!0,void v((0,i.Z)({},g));var t},className:(n?"btn":"icn-btn")+" ml-1 tooltip pos-rel",style:{"--tooltip-txt":"'"+(0,M.__)("Delete","bitform")+"'",fontSize:16},disabled:n,children:[(0,b.jsx)("span",{className:"btcd-icn icn-trash-fill"}),n&&(0,b.jsx)(I.Z,{size:20,clr:"#000",className:"ml-2"})]})]}),(0,b.jsxs)("div",{children:[t.title&&(0,b.jsx)("h3",{children:t.title}),(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:B(t.content)}})]}),(0,b.jsx)("hr",{className:"btcd-hr"})]},e.id)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"pos-rel",children:[!c&&(0,b.jsx)("div",{className:"pro-blur mt-4 flx",children:(0,b.jsxs)("div",{className:"pro",children:[(0,M.__)("Available On","bitform"),(0,b.jsx)("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:(0,b.jsxs)("span",{className:"txt-pro",children:[" ",(0,M.__)("Premium","bitform")]})})]})}),N?(0,b.jsx)(k,{formID:t,entryID:n,allLabels:r,showForm:N,setShowForm:D,setFetchData:R,data:K,setData:P}):(0,b.jsx)("button",{type:"button",className:"btn",onClick:function(){return D(!0)},children:(0,M.__)("create new note","bitform")}),"allNotes"===p?(0,b.jsx)(_.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}):C.length?C.map((function(e){return Q(e)})):E&&(0,b.jsx)("img",{src:L,alt:"no data found",style:{height:150,width:"100%"}})]}),(0,b.jsxs)(S.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"red",btnTxt:"Ok",show:g.show,close:U,action:function(){y("delete"),U(),(0,j.Z)({noteID:g.noteID,formID:t,entryID:n},"bitforms_form_entry_delete_note").then((function(e){void 0!==e&&e.success&&(T.ZP.success((0,M.__)("Note Deleted Successfully","bitform")),R(!0)),y(!1)}))},title:(0,M.__)("Confirmation","bitform"),children:[(0,b.jsx)("div",{className:"txt-center mt-5 mb-4",children:(0,M.__)("Are you sure to delete this note","bitform")}),p&&(0,b.jsx)(_.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}})]})]})}function z(e){var t,n,i,a,r,s=e.paymentInfo,d=e.payInfoFound,c=(0,l.sJ)(o.hi),u=c.dateFormat+" "+c.timeFormat,m=null!=(r=s)&&r.payment_response?JSON.parse(r.payment_response):null!=r&&r.create_time?r:{},p="subscriber"in m,y=p?m.subscriber:m.payer,h=p?null==m||null==(t=m.billing_info)||null==(n=t.last_payment)?void 0:n.amount:null==m||null==(i=m.purchase_units)||null==(a=i[0])?void 0:a.amount;return(0,b.jsx)("div",{children:1===d.current?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h1",{children:(0,M.__)("PayPal","bitform")}),(0,b.jsxs)("div",{children:[(0,b.jsx)("small",{children:(0,f.CI)(m.create_time,u)}),(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),(0,b.jsx)("small",{children:(0,M.__)("Type","bitform")+": "+(p?(0,M.__)("Subscription","biform"):(0,M.__)("Order","bitform"))}),(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),(0,b.jsx)("small",{children:(0,b.jsx)("b",{children:(0,M.__)("Transaction ID","bitform")+": "+m.id})}),(0,b.jsx)("h3",{children:y.name.given_name+" "+y.name.surname}),(0,b.jsx)("small",{children:y.email_address}),p&&(0,b.jsx)("h4",{children:(0,M.__)("Plan ID","bitform")+": "+m.plan_id}),p&&(0,b.jsxs)("small",{children:[(0,M.__)("Next Billing Time","bitform"),":"," ",(0,f.CI)(m.billing_info.next_billing_time,u)]}),(0,b.jsxs)("p",{children:[(0,M.__)("Total Paid","bitform"),":"," ",h.value," ",h.currency_code]})]},m.id)]}):(0,b.jsx)("img",{src:L,alt:(0,M.__)("no data found","bitform"),style:{height:150,width:"100%"}})})}var E=n(83938);function O(e){var t,n=e.paymentInfo,i=e.payInfoFound,s=e.fldKey,d=e.transactionID,c=(0,l.sJ)(o.hi),u=(0,r.UO)().formID,m=(0,a.useContext)(E.d).payments,p=(0,l.sJ)(o.AK)[s].options.payIntegID,y=m.find((function(e){return e.id===p})),h=c.dateFormat+" "+c.timeFormat,g=(0,a.useState)(n),v=g[0],x=g[1],I=(0,a.useState)(!1),N=I[0],D=I[1],w=null!=(t=v)&&t.payment_response?JSON.parse(t.payment_response):null!=t&&t.created_at?t:{},T=1e3*w.created_at;return(0,a.useEffect)((function(){2===i.current&&(D(!0),(0,j.Z)({formID:u,transactionID:d,razorpaySettings:y},"bitforms_razorpay_transaction_info").then((function(e){e.success&&(x(e.data),i.current=1)})).finally((function(){D(!1)})))}),[]),(0,b.jsxs)("div",{children:[N&&(0,b.jsx)(_.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}),1===i.current?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h1",{children:(0,M.__)("Razorpay","bitform")}),(0,b.jsxs)("div",{children:[(0,b.jsx)("small",{children:(0,f.CI)(T,h)}),(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),(0,b.jsx)("small",{children:(0,M.__)("Status","bitform")+": "+w.status}),(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),(0,b.jsx)("small",{children:(0,b.jsx)("b",{children:(0,M.__)("Transaction ID","bitform")+": "+w.id})}),(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),(0,b.jsx)("small",{children:(0,M.__)("Email","bitform")+": "+w.email}),(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),(0,b.jsx)("small",{children:(0,M.__)("Contact","bitform")+": "+w.contact}),(0,b.jsx)("br",{}),(0,b.jsxs)("p",{children:[(0,M.__)("Total Paid","bitform"),":"," ",w.amount/100," ",w.currency]})]})]}):!N&&(0,b.jsx)("img",{src:L,alt:(0,M.__)("no data found","bitform"),style:{height:150,width:"100%"}})]})}function F(e){var t=e.formID,n=e.rowDtl,i=(0,l.sJ)(o.z8),r=(0,l.sJ)(o.hi).isPro,s=(0,a.useState)({}),d=s[0],c=s[1],u=(0,a.useState)(!1),f=u[0],m=u[1],p=/paypal|razorpay/,y=i.filter((function(e){return e.type.match(p)})).find((function(e){return n[e.key]}))||{},h=(0,a.useRef)(0);(0,a.useEffect)((function(){if(r){m(!0);var e=null==n?void 0:n[null==y?void 0:y.key];(0,j.Z)({formID:t,transactionID:e},"bitforms_payment_details").then((function(e){e.success&&1===e.data.length?(c(e.data[0]),h.current=1):h.current=2})).finally((function(){m(!1)}))}return function(){return c({})}}),[]);return(0,b.jsxs)("div",{className:"pos-rel",children:[!r&&(0,b.jsx)("div",{className:"pro-blur mt-4 flx",children:(0,b.jsxs)("div",{className:"pro",children:[(0,M.__)("Available On","bitform"),(0,b.jsx)("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:(0,b.jsxs)("span",{className:"txt-pro",children:[" ",(0,M.__)("Premium","bitform")]})})]})}),f?(0,b.jsx)(_.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}):function(){switch(null==y?void 0:y.type){case"paypal":return(0,b.jsx)(z,{paymentInfo:d,payInfoFound:h});case"razorpay":return(0,b.jsx)(O,{paymentInfo:d,payInfoFound:h,fldKey:null==y?void 0:y.key,transactionID:null==n?void 0:n[null==y?void 0:y.key]});default:return(0,b.jsx)("h1",{children:(0,M.__)("No Payment Info Found!","bitform")})}}()]})}var Z=n(69151);function R(e){var t=e.formID,n=e.entryID,i=e.integrations,r=(0,l.sJ)(o.hi),s=(0,l.sJ)(o.z8),d=r.dateFormat+" "+r.timeFormat,c=(0,a.useState)([]),u=c[0],m=c[1],p=(0,a.useState)([]),y=p[0],h=p[1],g=(0,a.useState)([]),v=g[0],x=g[1],I=(0,a.useState)(!1),N=I[0],D=I[1];(0,a.useEffect)((function(){return D(!0),(0,j.Z)({formID:t,entryID:n},"bitforms_form_log_history").then((function(e){void 0!==e&&e.success&&(m(e.data),h(e.integrations)),D(!1)})),function(){return m([])}}),[]);var w=function(e){var t,n=/\${\w[^ ${}]*}/g,i=(null==(t=e.match(n))?void 0:t[0])||"",a=i?s.find((function(e){return"${"+e.key+"}"===i})):"",r=a?a.adminLbl:"",l=r?e.replace(n,r):"";return l?l.replace(/[\]["]/g,""):"Field Deleted"},T=function(e){v.push(e),x([].concat(v))},L=function(e){var t=[].concat(v);t.splice(t.indexOf(e),1),x([].concat(t))},S=function(e){var t,n=v.find((function(t){return t===e.id})),a={};y.map((function(t){var n,r=null==(n=i.find((function(e){return e.id===t.integration_id})))?void 0:n.name;if(r)a[r]||(a[r]=[]),e.id===t.log_id&&a[r].push(t);else if(Number(t.integration_id)&&e.id===t.log_id){var l=JSON.parse(t.api_type);"ReCaptcha v3"===(r=l.type_name+" "+l.type)&&(a[r]=[t])}}));return(0,b.jsxs)("div",{children:[null===e.content&&"update"===e.action_type?(0,b.jsx)("p",{children:(0,M.__)("No field data change","bitform")}):null===e.content&&"create"===e.action_type?(0,b.jsx)("p",{children:(0,M.__)("Form Submitted","bitform")}):e.content.split("b::f").map((function(e){return(0,b.jsxs)("p",{children:[" ",(0,b.jsx)("span",{className:"btcd-icn icn-document-edit",style:{fontSize:16}}),w(e)]},e)})),!(null==(t=Object.keys(a))||!t.length)&&(0,b.jsxs)(b.Fragment,{children:[!n&&e.integration&&(0,b.jsx)("small",{role:"button",tabIndex:"0",className:"btcd-link cp",onClick:function(){return T(e.id)},onKeyDown:function(){return T(e.id)},children:(0,M.__)("Show Integration Logs","bitform")}),n&&e.integration&&(0,b.jsx)("small",{role:"button",tabIndex:"0",className:"btcd-link cp",onClick:function(){return L(e.id)},onKeyDown:function(){return L(e.id)},children:(0,M.__)("Hide Integration Logs","bitform")}),n&&e.integration&&C(a)]})]})},C=function(e){return Object.keys(e).map((function(t){return(0,b.jsxs)("div",{children:[(0,b.jsx)("h5",{children:t+" - "}),(0,b.jsx)("div",{className:"m-0 ml-6",children:e[t].map((function(e){var t=JSON.parse(e.api_type);return(0,b.jsxs)("div",{className:"flx",children:[(0,b.jsx)("p",{className:"mr-2",children:t.type_name+" "+t.type+" "+e.response_type}),(0,b.jsx)(Z.Z,{value:e.response_obj,className:"field-key-cpy w-0 ml-0",readOnly:!0})]})}))})]})}))},k=function(e){var t,n,i=v.find((function(t){return t===e.id})),a=JSON.parse(e.content);return null!==e.content?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{children:[(0,M.__)("Note","bitform")," ","create"===e.action_type&&(0,M.__)("Added","bitform"),"update"===e.action_type&&(0,M.__)("Updated","bitform"),"delete"===e.action_type&&(0,M.__)("Deleted","bitform"),":"]}),a.title&&(0,b.jsx)("h4",{children:a.title}),(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:i?a.content||"":(t=a.content||"",n=20,(null==t?void 0:t.length)>n?t.substr(0,n-1)+"&hellip;":t)}}),!i&&(a.content||"").length>20&&(0,b.jsx)("small",{role:"button",tabIndex:"0",className:"btcd-link cp",onClick:function(){return T(e.id)},onKeyDown:function(){return T(e.id)},children:(0,M.__)("Read More","bitform")}),i&&(0,b.jsx)("small",{role:"button",tabIndex:"0",className:"btcd-link cp",onClick:function(){return L(e.id)},onKeyDown:function(){return L(e.id)},children:(0,M.__)("Show Less","bitform")})]}):null===e.content&&"update"===e.action_type?(0,b.jsx)("p",{children:(0,M.__)("Note no change","bitform")}):void 0};return(0,b.jsx)(b.Fragment,{children:N?(0,b.jsx)(_.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}):u.map((function(e){return(0,b.jsxs)("div",{children:[(0,b.jsx)("br",{}),(0,b.jsx)("span",{children:(0,f.CI)(e.created_at,d)}),(0,b.jsx)("div",{children:"entry"===e.log_type?S(e):k(e)})]},e.id)}))})}const Y=(0,a.memo)(R);function K(e){var t,n,i,r,l,s,o,d,c,u,f,m,p,y,h,g,v=e.rowDtl,x=(0,a.useState)([]),M=x[0],I=x[1],N=(0,a.useState)(!1),D=N[0],w=N[1];return(0,a.useEffect)((function(){w(!0),(0,j.Z)({gclid:null==v?void 0:v.GCLID},"bitforms_get_gclid_info").then((function(e){void 0!==e&&e.success&&e.data[0]&&I(JSON.parse(e.data[0].gclid_response)),w(!1)}))}),[]),(0,b.jsx)(b.Fragment,{children:D?(0,b.jsx)(_.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}):(0,b.jsx)("div",{children:(0,b.jsx)("table",{className:"btcd-row-detail-tbl",children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Account"}),(0,b.jsx)("td",{className:"td",children:null==(t=M["@attributes"])?void 0:t.account})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Campaign ID"}),(0,b.jsx)("td",{className:"td",children:null==(n=M["@attributes"])?void 0:n.campaignID})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"AdGroup Id"}),(0,b.jsx)("td",{className:"td",children:null==(i=M["@attributes"])?void 0:i.adGroupID})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Ad Id"}),(0,b.jsx)("td",{className:"td",children:null==(r=M["@attributes"])?void 0:r.adID})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Keyword Id"}),(0,b.jsx)("td",{className:"td",children:null==(l=M["@attributes"])?void 0:l.keywordID})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Keyword"}),(0,b.jsx)("td",{className:"td",children:null==(s=M["@attributes"])?void 0:s.CriteriaParameters})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Match type"}),(0,b.jsx)("td",{className:"td",children:null==(o=M["@attributes"])?void 0:o.KeywordMatchType})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Click type"}),(0,b.jsx)("td",{className:"td",children:null==(d=M["@attributes"])?void 0:d.clickType})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Device Type"}),(0,b.jsx)("td",{className:"td",children:null==(c=M["@attributes"])?void 0:c.device})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Search Partner Network"}),(0,b.jsx)("td",{className:"td",children:null==(u=M["@attributes"])?void 0:u.networkWithSearchPartners})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Ad Campaign Name"}),(0,b.jsx)("td",{className:"td",children:null==(f=M["@attributes"])?void 0:f.campaign})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Ad group Name"}),(0,b.jsx)("td",{className:"td",children:null==(m=M["@attributes"])?void 0:m.adGroup})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Ad Network"}),(0,b.jsx)("td",{className:"td",children:null==(p=M["@attributes"])?void 0:p.network})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Ad Click Date"}),(0,b.jsx)("td",{className:"td",children:null==(y=M["@attributes"])?void 0:y.day})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"Customer ID"}),(0,b.jsx)("td",{className:"td",children:null==(h=M["@attributes"])?void 0:h.customerID})]}),(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("td",{className:"td",children:"GCLID"}),(0,b.jsx)("td",{className:"td",children:null==(g=M["@attributes"])?void 0:g.googleClickID})]})]})})})})}function P(e){var t=e.formID,n=e.entryID,i=e.rowDtl,a=e.setSnackbar,r=e.integrations,s=e.close,d=(0,l.sJ)(o.z8),c=/paypal|razorpay/,u=d.filter((function(e){return e.type.match(c)}));return(0,b.jsx)(N.Z,{lg:!0,show:!0,setModal:s,title:(0,M.__)("Related Info","bitform"),children:(0,b.jsxs)(w.mQ,{selectedTabClassName:"s-t-l-active",children:[(0,b.jsxs)(w.td,{className:"flx m-0",children:[!(null==u||!u.length)&&(0,b.jsx)(w.OK,{className:"btcd-s-tab-link",children:(0,M.__)("Payment","bitform")}),(0,b.jsx)(w.OK,{className:"btcd-s-tab-link",children:(0,M.__)("Timeline","bitform")}),(0,b.jsx)(w.OK,{className:"btcd-s-tab-link",children:(0,M.__)("Notes","bitform")}),!(null==i||!i.GCLID)&&(0,b.jsx)(w.OK,{className:"btcd-s-tab-link",children:(0,M.__)("Google Ads Information","bitform")})]}),!(null==u||!u.length)&&(0,b.jsx)(w.x4,{children:(0,b.jsx)(F,{formID:t,rowDtl:i})}),(0,b.jsx)(w.x4,{children:(0,b.jsx)(Y,{formID:t,entryID:n,integrations:r})}),(0,b.jsx)(w.x4,{children:(0,b.jsx)(A,{formID:t,entryID:n,allLabels:d,setSnackbar:a,rowDtl:i})}),!(null==i||!i.GCLID)&&(0,b.jsx)(w.x4,{children:(0,b.jsx)(K,{rowDtl:i})})]})})}const U=(0,a.memo)(P);var B=n(7480);const Q=function(e){return(0,b.jsxs)("div",{className:"btcd-drawer",style:{right:e.show?0:-420},children:[(0,b.jsxs)("div",{className:"flx flx-between",children:[(0,b.jsx)("div",{className:"btcd-drawer-title",children:e.title}),(0,b.jsxs)("div",{className:"flx",children:[(0,b.jsx)("button",{onClick:e.relatedinfo,className:"icn-btn btcd-icn-lg tooltip",style:{"--tooltip-txt":'"Related Info"'},"aria-label":"icon-btn",type:"button",children:(0,b.jsx)("span",{className:"btcd-icn icn-information-outline",style:{fontSize:16}})}),(0,b.jsx)("button",{onClick:e.editData,className:"icn-btn btcd-icn-lg tooltip",style:{"--tooltip-txt":'"Edit"'},"aria-label":"icon-btn",type:"button",children:(0,b.jsx)("span",{className:"btcd-icn icn-document-edit",style:{fontSize:16}})}),(0,b.jsx)("button",{onClick:e.delConfMdl,className:"icn-btn btcd-icn-lg tooltip",style:{"--tooltip-txt":'"Delete"'},"aria-label":"icon-btn",type:"button",children:(0,b.jsx)("span",{className:"btcd-icn icn-trash-fill",style:{fontSize:16}})}),(0,b.jsx)("button",{onClick:function(){return e.close(!1)},className:"icn-btn btcd-icn-lg tooltip",style:{"--tooltip-txt":'"Close"'},"aria-label":"modal-close",type:"button",children:(0,b.jsx)(B.Z,{size:"14",stroke:"3"})})]})]}),(0,b.jsx)("small",{className:"btcd-mdl-subtitle",children:e.subTitle}),(0,b.jsx)("div",{className:"btcd-mdl-div"}),e.children]})};var J=n(35001),G=n(94735);const H=function(e){return(0,b.jsx)("div",{className:"btcd-t-action-wrp flx",children:(0,b.jsxs)("div",{className:"btcd-t-action",children:["dup"in e&&(0,b.jsx)("button",{onClick:e.dup,className:"icn-btn btcd-hid-icn tooltip",style:{"--tooltip-txt":'"Duplicate"'},"aria-label":"action btn",type:"button",children:(0,b.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-file_copy"})}),"del"in e&&(0,b.jsx)("button",{onClick:e.del,className:"icn-btn btcd-hid-icn tooltip",style:{"--tooltip-txt":'"Delete"'},"aria-label":"action btn",type:"button",children:(0,b.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-trash-fill"})}),"edit"in e&&(0,b.jsx)("button",{onClick:e.edit,className:"icn-btn btcd-hid-icn tooltip",style:{"--tooltip-txt":'"Edit"'},"aria-label":"action btn",type:"button",children:(0,b.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-document-edit"})}),(0,b.jsx)("button",{className:"icn-btn btcd-ph-btn","aria-label":"action btn",type:"button",children:(0,b.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-dots-three-horizontal"})})]})})};const V=function(e){return(0,b.jsxs)("div",{className:"btcd-t-link flx mr-2 prevent-drawer",children:[(0,b.jsx)("div",{className:"tooltip",style:{"--tooltip-txt":'"'+e.fname+'"',width:(e.width?e.width:"80")+"px"},children:(0,b.jsxs)("a",{href:""+e.link,rel:"noopener noreferrer",target:"_blank",className:"prevent-drawer",children:[(0,b.jsx)("span",{className:"btcd-icn icn-file"})," ",e.fname]})}),(0,b.jsx)("a",{target:"_blank",href:e.link+"&download",download:!0,rel:"noopener noreferrer","aria-label":"Download",className:"icn-btn icn-btn-sm flx prevent-drawer",children:(0,b.jsx)("span",{className:"btcd-icn icn-file_download"})})]})};var W=n(92971);function q(e){var t=e.allResp,n=e.setAllResp,s=e.integrations,d=(0,l.sJ)(o.z8),c=(0,a.useState)({show:!1,msg:""}),u=c[0],m=c[1],p=(0,a.useState)(!1),y=p[0],h=p[1],g=(0,r.UO)().formID,v=(0,a.useRef)(0),x=(0,a.useState)(0),I=x[0],N=x[1],w=(0,a.useState)(!1),T=w[0],_=w[1],C=(0,a.useState)(!1),k=C[0],A=C[1],z=(0,a.useState)(null),E=z[0],O=z[1],F=(0,a.useState)({show:!1,data:{}}),Z=F[0],R=F[1],Y=(0,a.useState)({show:!1}),K=Y[0],P=Y[1],B=(0,a.useState)([]),q=B[0],X=B[1],$=(0,l.Zl)(o.pH),ee=(0,a.useState)(0),te=ee[0],ne=ee[1],ie=(0,a.useState)(0),ae=ie[0],re=ie[1],le=(0,l.sJ)(o.hi),se=(0,l.sJ)((0,o.F8)(0));(0,a.useEffect)((function(){if(se){var e,t,n={};d.map((function(e){n[e.key]=e}));var i=[];null==(e=se.details)||null==(t=e.order)||t.forEach((function(e){e&&"sl"!==e&&"selection"!==e&&"table_ac"!==e&&void 0!==n[e]&&i.push(n[e])})),pe(i.length?i:d)}else d.length&&pe(d)}),[d]);var oe=(0,a.useCallback)((function(){K.show=!1,P((0,i.Z)({},K))}),[K]),de=(0,a.useCallback)((function(e,t,i){var a=[],r=[];if("object"===typeof e[0])for(var l=0;l<e.length;l+=1)a[e[l].original.entry_id]=e[l].id,r.push(e[l].original.entry_id);else a[e.original.entry_id]=e.id,r.push(e.original.entry_id);var s=(0,f.p$)(t),o={formID:g,entries:r};(0,j.Z)(o,"bitforms_duplicate_form_entries").then((function(e){if(e.success&&"undefined"!==e.data.message){var t,r,l;if(i&&i.fetchData&&i.data)i.fetchData(i.data);else null==(t=Object.entries((null==e||null==(r=e.data)?void 0:r.details)||{}))||t.forEach((function(e){var t=e[0],n=e[1];(l=JSON.parse(JSON.stringify(s[a[t]]))).entry_id=n,s[a[t]].entry_id=t,s.unshift(l),s.pop()})),n(s);m({show:!0,msg:e.data.message})}}))}),[]),ce=(0,a.useCallback)((function(e,t,n){K.btnTxt=(0,M.__)("Duplicate","bitform"),K.btnClass="blue",K.body=(0,M.__)("Are you sure to duplicate this entry?","bitform"),K.action=function(){de(e,t,n),oe()},K.show=!0,P((0,i.Z)({},K))}),[de,oe,K]),ue=(0,a.useCallback)((function(){Z.show=!1,R((0,i.Z)({},Z))}),[Z]),fe=(0,a.useCallback)((function(e,t){var n=[],i=[];if("object"===typeof e[0])for(var a=0;a<e.length;a+=1)n.push(e[a].id),i.push(e[a].original.entry_id);else n.push(e.id),i.push(e.original.entry_id);var r={formID:g,entries:i};(0,j.Z)(r,"bitforms_bulk_delete_form_entries").then((function(e){e.success&&(t&&t.fetchData&&t.data&&t.fetchData(t.data),m({show:!0,msg:e.data.message}))}))}),[]),me=(0,a.useCallback)((function(e,t){void 0!==e.idx&&(e.id=e.idx,e.original=e.data[0].row.original),K.btnTxt="Delete",K.body="Are you sure to delete this entry",K.btnClass="",K.action=function(){fe(e,t),oe(),ue()},K.show=!0,P((0,i.Z)({},K))}),[oe,ue,K,fe]),pe=function(e){var t;void 0===e&&(e=[]);var n=null==(t=e)?void 0:t.map((function(e){return(0,i.Z)({Header:e.adminLbl||e.name||e.key,accessor:e.key,fieldType:e.type,minWidth:50},"type"in e&&e.type.match(/^(file-up|check|select|sys)$/)&&{Cell:function(t){if(null!==t.cell.value&&void 0!==t.cell.value&&""!==t.cell.value){if("file-up"===e.type)return ge(t.cell.value).map((function(e,n){return(0,b.jsx)(V,{fname:e,link:le.baseDLURL+"formID="+g+"&entryID="+t.cell.row.original.entry_id+"&fileID="+e},"file-n-"+(t.cell.row.index+n))}));if("check"===e.type||"select"===e.type){var n="string"===typeof t.cell.value&&t.cell.value.length>0&&"["===t.cell.value[0]?JSON.parse(t.cell.value):void 0!==t.cell.value&&t.cell.value.split(",");return n.map((function(e,t){return t<n.length-1?e+",":e}))}var i;return"__user_id"===e.key?null!=le&&null!=(i=le.user[t.cell.value])&&i.url?(0,b.jsx)("a",{href:le.user[t.cell.value].url,children:le.user[t.cell.value].name}):null:"__user_ip"===e.key&&isFinite(Number(t.cell.value))&&t.cell.value.length<=11?[t.cell.value>>>24&255,t.cell.value>>>16&255,t.cell.value>>>8&255,255&t.cell.value].join("."):"__user_ip"===e.key&&t.cell.value>10?(0,f.Nb)(t.cell.value):t.cell.value}return null}})}));n.unshift({Header:"#",accessor:"sl",Cell:function(e){return(0,b.jsx)(b.Fragment,{children:Number(e.state.pageIndex*e.state.pageSize)+Number(e.row.id)+1})},width:40}),n.push({id:"t_action",width:70,maxWidth:70,minWidth:70,sticky:"right",Header:(0,b.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-settings ml-2",title:(0,M.__)("Settings","bitform")}),accessor:"table_ac",Cell:function(e){return(0,b.jsx)(H,{edit:function(){return ye(e.row)},del:function(){return me(e.row,{fetchData:e.fetchData,data:{pageIndex:e.state.pageIndex,pageSize:e.state.pageSize,sortBy:e.state.sortBy,filters:e.state.filters,globalFilter:e.state.globalFilter}})},dup:function(){return ce(e.row,e.data,{fetchData:e.fetchData,data:{pageIndex:e.state.pageIndex,pageSize:e.state.pageSize,sortBy:e.state.sortBy,filters:e.state.filters,globalFilter:e.state.globalFilter}})}})}}),X(n)},ye=(0,a.useCallback)((function(e){void 0!==e.idx&&(e.id=e.idx,e.original=e.data[0].row.original),O(e.original.entry_id),_(!0)}),[]),he=(0,a.useCallback)((function(e){var i=e.pageSize,a=e.pageIndex,r=e.sortBy,l=e.filters,s=e.globalFilter;if(ae)return re(0),void h(!0);var o=++v.current;if(t.length<1&&h(!0),o===v.current){var d=i*a;(0,j.Z)({id:g,offset:d,pageSize:i,sortBy:r,filters:l,globalFilter:s},"bitforms_get_form_entries").then((function(e){null!=e&&e.success&&(N(Math.ceil(e.data.count/i)),ne(e.data.count),n(e.data.entries)),$((function(t){return(0,W.U)(t,{type:"update",data:{formID:g,entries:e.data.count}})})),h(!1)}))}}),[me,ce,ye,g,ae]),be=(0,a.useCallback)((function(e,t,n,a){if(!e.target.classList.contains("prevent-drawer")){var r=(0,i.Z)({},Z);r.show&&Z.idx===n?r.show=!1:(r.data=t,r.idx=n,r.fetchData=a,r.show=!0),R((0,i.Z)({},r))}}),[Z]),ge=function(e){try{var t=e?JSON.parse(e):[];return Array.isArray(t)?t:"[object Object]"===Object.prototype.toString.call(t)?Object.values(t):t}catch(n){return[]}},ve=function(e){var n,i,a,r,l,s,o,d,c,u,f,m,p;return"file-up"===e.fieldType?null==(a=ge(null==(r=t[Z.idx])?void 0:r[e.accessor]))?void 0:a.map((function(e,n){return(0,b.jsx)(V,{fname:e,width:"100",link:le.baseDLURL+"formID="+g+"&entryID="+t[Z.idx].entry_id+"&fileID="+e},"file-n-"+(n+1.1))})):"color"===e.fieldType?(0,b.jsxs)("div",{className:"flx",children:[t[Z.idx][e.accessor],(0,b.jsx)("span",{style:{background:t[Z.idx][e.accessor],height:20,width:20,borderRadius:5,display:"inline-block",marginLeft:10}})]}):"check"===e.fieldType?(null==(l=t[Z.idx])?void 0:l[e.accessor])&&t[Z.idx][e.accessor].replace(/\[|\]|"/g,""):"__user_id"===e.accessor?null!=le&&null!=(s=le.user[null==(o=t[Z.idx])?void 0:o[e.accessor]])&&s.url?(0,b.jsx)("a",{href:le.user[null==(d=t[Z.idx])?void 0:d[e.accessor]].url,children:le.user[null==(c=t[Z.idx])?void 0:c[e.accessor]].name}):null:"__user_ip"===e.accessor&&isFinite(null==(n=t[Z.idx])?void 0:n[e.accessor])?[(null==(u=t[Z.idx])?void 0:u[e.accessor])>>>24&255,(null==(f=t[Z.idx])?void 0:f[e.accessor])>>>16&255,(null==(m=t[Z.idx])?void 0:m[e.accessor])>>>8&255,255&(null==(p=t[Z.idx])?void 0:p[e.accessor])].join("."):null==t||null==(i=t[Z.idx])?void 0:i[e.accessor]};return(0,b.jsxs)("div",{id:"form-res",children:[(0,b.jsxs)("div",{className:"af-header flx",children:[(0,b.jsx)("h2",{children:(0,M.__)("Form Responses","bitform")}),(0,b.jsx)("button",{className:"icn-btn ml-2 mr-2 tooltip",onClick:function(){return re(1)},style:{"--tooltip-txt":"'"+(0,M.__)("Refresh","bitform")+"'"},type:"button",disabled:y,children:"↻"})]}),(0,b.jsx)(J.Z,{snack:u,setSnackbar:m}),(0,b.jsx)(S.Z,{show:K.show,close:oe,btnTxt:K.btnTxt,btnClass:K.btnClass,body:K.body,action:K.action}),T&&(0,b.jsx)(D,{close:_,formID:g,entryID:E,allResp:t,setAllResp:n,setSnackbar:m}),k&&(0,b.jsx)(U,{close:A,formID:g,entryID:E,setSnackbar:m,rowDtl:t[Z.idx],integrations:s}),(0,b.jsx)(Q,{title:(0,M.__)("Response Details","bitform"),show:Z.show,close:ue,relatedinfo:function(){return void 0!==(e=Z).idx&&(e.id=e.idx,e.original=e.data[0].row.original),O(e.original.entry_id),void A(!0);var e},delConfMdl:function(){return me(Z,Z.fetchData)},editData:function(){return ye(Z)},children:(0,b.jsx)("table",{className:"btcd-row-detail-tbl",children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{className:"txt-dp",children:[(0,b.jsx)("th",{children:(0,M.__)("Title","")}),(0,b.jsx)("th",{children:(0,M.__)("Value","")})]}),Z.show&&q.slice(1).slice(0,-1).map((function(e,t){return(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:e.Header}),(0,b.jsx)("td",{children:ve(e)})]},"rw-d-"+(t+2))}))]})})}),(0,b.jsxs)("div",{className:"forms",children:[(0,b.jsx)(G.Z,{className:"f-table btcd-entries-f",height:"60vh",columns:q,data:t,loading:y,countEntries:te,rowSeletable:!0,resizable:!0,columnHidable:!0,hasAction:!0,rowClickable:!0,exportImportMenu:!0,formID:g,setTableCols:X,fetchData:he,setBulkDelete:fe,duplicateData:de,pageCount:I,edit:ye,onRowClick:be,report:0}),!y&&0===t.length&&(0,b.jsxs)("div",{className:"btcd-no-data txt-center",children:[(0,b.jsx)("img",{src:L,alt:"no data found"}),(0,b.jsx)("div",{className:"mt-2",children:(0,M.__)("No Response Found.","bitform")})]})]})]})}const X=(0,a.memo)(q)},70092:(e,t,n)=>{n.r(t),n.d(t,{delItem:()=>s,handleFile:()=>d,setPrevData:()=>o});var i=n(36717),a={files:[]},r=null;function l(e){for(var t=0;e>900;)e/=1024,t+=1;return Math.round(100*e)/100+" "+["Bytes","KB","MB","GB"][t]}function s(e){a={files:[]};for(var t=e.parentNode.parentNode.parentNode.querySelector('input[type="file"]'),n=0;n<t.files.length;n+=1)a.files.push(t.files[n]);a.files.splice(e.getAttribute("data-index"),1),t.files=i.Z.apply(void 0,a.files),t.files.length>0?e.parentNode.parentNode.parentNode.querySelector(".btcd-f-title").innerHTML=t.files.length+" File Selected":e.parentNode.parentNode.parentNode.querySelector(".btcd-f-title").innerHTML="No File Chosen",e.parentNode.remove()}function o(e){if(e.target.hasAttribute("multiple")&&null!==e.target.name&&(a={files:[]},e.target.files.length>0))for(var t=0;t<e.target.files.length;t+=1)a.files.push(e.target.files[t])}function d(e){var t=[],n=e.target.files.length;if(r=null!=(r=e.target.parentNode.querySelector(".f-max"))&&Number(r.innerHTML.replace(/\D/g,""))*Math.pow(1024,2),e.target.hasAttribute("multiple"))for(var s=0;s<n;s+=1)a.files.push(e.target.files[s]);else a.files.push(e.target.files[0]);if(e.target.hasAttribute("accept")){for(var o=[],d=new RegExp(e.target.getAttribute("accept").split(",").join("$|")+"$","gi"),c=0;c<a.files.length;c+=1)a.files[c].name.match(d)?o.push(a.files[c]):t.push("Wrong File Type Selected");a.files=o}if(r>0){for(var u=[],f=0;f<a.files.length;f+=1)a.files[f].size<r?(u.push(a.files[f]),r-=a.files[f].size):t.push("Max Upload Size Exceeded");a.files=u}if(t.length?(a={files:[]},e.target.files=(0,i.Z)([])):e.target.hasAttribute("multiple")?e.target.files=i.Z.apply(void 0,a.files):(e.target.files=(0,i.Z)(a.files[a.files.length-1]),a={files:[]}),e.target.files.length>0){e.target.parentNode.querySelector(".btcd-f-title").innerHTML=e.target.files.length+" File Selected",e.target.parentNode.parentNode.querySelector(".btcd-files").innerHTML="";for(var m=0;m<e.target.files.length;m+=1){var p=null;p=e.target.files[m].type.match(/image-*/)?window.URL.createObjectURL(e.target.files[m]):"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAzNTIgNDI5LjEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM1MiA0MjkuMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6IzAwNEJCNzt9DQo8L3N0eWxlPg0KPHBhdGggZD0iTTQwOC44LDY2Ljh2MzI3LjRjMCwyNy40LDIyLjgsNDkuOCw1MC4zLDQ5LjhoMjM5LjNjMjcuNSwwLDQ5LjgtMjIuMyw0OS44LTQ5LjhWMTE2Yy0wLjEtMi42LTEuMi01LjItMy4xLTdsLTg4LjktODkuMQ0KCWMtMS45LTEuOS00LjQtMi45LTcuMS0yLjloLTE5MEM0MzEuNiwxNyw0MDguOCwzOS40LDQwOC44LDY2Ljh6IE03MTMuOCwxMDUuOUg2ODNjLTYuMywwLTEyLjQtMi41LTE2LjgtNi45DQoJYy00LjUtNC41LTctMTAuNS02LjktMTYuOHYtMzFMNzEzLjgsMTA1Ljl6IE00MjguOCw2Ni44YzAtMTYuNSwxMy45LTI5LjgsMzAuMy0yOS44aDE4MC4ydjQ1LjFjMCwxMS42LDQuNiwyMi43LDEyLjgsMzENCgljOC4yLDguMiwxOS4zLDEyLjgsMzAuOSwxMi44aDQ1LjF2MjY4LjVjMCwxNi41LTEzLjksMjkuOC0zMC4zLDI5LjhINDU5LjFjLTE2LjYsMC0zMC4zLTEzLjQtMzAuMy0yOS44VjY2Ljh6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjc3LjIsMTY2LjlIMTMwLjZjLTUuMSwwLTkuMiw0LjEtOS4yLDkuMnM0LjEsOS4yLDkuMiw5LjJoMTQ2LjVjNS4xLDAsOS4yLTQuMSw5LjItOS4xDQoJQzI4Ni40LDE3MSwyODIuMywxNjYuOSwyNzcuMiwxNjYuOXoiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik05My41LDE2Ni45SDY2LjRjLTUuMSwwLTkuMiw0LjEtOS4yLDkuMnM0LjEsOS4yLDkuMiw5LjJoMjcuMWM1LjEsMCw5LjItNC4xLDkuMi05LjJTOTguNiwxNjYuOSw5My41LDE2Ni45eiINCgkvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI3Ny4yLDI0MC4zSDEzMC42Yy01LjEsMC05LjIsNC4xLTkuMiw5LjJjMCw1LjEsNC4xLDkuMiw5LjIsOS4yaDE0Ni41YzUuMSwwLDkuMi00LjEsOS4yLTkuMQ0KCVMyODIuMywyNDAuNCwyNzcuMiwyNDAuM3oiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik05My41LDI0MC4zSDY2LjRjLTUuMSwwLTkuMiw0LjEtOS4yLDkuMmMwLDUuMSw0LjEsOS4yLDkuMiw5LjJoMjcuMWM1LjEsMCw5LjItNC4xLDkuMi05LjINCglDMTAyLjcsMjQ0LjQsOTguNiwyNDAuMyw5My41LDI0MC4zeiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI3Ny4yLDMxMy44SDEzMC42Yy01LjEsMC05LjIsNC4xLTkuMiw5LjJjMCw1LjEsNC4xLDkuMiw5LjIsOS4yaDE0Ni41YzUuMSwwLDkuMi00LjEsOS4yLTkuMQ0KCUMyODYuNCwzMTgsMjgyLjMsMzEzLjgsMjc3LjIsMzEzLjh6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOTMuNSwzMTMuOEg2Ni40Yy01LjEsMC05LjIsNC4xLTkuMiw5LjJjMCw1LjEsNC4xLDkuMiw5LjIsOS4yaDI3LjFjNS4xLDAsOS4yLTQuMSw5LjItOS4yDQoJQzEwMi43LDMxNy45LDk4LjYsMzEzLjgsOTMuNSwzMTMuOHoiLz4NCjxnPg0KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNjMsNDEyLjFIODljLTQxLjQsMC03NS0zMy42LTc1LTc1di0yNDVjMC00MS40LDMzLjYtNzUsNzUtNzVoMTQ3LjVjOCwwLDE1LjcsMywyMS42LDguNWw2OSw2My42DQoJCWM2LjksNi4zLDEwLjgsMTUuMywxMC44LDI0Ljd2MjIzLjJDMzM4LDM3OC40LDMwNC40LDQxMi4xLDI2Myw0MTIuMXogTTg5LDM3LjNjLTMwLjIsMC01NC43LDI0LjYtNTQuNyw1NC43djI0NQ0KCQljMCwzMC4yLDI0LjYsNTQuNyw1NC43LDU0LjdoMTc0YzMwLjIsMCw1NC43LTI0LjYsNTQuNy01NC43VjExMy44YzAtMy43LTEuNi03LjMtNC4zLTkuOGwtNjktNjMuNmMtMi4yLTItNS0zLjEtNy45LTMuMUg4OXoiLz4NCjwvZz4NCjwvc3ZnPg0K",e.target.parentNode.parentNode.querySelector(".btcd-files").insertAdjacentHTML("beforeend",'<div>\n                      <img src="'+p+'" alt="img"  title="'+e.target.files[m].name+'">\n                      <div style="display:inherit">\n                          <span title="'+e.target.files[m].name+'">'+e.target.files[m].name+"</span>\n                          <br/>\n                          <small>"+l(e.target.files[m].size)+'</small>\n                      </div>\n                      <button type="button" data-index="'+m+'" title="Remove This File"><span style="pointer-events:none">&times;</span></button>\n                  </div>')}}t.length>0&&function(){for(var n=0;n<t.length;n+=1)e.target.parentNode.parentNode.querySelector(".btcd-files").insertAdjacentHTML("afterbegin",'\n              <div style="background: #fff2f2;color: darkred;display:none" class="btcd-f-err">\n                  <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjg2LjA1NCIgaGVpZ2h0PSIyODYuMDU0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgoKIDxnPgogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4KICA8cmVjdCBmaWxsPSJub25lIiBpZD0iY2FudmFzX2JhY2tncm91bmQiIGhlaWdodD0iNDAyIiB3aWR0aD0iNTgyIiB5PSItMSIgeD0iLTEiLz4KIDwvZz4KIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8ZyBzdHJva2U9Im51bGwiIGlkPSJzdmdfMSI+CiAgIDxwYXRoIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z18yIiBmaWxsPSIjOTEwNjAxIiBkPSJtMTQzLjAyNjk5Nyw1Ni4wMDAwMDVjLTQ4LjA2MDg2NSwwIC04Ny4wMjY5OTcsMzguOTY2MTMxIC04Ny4wMjY5OTcsODcuMDI2OTk3YzAsNDguMDY2MzQyIDM4Ljk2NjEzMSw4Ny4wMjY5OTcgODcuMDI2OTk3LDg3LjAyNjk5N2M0OC4wNjYzNDIsMCA4Ny4wMjY5OTcsLTM4Ljk1NTE3OSA4Ny4wMjY5OTcsLTg3LjAyNjk5N2MwLC00OC4wNjA4NjUgLTM4Ljk2MTI2NCwtODcuMDI2OTk3IC04Ny4wMjY5OTcsLTg3LjAyNjk5N3ptMCwxNTcuNzM2MTY2Yy0zOS4wNTMxNDIsMCAtNzAuNzA5MTY5LC0zMS42NTYwMjcgLTcwLjcwOTE2OSwtNzAuNzA5MTY5czMxLjY1NjAyNywtNzAuNzA5MTY5IDcwLjcwOTE2OSwtNzAuNzA5MTY5czcwLjcwOTE2OSwzMS42NTYwMjcgNzAuNzA5MTY5LDcwLjcwOTE2OXMtMzEuNjU2MDI3LDcwLjcwOTE2OSAtNzAuNzA5MTY5LDcwLjcwOTE2OXptMC4wMDU0NzYsLTExOS41Njk1NThjLTYuMjMzMTIxLDAgLTEwLjk0OTMzNywzLjI1Mjg1NyAtMTAuOTQ5MzM3LDguNTA2OTU2bDAsNDguMTkxMDc3YzAsNS4yNTk1NzYgNC43MTU2MDgsOC41MDE0OCAxMC45NDkzMzcsOC41MDE0OGM2LjA4MTAwNCwwIDEwLjk0OTMzNywtMy4zNzc1OTIgMTAuOTQ5MzM3LC04LjUwMTQ4bDAsLTQ4LjE5MTA3N2MtMC4wMDA2MDgsLTUuMTI5MzY0IC00Ljg2ODMzMywtOC41MDY5NTYgLTEwLjk0OTMzNywtOC41MDY5NTZ6bTAsNzYuMDU2MzY0Yy01Ljk4ODUxOCwwIC0xMC44NjIzMjYsNC44NzM4MDkgLTEwLjg2MjMyNiwxMC44NjcxOTRjMCw1Ljk4MzA0MSA0Ljg3MzgwOSwxMC44NTY4NSAxMC44NjIzMjYsMTAuODU2ODVzMTAuODU2ODUsLTQuODczODA5IDEwLjg1Njg1LC0xMC44NTY4NWMtMC4wMDA2MDgsLTUuOTkzOTk0IC00Ljg2ODMzMywtMTAuODY3MTk0IC0xMC44NTY4NSwtMTAuODY3MTk0eiIvPgogIDwvZz4KICA8ZyBpZD0ic3ZnXzMiLz4KICA8ZyBpZD0ic3ZnXzQiLz4KICA8ZyBpZD0ic3ZnXzUiLz4KICA8ZyBpZD0ic3ZnXzYiLz4KICA8ZyBpZD0ic3ZnXzciLz4KICA8ZyBpZD0ic3ZnXzgiLz4KICA8ZyBpZD0ic3ZnXzkiLz4KICA8ZyBpZD0ic3ZnXzEwIi8+CiAgPGcgaWQ9InN2Z18xMSIvPgogIDxnIGlkPSJzdmdfMTIiLz4KICA8ZyBpZD0ic3ZnXzEzIi8+CiAgPGcgaWQ9InN2Z18xNCIvPgogIDxnIGlkPSJzdmdfMTUiLz4KICA8ZyBpZD0ic3ZnXzE2Ii8+CiAgPGcgaWQ9InN2Z18xNyIvPgogPC9nPgo8L3N2Zz4=" alt="img">\n                  <span>'+t[n]+"</span>\n              </div>");for(var i=e.target.parentNode.parentNode.querySelectorAll(".btcd-files>.btcd-f-err"),a=function(e){!function(e){var t=.01;e.style.opacity=t,e.style.display="flex";var n=setInterval((function(){t>=1&&clearInterval(n),e.style.opacity=t,e.style.filter="alpha(opacity="+100*t+")",t+=.1*t}),13)}(i[e]),setTimeout((function(){!function(e){var t=1,n=setInterval((function(){t<=.1&&(clearInterval(n),e.style.display="none"),e.style.opacity=t,e.style.filter="alpha(opacity="+100*t+")",t-=.1*t}),50)}(i[e])}),3e3),setTimeout((function(){i[e].remove()}),4e3)},r=0;r<i.length;r+=1)a(r);t=[]}()}},48472:(e,t,n)=>{function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r,l;function s(e){var t,n=e.form,i=e.input;if(n)r=n;else if(null!=i&&null!=(t=i.form)&&t.id){var a=i.form.id.split("form-");r=a[1]}if("undefined"===typeof window[r])return!1;var s={};if(l=window[r].fields,n)s=d();else if(i){var u,f;if(!window[r].validateFocusLost)return!0;var m=o(i.name);(u={})[m]=i.value,s=u,(f={})[m]=l[m],l=f}for(var M=!0,I=Object.entries(l),N=I.length;N--;){var D,w=I[N],T=w[0],L=w[1],_=L.typ,S="string"===typeof s[T]?s[T].trim():s[T],C=document.querySelector("#form-"+r+" ."+T);if("none"!==window.getComputedStyle(C).display){var k,A="";if(S)"number"===_?A=p(S,L):"email"===_?A=y(S,L):"url"===_?A=h(S,L):"decision-box"===_?A=b(S,L):"check"===_||"select"===_?A=j(S,L):"file-up"===_&&(A=v(S,L)),null!=L&&null!=(D=L.valid)&&D.regexr&&(A=x(S,L))?(c(A,T,L),M=!1):(c(A,T,L),A&&(M=!1));else"check"===_&&(A=g(S,L)),null!=L&&null!=(k=L.valid)&&k.req&&(A="req"),c(A,T,L),A&&(M=!1)}else c("",T)}return M}n.r(t),n.d(t,{default:()=>s});var o=function(e){return"[]"===e.slice(-2)?e.slice(0,e.length-2):e},d=function(){for(var e,t={},n=i(new FormData(document.getElementById("form-"+r)).entries());!(e=n()).done;){var a=e.value,s=a[0],d=a[1],c=o(s);c in l&&(t[c]?(Array.isArray(t[c])||(t[c]=[t[c]]),t[c].push(d)):t[c]=d)}return t},c=function(e,t,n){var i,a,l=document.querySelector("#form-"+r+" #"+t+"-error");l&&"err"in(n||{})&&(e&&null!=n&&null!=(i=n.err)&&null!=(a=i[e])&&a.show?(l.innerHTML=n.err[e].custom?n.err[e].msg:n.err[e].dflt,l.parentElement.style.marginTop="5px",l.parentElement.style.height=l.offsetHeight+"px",u(t)):(l.parentElement.style.marginTop=0,l.parentElement.style.height=0))},u=function(e){var t=document.querySelector("#form-"+r+" .btcd-fld-itm."+e),n=document.body.getBoundingClientRect(),i=t.getBoundingClientRect().top-n.top;f(t)||window.scroll({top:i,behavior:"smooth"})},f=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},m=function(e){return(e||"").split("$_bf_$").join("\\")},p=function(e,t){return t.mn&&Number(e)<Number(t.mn)?"mn":t.mx&&Number(e)>Number(t.mx)?"mx":""},y=function(e,t){return t.err.invalid.show?new RegExp(m(t.pattern)).test(e)?"":"invalid":""},h=function(e,t){return t.err.invalid.show?new RegExp(m(t.attr.pattern)).test(e)?"":"invalid":""},b=function(e,t){return t.valid.req&&e!==t.msg.checked?"req":""},g=function(e,t){var n;return null!=t&&null!=(n=t.opt)&&n.find((function(t){return t.req&&!(e||[]).includes(t.lbl)}))?"req":""},v=function(e,t){return!t.valid.req||Array.isArray(e)||e.name?"":"req"},x=function(e,t){return new RegExp(m(t.valid.regexr),t.valid.flags||"").test(e)?"":"regexr"},j=function(e,t){var n=Array.isArray(e)?e:(e||"").split(","),i=Number(t.mn)||0,a=Number(t.mx)||t.opt.length;return n.length<i?"mn":n.length>a?"mx":"check"===t.typ?g(e,t):""}},22363:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGJhc2VQcm9maWxlPSJ0aW55IiB2ZXJzaW9uPSIxLjIiIHZpZXdCb3g9IjAgMCAzOTIuOSA0MDIuMyI+PGRlZnMvPjxwYXRoIGZpbGw9IiNGMUY0RkEiIGQ9Ik00NSAxMjhzNjUtMzggNzgtNjhTMjYyLTIgMzQ3IDk5czI5IDEzMCAxOCAxMzRjLTExIDUtODEgNy0xMTkgMTI5Uzc5IDI5MSA1MyAyODNzLTcxLTEwOS04LTE1NXoiLz48cGF0aCBmaWxsPSIjRjdFRUY1IiBkPSJNMTM5IDM4NEM5NiAzNzQgMTAgMjI3IDAgMTU4czE5OC00MiAyMTUtMjEgOTcgMjUgMTMxIDc5LTE3IDkwLTE2IDk4YzEgMTEtMTQ4IDgxLTE5MSA3MHoiLz48cGF0aCBmaWxsPSIjRERGMUY4IiBkPSJNMjIyIDMyNUg3MmMtOCAwLTE0LTctMTQtMTRWMTAxYzAtOCA2LTE0IDE0LTE0aDE1MGM4IDAgMTQgNiAxNCAxNHYyMTBjMCA4LTYgMTQtMTQgMTR6Ii8+PHBhdGggZmlsbD0iIzFDMjk1NSIgZD0iTTIyMiAzMjdINzJjLTkgMC0xNi03LTE2LTE2VjEwMWMwLTkgNy0xNyAxNi0xN2gxNTBjOSAwIDE2IDggMTYgMTd2MjEwYzEgOS03IDE2LTE2IDE2ek03MiA4OWMtNiAwLTExIDYtMTEgMTJ2MjEwYzAgNiA1IDExIDExIDExaDE1MGM2IDAgMTEtNSAxMS0xMVYxMDFjMS03LTUtMTItMTEtMTJINzJ6Ii8+PHBhdGggZmlsbD0iIzlEQ0JFRCIgZD0iTTExOSAzMjJWMTcxYzAtMTAgOC0xOSAxOS0xOWg5NXYxNjlsLTExNCAxeiIvPjxwYXRoIGZpbGw9IiNGRUZCRTMiIGQ9Ik0yOTMgMzkySDE0M2MtOCAwLTE0LTYtMTQtMTRWMTc2YzAtOCA2LTE0IDE0LTE0aDE1MGM3IDAgMTMgNiAxMyAxM3YyMDNjMSA4LTYgMTQtMTMgMTR6Ii8+PHBhdGggZmlsbD0iIzFDMjk1NSIgZD0iTTI5MyAzOTRIMTQzYy05IDAtMTctNy0xNy0xNlYxNzZjMC05IDgtMTcgMTctMTdoMTUwYzkgMCAxNiA3IDE2IDE2djIwM2MwIDktNyAxNi0xNiAxNnpNMTQzIDE2NGMtNyAwLTEyIDUtMTIgMTJ2MjAyYzAgNiA1IDExIDEyIDExaDE1MGM2IDAgMTEtNSAxMS0xMVYxNzZjMC03LTUtMTItMTEtMTJIMTQzeiIvPjxwYXRoIGZpbGw9IiMxQzI5NTUiIGQ9Ik0xOTUgMTIwSDgzYy0zIDAtNC0yLTQtNXYxYzAtMyAyLTUgNC01aDExMmMyIDAgNCAyIDQgNSAwIDItMiA0LTQgNHptLTY2IDI0YzAtMi0yLTQtNC00SDgzYy0zIDAtNCAyLTQgNHMyIDQgNCA0aDQyYzIgMCA0LTIgNC00em0xNDEgNDRjMC0zLTItNS00LTVIMTUzYy0yIDEtNCAyLTQgNSAwIDIgMiA0IDQgNGgxMTNjMiAwIDQtMiA0LTR6TTI2OCAzNThIMTUzYy0yIDAtNC0yLTQtNSAwLTIgMi00IDQtNGgxMTVjMyAwIDQgMiA0IDQgMCAzLTIgNS00IDV6Ii8+PHBhdGggZD0iTTIyNSAyNThsLTM3IDM4aC0zdi0zbDM4LTM4aDJ2M3oiLz48cGF0aCBkPSJNMjIzIDI5NmwtMzgtMzh2LTNoM2wzNyAzOHYzaC0yeiIvPjxwYXRoIGZpbGw9IiNFOEY0RkMiIGQ9Ik0yNjEgMzA5YTYzIDYzIDAgMTEtOTctODF2MWMyMi0yNyA2Mi0zMSA4OS05IDI3IDIzIDMwIDYyIDggODl6Ii8+PHBhdGggZmlsbD0iIzFDMjk1NSIgZD0iTTIxMiAzMzRhNjUgNjUgMCAwMS01MC0xMDYgNjUgNjUgMCAxMTEwMSA4MyA2NSA2NSAwIDAxLTUxIDIzem0xLTEyNmgtNmE2MSA2MSAwIDEwNTMgMTAwaC0xYTYxIDYxIDAgMDAtNDYtMTAweiIvPjxwYXRoIGZpbGw9IiM5RENCRUQiIGQ9Ik0yNTYgMzE2bDExLTEzIDI0IDE5LTEyIDE0eiIvPjxwYXRoIGZpbGw9IiMxQzI5NTUiIGQ9Ik0yODAgMzM5bC0yNy0yMiAxNC0xNyAyNyAyMi0xNCAxN3ptLTIxLTIzbDIwIDE3IDktMTAtMjEtMTctOCAxMHoiLz48cGF0aCBmaWxsPSIjRkZFOUM1IiBkPSJNMzY1IDM4MmwtMTMgMTZjLTMgMi03IDMtMTAgMGwtNjMtNTJjLTItMi0zLTYtMS05bDE0LTE2YzItMyA2LTMgOS0xbDYzIDUyYzMgMyAzIDcgMSAxMHoiLz48cGF0aCBmaWxsPSIjMUMyOTU1IiBkPSJNMzQ3IDQwMmwtNi0yLTYzLTUyLTMtNiAyLTYgMTMtMTZjMy00IDktNCAxMi0xbDYzIDUyYzIgMSAzIDMgMyA2IDEgMiAwIDQtMiA2bC0xMyAxNmMtMSAyLTMgMy01IDNoLTF6bS01MC04MWwtNCAxLTEzIDE2LTEgNCAyIDMgNjMgNTIgMyAxIDMtMiAxMy0xNmMxLTEgMi0yIDEtM2wtMS0zLTYzLTUyLTMtMXpNMjQ1IDI0MWE1MCA1MCAwIDAwLTU5LTExbC0yLTNjMC0xIDMzLTE5IDYzIDExbC0yIDN6TTIzMiAyNzBsLTMzIDMyaC0xdi0xbDMyLTMzaDJ2MnptLTIgMzF2LTJsLTMzLTMyaC0ydjFsMzMgMzNoMnoiLz48cGF0aCBmaWxsPSIjQTRBREQ4IiBkPSJNODAgNTFINjVWMzZoMTV2MTV6bS0xMy0yaDExVjM4SDY3djExeiIvPjxwYXRoIGZpbGw9IiNCQUQyRUUiIGQ9Ik0yNzkgMTI5YTcgNyAwIDExMC0xNCA3IDcgMCAxMTAgMTR6bTAtMTJjLTMgMC02IDItNiA1czMgNSA2IDUgNS0yIDUtNS0yLTUtNS01eiIvPjxwYXRoIGZpbGw9IiM5RTlEOUUiIGQ9Ik0zNTQgMjYzbC0zLTUtNS0zIDUtMyAzLTUgMyA1IDUgMy01IDMtMyA1em0tMy04bDIgMSAxIDMgMi0zIDItMS0yLTEtMi0zLTEgMy0yIDF6Ii8+PHBhdGggZmlsbD0iI0NFRDhFRSIgZD0iTTI3MCAxNmwtMy01LTUtMyA1LTMgMy01IDMgNSA1IDMtNSAzLTMgNXptLTQtOGwyIDEgMiAyIDEtMiAyLTEtMi0xLTEtMy0yIDMtMiAxeiIvPjxwYXRoIGZpbGw9IiNGQ0RDRTUiIGQ9Ik0yNSAyNTJIOGw5LTE1IDggMTV6bS0xMy0yaDEwbC01LTktNSA5ek0xNzcgNjloLTJWNTdoMnYxMnptNS03aC0xMnYyaDEydi0yeiIvPjwvc3ZnPg=="}}]);